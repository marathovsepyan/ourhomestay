{"version":3,"sources":["meteor://💻app/lib/collections/collections.js","meteor://💻app/lib/collections/homestay.js","meteor://💻app/lib/routers/router.js","meteor://💻app/imports/api/admin/agency/server/publications.js","meteor://💻app/imports/api/admin/agency/methods.js","meteor://💻app/imports/api/admin/settings/server/publications.js","meteor://💻app/imports/api/admin/settings/methods.js","meteor://💻app/imports/api/admin/settings/settings.js","meteor://💻app/imports/api/admin/students/server/publications.js","meteor://💻app/imports/api/admin/students/methods.js","meteor://💻app/imports/api/admin/university/server/publications.js","meteor://💻app/imports/api/admin/university/methods.js","meteor://💻app/imports/api/admin/homestays/methods.js","meteor://💻app/imports/api/booking/server/publications.js","meteor://💻app/imports/api/booking/bookings.js","meteor://💻app/imports/api/booking/methods.js","meteor://💻app/imports/api/comments/server/publications.js","meteor://💻app/imports/api/comments/comments.js","meteor://💻app/imports/api/comments/methods.js","meteor://💻app/imports/api/homestays/server/publications.js","meteor://💻app/imports/api/homestays/homestays.js","meteor://💻app/imports/api/homestays/methods.js","meteor://💻app/imports/api/payment/server/publications.js","meteor://💻app/imports/api/payment/methods.js","meteor://💻app/imports/api/payment/payments.js","meteor://💻app/imports/api/ratings/server/publications.js","meteor://💻app/imports/api/ratings/methods.js","meteor://💻app/imports/api/ratings/ratings.js","meteor://💻app/imports/api/user/server/publications.js","meteor://💻app/imports/api/user/methods.js","meteor://💻app/imports/api/email/email.js","meteor://💻app/imports/api/email/method.js","meteor://💻app/imports/api/email/methods.js","meteor://💻app/imports/ui/pages/account/AccountOrders.jsx","meteor://💻app/imports/ui/pages/account/ListTransactions.jsx","meteor://💻app/imports/ui/pages/admin/AddUser.jsx","meteor://💻app/imports/ui/pages/admin/ListAgency.jsx","meteor://💻app/imports/ui/pages/admin/ListHomestay.jsx","meteor://💻app/imports/ui/pages/admin/ListStudents.jsx","meteor://💻app/imports/ui/pages/admin/ListUniversities.jsx","meteor://💻app/imports/ui/pages/admin/Settings.jsx","meteor://💻app/imports/ui/pages/AboutUs.jsx","meteor://💻app/imports/ui/pages/Account.jsx","meteor://💻app/imports/ui/pages/AccountSettings.jsx","meteor://💻app/imports/ui/pages/BookRoom.jsx","meteor://💻app/imports/ui/pages/ConfirmBooking.jsx","meteor://💻app/imports/ui/pages/CreateHomestay.jsx","meteor://💻app/imports/ui/pages/CreateResidence.jsx","meteor://💻app/imports/ui/pages/ForgotPassword.jsx","meteor://💻app/imports/ui/pages/HomePage.jsx","meteor://💻app/imports/ui/pages/HomestayProfile.jsx","meteor://💻app/imports/ui/pages/ListOrder.jsx","meteor://💻app/imports/ui/pages/Login.jsx","meteor://💻app/imports/ui/pages/MoreDetails.jsx","meteor://💻app/imports/ui/pages/PaymentPage.jsx","meteor://💻app/imports/ui/pages/ResetPassword.jsx","meteor://💻app/imports/ui/pages/SearchResult.jsx","meteor://💻app/imports/ui/pages/Signup.jsx","meteor://💻app/imports/ui/pages/ThankYou.jsx","meteor://💻app/imports/ui/pages/UniversityProfile.jsx","meteor://💻app/imports/ui/pages/UpdateHomestay.jsx","meteor://💻app/imports/ui/pages/UpdateResidence.jsx","meteor://💻app/imports/ui/pages/UserProfile.jsx","meteor://💻app/imports/ui/components/PaginationBar.jsx","meteor://💻app/imports/ui/layouts/AccountLayout.jsx","meteor://💻app/imports/ui/layouts/AuthLayout.jsx","meteor://💻app/imports/ui/layouts/DashboardLayout.jsx","meteor://💻app/imports/ui/layouts/ErrorLayout.jsx","meteor://💻app/imports/ui/layouts/MainLayout.jsx","meteor://💻app/imports/ui/layouts/ProfileLayout.jsx","meteor://💻app/imports/ui/shared/Footer.jsx","meteor://💻app/imports/ui/shared/Header.jsx","meteor://💻app/imports/ui/shared/Modal.jsx","meteor://💻app/imports/ui/shared/Panel.jsx","meteor://💻app/imports/ui/shared/Sidebar.jsx","meteor://💻app/imports/startup/server/index.js","meteor://💻app/imports/startup/server/registerApi.js","meteor://💻app/imports/helper/constants.js","meteor://💻app/server/accounts/socialSettings.js","meteor://💻app/server/emailConfig/emailConfig.js","meteor://💻app/server/emailConfig/smtpConfig.js","meteor://💻app/server/methods.js","meteor://💻app/server/publish.js","meteor://💻app/server/main.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["// if (Meteor.isClient) {  \n//   // Client side Collection\n//   // for manage plans and user saved card details\n//   Cards = new Mongo.Collection('cards');\n//   Plans = new Mongo.Collection('plans');\n// }\n\n// var imageStore = new FS.Store.GridFS(“images”);\n\n// Images = new FS.Collection(“images”, {\n//  stores: [imageStore]\n// });\nif (Meteor.isClient) {  \n  // Client side Collection\n  // for manage plans and user saved card details\n  Cards = new Mongo.Collection('cards');\n\n}","import { Homestays } from '../../imports/api/homestays/homestays.js';\nHomestayIndex = new EasySearch.Index({\n  collection: Homestays,\n  name:'homestays',\n  fields: ['country','city','tenant_gender','tenant_smoker','tenant_age'],\n  engine: new EasySearch.MongoDB({\n    selector: function (searchObject, options, aggregation) {\n      // let selector = this.defaultConfiguration().selector(searchObject, options, aggregation);\n      console.log(\"searchObject---11111--->\", searchObject['tenant_smoker']);\n      console.log(\"{ $in: [searchObject.tenant_smoker] }---->\", { $in: [searchObject.tenant_smoker] });\n\n      if(searchObject['tenant_smoker'])\n        searchObject['tenant_smoker'] = { $in: [searchObject.tenant_smoker] }\n        console.log(\"searchObject['tenant_smoker']---22222---->\", searchObject['tenant_smoker'])\n      if(searchObject['tenant_gender'])\n        searchObject['tenant_gender'] = { $in: [searchObject.tenant_gender] }\n      searchObject['status'] = 'active'\n      let selector = searchObject\n      return selector;\n    }\n  }),\n  defaultSearchOptions: {\n    limit: 6\n  },\n  noDocumentsOnEmpty:true\n});\n","import React from 'react';\nimport { FlowRouter } from 'meteor/kadira:flow-router';\nimport { mount } from 'react-mounter';\n\nimport {MainLayout}         from '../../imports/ui/layouts/MainLayout.jsx';\nimport {AuthLayout}         from '../../imports/ui/layouts/AuthLayout.jsx';\nimport {ErrorLayout}        from '../../imports/ui/layouts/ErrorLayout.jsx';\nimport {ProfileLayout}      from '../../imports/ui/layouts/ProfileLayout.jsx';\nimport {AccountLayout}      from '../../imports/ui/layouts/AccountLayout.jsx';\nimport {DashboardLayout}    from '../../imports/ui/layouts/DashboardLayout.jsx';\nimport AddUser              from '../../imports/ui/pages/admin/AddUser.jsx';\nimport Settings             from '../../imports/ui/pages/admin/Settings.jsx';\nimport ListStudents         from '../../imports/ui/pages/admin/ListStudents.jsx';\nimport ListAgencies         from '../../imports/ui/pages/admin/ListAgency.jsx';\nimport ListHomestays        from '../../imports/ui/pages/admin/ListHomestay.jsx';\n\n// import HomestayList from '../../imports/ui/pages/admin/HomestayList.jsx';\n\nimport ListUniversities     from '../../imports/ui/pages/admin/ListUniversities.jsx';\nimport CreateHomestay       from '../../imports/ui/pages/CreateHomestay.jsx';\nimport UpdateHomestay       from '../../imports/ui/pages/UpdateHomestay.jsx';\nimport AccountSettings      from '../../imports/ui/pages/AccountSettings.jsx';\nimport CreateResidence      from '../../imports/ui/pages/CreateResidence.jsx';\nimport UpdateResidence      from '../../imports/ui/pages/UpdateResidence.jsx';\nimport HomestayProfile      from '../../imports/ui/pages/HomestayProfile.jsx';\nimport Login                from '../../imports/ui/pages/Login.jsx';\nimport ForgotPassword       from '../../imports/ui/pages/ForgotPassword.jsx';\nimport ResetPassword       from '../../imports/ui/pages/ResetPassword.jsx';\nimport Signup               from '../../imports/ui/pages/Signup.jsx';\nimport HomePage             from '../../imports/ui/pages/HomePage.jsx';\nimport UserProfile          from '../../imports/ui/pages/UserProfile.jsx';\nimport UniversityProfile    from '../../imports/ui/pages/UniversityProfile.jsx';\nimport SearchResult         from '../../imports/ui/pages/SearchResult.jsx';\nimport BookRoom             from '../../imports/ui/pages/BookRoom.jsx';\nimport PaymentPage          from '../../imports/ui/pages/PaymentPage.jsx';\nimport ThankYouPage         from '../../imports/ui/pages/ThankYou.jsx';\nimport ConfirmBooking       from '../../imports/ui/pages/ConfirmBooking.jsx';\nimport ListOrders           from '../../imports/ui/pages/ListOrder.jsx';\nimport AccountOrders        from '../../imports/ui/pages/account/AccountOrders.jsx';\nimport ListTransactions     from '../../imports/ui/pages/account/ListTransactions.jsx';\nimport AccountForm          from '../../imports/ui/pages/Account.jsx';\nimport AboutUs              from '../../imports/ui/pages/AboutUs.jsx';\nimport MoreDetails              from '../../imports/ui/pages/MoreDetails.jsx';\n\n\nvar publicRouter = FlowRouter.group({\n  name: 'public',\n  triggersEnter: [()=>{console.log('Running on a public page, Yo!');}]\n});\n\nvar privateRouter = FlowRouter.group({\n    name: 'private',\n    triggersEnter: [function(context, redirect){\n        if(Meteor.isClient){\n            if(!Meteor.userId()){\n                redirect('/login');\n            }\n        }\n    }]\n});\n\nvar adminRoutes = FlowRouter.group({\n  name: 'admin',\n  triggersEnter: [function(context, redirect) {\n    if(Meteor.isClient){\n        if(!Meteor.userId()){\n            redirect('/login');\n        }\n    }\n  }]\n});\n\npublicRouter.route('/error/:code', {\n    action(params) {\n        mount(ErrorLayout, {\n            content : 'Oops!. Page Not Found'\n        });\n    }\n});\n\npublicRouter.route('/noaccess', {\n    name: 'noaccess',\n    action(params) {\n        mount(ErrorLayout, {\n            content : 'You are not authorised to access this page'\n        });\n    }\n});\npublicRouter.route('/login', {\n    name: 'login',\n    action() {\n        mount(AuthLayout, {\n            content: <Login />\n        });\n    }\n});\n\npublicRouter.route('/forgot-password', {\n    name: 'forgotPassword',\n    action() {\n        mount(AuthLayout, {\n            content: <ForgotPassword />\n        });\n    }\n});\n\npublicRouter.route('/reset-password/:_resetPasswordToken', {\n    name: 'resetPassword',\n    action() {\n        mount(AuthLayout, {\n            content: <ResetPassword />\n        });\n    }\n});\n\npublicRouter.route('/register', {\n    name: 'register',\n    action() {\n        mount(AuthLayout, {\n            content: <Signup />\n        });\n    }\n});\n \npublicRouter.route('/', {\n    name: 'home',\n    action() {\n        mount(MainLayout, {\n            content: <HomePage />\n        });\n    }\n});\npublicRouter.route('/search', {\n    name: 'search',\n    action() {\n        mount(MainLayout, {\n            content: <SearchResult />\n        });\n    }\n});\n\nadminRoutes.route('/admin/students', {\n    name            : 'admin-listStudents',\n    action() {\n        mount(MainLayout, {\n            content: <ListStudents />\n        });\n    }\n});\n\nadminRoutes.route('/admin/agency', {\n    name            : 'admin-listAgency',\n    action() {\n        mount(MainLayout, {\n            content: <ListAgencies />\n        });\n    }\n});\n\nadminRoutes.route('/admin/homestays', {\n    name            : 'admin-listHomestay',\n    action() {\n        mount(MainLayout, {\n            content: <ListHomestays />\n        });\n    }\n});\n\nadminRoutes.route('/admin/universityResidence', {\n    name            : 'admin-listUniversity',\n    action() {\n        mount(MainLayout, {\n            content: <ListUniversities />\n        });\n    }\n});\n\nadminRoutes.route('/admin/createuser', {\n    name: 'admin-adduser',\n    action() {\n        mount(MainLayout, {\n            content: <AddUser />\n        });\n    }\n});\n\nadminRoutes.route('/admin/settings', {\n    name: 'admin-settings',\n    action() {\n        mount(MainLayout, {\n            content: <Settings />\n        });\n    }\n});\n\nadminRoutes.route('/admin/createHomestay', {\n        name: 'admin-createHomestay',\n        action() {\n            mount(MainLayout, {\n                content: <CreateHomestay />\n            });\n        }\n});\nadminRoutes.route('/admin/manageHomestay', {\n        name: 'admin-manageHomestay',\n        action() {\n            mount(MainLayout, {\n                content: <UpdateHomestay />\n            });\n        }\n});\n\nadminRoutes.route('/admin/createResidence', {\n        name: 'admin-createResidence',\n        action() {\n            mount(MainLayout, {\n                content: <CreateResidence />\n            });\n        }\n});\n\nadminRoutes.route('/admin/manageResidence', {\n        name: 'admin-manageResidence',\n        action() {\n            mount(MainLayout, {\n                content: <UpdateResidence />\n            });\n        }\n});\n\nprivateRouter.route('/homestay', {\n    name: 'homestay',\n    action() {\n        if (Meteor.user().profile.homestayId) {\n            mount(MainLayout, {\n                content: <UpdateHomestay />\n            });\n        } else {\n            mount(MainLayout, {\n                content: <CreateHomestay />\n            });\n        }\n    }\n});\n\nprivateRouter.route('/accountSettings', {\n    name: 'accountSettings',\n    action() {\n        if (Meteor.user()) {\n            mount(MainLayout, {\n                content: <AccountSettings />\n            });\n        }\n    }\n});\n\nprivateRouter.route('/universityresidence', {\n    name: 'universityresidence',\n    action() {\n        if (Meteor.user().profile.homestayId) {\n            mount(MainLayout, {\n                content: <UpdateResidence />\n            });\n        } else {\n            mount(MainLayout, {\n                content: <CreateResidence />\n            });\n        }\n    }\n});\nprivateRouter.route('/bookroom/:bookingId', {\n    name: 'book-room',\n    action() {\n        mount(ProfileLayout, {\n            content: <BookRoom />\n        });\n    }\n});\n\nprivateRouter.route('/confirmbooking/:bookingId', {\n    name: 'book-room',\n    action() {\n        mount(ProfileLayout, {\n            content: <ConfirmBooking />\n        });\n    }\n});\nprivateRouter.route('/payment/:bookingId', {\n    name: 'book-room',\n    action() {\n        mount(ProfileLayout, {\n            content: <PaymentPage />\n        });\n    }\n});\n\nprivateRouter.route('/bookingcompleted', {\n    name: 'booking-completed',\n    action() {\n        mount(ProfileLayout, {\n            content: <ThankYouPage />\n        });\n    }\n});\npublicRouter.route('/homestay/:homestayId', {\n    name: 'homestay-profile',\n    action() {\n            mount(MainLayout, {\n                content: <HomestayProfile />\n            });\n    }\n});\nprivateRouter.route('/account', {\n    name: 'homestay-account',\n    action() {\n        mount(MainLayout, {\n            content: <AccountForm />\n        });\n    }\n});\n/*privateRouter.route('/universityresidence/account', {\n    name: 'universityresidence-account',\n    action() {\n        mount(ProfileLayout, {\n            content: <AccountForm />\n        });\n    }\n});*/\nprivateRouter.route('/agency/profile', {\n    name: 'agency-profile',\n    action() {\n        mount(ProfileLayout, {\n            content: <UserProfile />\n        });\n    }\n});\nprivateRouter.route('/student/profile', {\n    name: 'student-profile',\n    action() {\n        mount(ProfileLayout, {\n            content: <UserProfile />\n        });\n    }\n});\n\n\nprivateRouter.route('/universityResidence', {\n    name: 'universityResidence',\n    action() {\n        mount(MainLayout, {\n            content: <UniversityProfile />\n        });\n    }\n});\n\nprivateRouter.route('/logout', {\n    name: 'logout',\n    action() {\n        Meteor.logout(function(err) {\n            redirect('/')\n        })\n    }\n});\n\npublicRouter.route('/orders', {\n    name            : 'list-order',\n    action() {\n        mount(DashboardLayout, {\n            content: <ListOrders />\n        });\n    }\n});\n\npublicRouter.route('/account/orders', {\n    name            : 'account-order',\n    action() {\n        mount(AccountLayout, {\n            content: <AccountOrders />\n        });\n    }\n});\n\npublicRouter.route('/account/transactions', {\n    name            : 'account-transactions',\n    action() {\n        mount(AccountLayout, {\n            content: <ListTransactions />\n        });\n    }\n});\n\npublicRouter.route('/aboutus', {\n    name: 'about-us',\n    action() {\n        mount(AuthLayout, {\n            content: <AboutUs />\n        });\n    }\n});\n\npublicRouter.route('/moredetails', {\n    name: 'more-details',\n    action() {\n        mount(AuthLayout, {\n            content: <MoreDetails />\n        });\n    }\n});\n\nFlowRouter.notFound = {\n    action: function() {\n        //console.log('Not Found yo!');\n        FlowRouter.go('/error/404');\n    }\n};\n\n","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\n\n// publish agency data\nMeteor.publish('agencyList', function(query, limit, skip) {\n    if (skip) {\n        skip = (skip-1)*5;\n    } else {\n        skip = 0\n    }\n\n    Counts.publish(this, 'agency-count', Meteor.users.find(query));\n    var options = {\n        sort:{'createdAt':-1},\n        limit,\n        skip\n    }\n\n    var agency = Meteor.users.find(query,options)\n\n    return agency\n})\n","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\nexport const updateUser = new ValidatedMethod({\n\tname: 'agency.updateUser',\n\tvalidate:  null,\n\trun(user){\n\t\tconsole.log(user)\n\t\tif (!Roles.userIsInRole(this.userId, ['Admin'])) {\n\t\t\tthrow new Meteor.Error('not enough rights', 'Only admin can create new users!');\n\t\t}\n\t\tif(user.userId){\n          \tusers = Meteor.users.update({_id:user.userId},{$set:user.options})\n        } else {\n        \tthrow new Meteor.Error('no data', 'User Id is missing');\n        }\n        return users\n\t}\n})\n\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n    updateUser\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport { Settings } from '../settings.js';\n\n// publish settings data\nMeteor.publish('settings', function() {\n    return Settings.find({})\n})\n","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\nimport { Settings } from './settings.js';\n\n\nexport const updateSettings = new ValidatedMethod({\n\tname: 'settings.update',\n\tvalidate:  null,\n    run (settings) {\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continue\");\n\t\t} else if (Roles.userIsInRole(this.userId, ['Admin'])){\n\t\t\treturn Settings.update({_id:settings._id},{$set:settings})\n\t\t} else {\n\t\t\tthrow new Meteor.Error(\"You are not authorized to do this action\");\n\t\t}\n\t}\n});\n\nexport const createSettings = new ValidatedMethod({\n\tname: 'settings.create',\n\tvalidate:  Settings.schema.validator((err) => {console.log(err)}),\n\trun(settings) {\n\t\tconsole.log('11111111')\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continue\");\n\t\t} else if (Roles.userIsInRole(this.userId, ['Admin'])) {\n\t\t\treturn Settings.insert(settings)\n\t\t} else {\n\t\t\tthrow new Meteor.Error(\"You are not authorized to do this action\");\n\t\t}\n\t}\n})\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport moment from 'moment';\n\n\nclass SettingsCollection extends Mongo.Collection {\n    insert(setting, callback) {\n        if (!setting.created_at) {\n            setting.created_at = new Date();\n        }\n        return super.insert(setting, callback);\n    }\n}\n\nexport const Settings = new SettingsCollection('settings');\n\nSettings.deny({\n    insert() { return true; },\n    update() { return true; },\n    remove() { return true; }\n});\n\nSettings.allow({\n    insert: function (userId, doc) {\n      // allow insert only for logged in user\n      return userId;\n    },\n    update: function (userId, doc, fieldNames, modifier) {\n\n      // allow update only  super-admin\n      if (Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    },\n    remove: function (userId, doc) {\n      // allow remove only super-admin\n      if (Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    }\n  });\n\n\nSettings.schema = new SimpleSchema({\n   commission_amount         : { type: Number , decimal : true },\n   commission_amount_week    : { type: Number , decimal : true },\n   homestay_processing_time  : { type: Number },\n   booking_cancellation      : { type: Number },    \n   created_at   : { type: Date, optional: true }\n})\n\nSettings.attachSchema(Settings.schema);\n","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\n\n// publish student data\nMeteor.publish('studentList', function(query,limit, skip) {\n     if (skip) {\n        skip = (skip-1)*5;\n    } else {\n        skip = 0\n    }\n\n    Counts.publish(this, 'student-count', Meteor.users.find(query));\n\n    var options = {\n        sort:{'createdAt':-1},\n        limit,\n        skip\n    }\n\n    var studentsList = Meteor.users.find(query,options)\n\n    return studentsList\n})","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\nexport const updateUser = new ValidatedMethod({\n\tname: 'students.updateUser',\n\tvalidate:  null,\n\trun(user){\n\t\tconsole.log(user)\n\t\tif (!Roles.userIsInRole(this.userId, ['Admin'])) {\n\t\t\tthrow new Meteor.Error('not enough rights', 'Only admin can update user status!');\n\t\t}\n\t\tif(user.userId){\n          \tusers = Meteor.users.update({_id:user.userId},{$set:user.options})\n        } else {\n        \tthrow new Meteor.Error('no data', 'User Id is missing');\n        }\n        return users\n\t}\n})\n\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n    updateUser\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\n// publish university_reidence users list\nMeteor.publish('universityList', function(limit, skip) {\n    if (skip) {\n        skip = (skip-1)*5;\n    } else {\n        skip = 0\n    }\n\n    var options = {\n        sort:{'createdAt':-1},\n        limit,\n        skip\n    }\n\n    Counts.publish(this, 'university-count', Meteor.users.find({\"roles\":\"University residence\"}));\n    \n    var universityList = Meteor.users.find({\"roles\":\"University residence\"},{fields:{profile:1, roles:1, emails:1}, sort:{'createdAt':-1} , limit:limit, skip:skip})\n\n    return universityList\n})","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\nexport const updateUser = new ValidatedMethod({\n\tname: 'university.updateUser',\n\tvalidate:  null,\n\trun(user){\n\t\tconsole.log(user)\n\t\tif (!Roles.userIsInRole(this.userId, ['Admin'])) {\n\t\t\tthrow new Meteor.Error('not enough rights', 'Only admin can update user status!');\n\t\t}\n\t\tif(user.userId){\n          \tusers = Meteor.users.update({_id:user.userId},{$set:user.options})\n        } else {\n        \tthrow new Meteor.Error('no data', 'User Id is missing');\n        }\n        return users\n\t}\n})\n\n\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n    updateUser\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\n\nimport { Homestays } from '../../homestays/homestays.js';\n\n\n\nexport const assignHomestayUser = new ValidatedMethod({\n    name: 'homestay.assignUser',\n    validate:  new SimpleSchema({\n    \thomestayId : { type: String, regEx: SimpleSchema.RegEx.Id },\n        userId  : { type: String, regEx: SimpleSchema.RegEx.Id },\n        userName: { type: String }\n    }).validator(),\n    run(options) {\n        if (Roles.userIsInRole(this.userId, ['Admin'])) {\n\t\t\tif(options.homestayId){\n\t\t\t\tif (options.userId) {\n\t\t\t\t\tvar post = {\n\t\t\t\t\t\tuserId : options.userId,\n\t\t\t\t\t\townerId : options.userId,\n\t\t\t\t\t\tuserName : options.userName\n\t\t\t\t\t}\n\t\t            homestay = Homestays.update({_id:options.homestayId},{$set:post})\n\t\t            user    = Meteor.users.update({_id:options.userId},{$set:{\"profile.homestayId\":options.homestayId}})\n\t\t            var data = {homestay: homestay, user:user}\n\t\t            return data\n\t\t        } else {\n\t\t        \tthrow new Meteor.Error('no data', 'Select a user.');\n\t\t        }\n\t        } else {\n\t        \tthrow new Meteor.Error('no data', 'Homestay Id is missing');\n\t        }\n\t\t} else {\n\t\t\tthrow new Meteor.Error('You are not authorized to assign user to homestay');\n\t\t}\n    }\n});\n\nexport const updateHomestay = new ValidatedMethod({\n\tname: 'homestay.updateHomestay',\n\tvalidate:  null,\n    run (homestay) {\n\t\tif (Roles.userIsInRole(this.userId, ['Admin', 'Homestay', 'University residence'])) {\n\t\t\tif(homestay.homestayId){\n\t\t\t\tlet post = \"\";\n\t\t\t\tif(homestay.options.images && homestay.options.videoUrl) {\n\t\t\t\t\tpost = {$set:{videoUrl : homestay.options.videoUrl}, $push:{image : homestay.options.images}}\n\t\t\t\t} else if (homestay.options.images) {\n\t\t\t\t\tpost = {$push:{image : homestay.options.images[0]}}\n\t\t\t\t} else{\n\t\t\t\t\tpost = {$set:homestay.options}\n\t\t\t\t}\n\t            homestay = Homestays.update({_id:homestay.homestayId},post)\n\t        } else {\n\t        \tthrow new Meteor.Error('no data', 'Homestay Id is missing');\n\t        }\n           return homestay\n\t\t} else {\n\t\t\tthrow new Meteor.Error('You are not authorized to edit this details');\n\t\t}\n\t}\n});\nexport const deleteImage = new ValidatedMethod({\n\tname: 'homestay.deleteImage',\n\tvalidate:  new SimpleSchema({\n\t\thomestayId \t\t : { type: String, regEx: SimpleSchema.RegEx.Id },\n\t\timageId     \t : { type: String }\n    }).validator(),\n    run (options) {\n\t\tif (Roles.userIsInRole(this.userId, ['Admin','Homestay','University residence'])) {\n\t\t\tif(options.homestayId){\n\t            homestay = Homestays.update({_id:options.homestayId},{$pull:{image : { _id: options.imageId } }})\n\t        } else {\n\t        \tthrow new Meteor.Error('no data', 'Homestay Id is missing');\n\t        }\n           return homestay\n\t\t} else {\n\t\t\tthrow new Meteor.Error('You are not authorized to edit this details');\n\t\t}\n\t}\n});\nexport const createHomestay = new ValidatedMethod({\n\tname: 'homestay.createHomestay',\n\tvalidate:  Homestays.schema.validator((err) => {console.log(err)}),\n\trun(homestayDetails) {\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continue\");\n\t\t} else if (!Roles.userIsInRole(Meteor.userId(), ['Admin', 'Homestay', 'University residence'])) {\n\t\t\tthrow new Meteor.Error(\"not-authorized\");\n\t\t} else {\n\t\t\tvar homestay = Homestays.insert(homestayDetails)\n\t\t\tif (Roles.userIsInRole(Meteor.userId(), ['Homestay', 'University residence'])) {\n\t\t\t\tusers = Meteor.users.update({_id: Meteor.userId()},{$set:{'profile.homestayId' : homestay}})\n\t\t\t}\n\t\t\treturn homestay\n\t\t}\n\t}\n});\nexport const deleteHomestay = new ValidatedMethod({\n\tname: 'homestay.deleteHomestay',\n\tvalidate:  null,\n\trun(homestayId) {\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continu\");\n\t\t} else if (!Roles.userIsInRole(Meteor.userId(), ['Admin', 'Homestay', 'University residence'])) {\n\t\t\tthrow new Meteor.Error(\"not-authorized\");\n\t\t} else {\n\t\t\tvar homestay = Homestays.remove({_id: homestayId})\n\t\t\tif (Roles.userIsInRole(Meteor.userId(), ['Homestay', 'University residence'])) {\n\t\t\t\tusers = Meteor.users.update({_id: Meteor.userId()},{$set:{'profile.homestayId' : ''}})\n\t\t\t}\n\t\t\treturn homestay\n\t\t}\n\t}\n});\n\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n    assignHomestayUser,\n    updateHomestay,\n\tcreateHomestay,\n\tdeleteHomestay,\n    deleteImage\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport { Bookings } from '../bookings.js';\nimport { Homestays } from '../../../api/homestays/homestays.js';\n\n\n// Publish users homestay detail by id\nMeteor.publish('bookingDetail', function(bookingId){\n  var bookingData = Bookings.find({_id:bookingId})\n  return bookingData\n})\n\n\nMeteor.publish('bookingDetailForRatings', function(homestayId,userId){\nconsole.log(\"homestayId:\",homestayId)\nconsole.log(\"userId:\",userId)\n  var bookingData = Bookings.find( { roomId: homestayId, $or: [ { ownerId: userId} ,{ studentId: userId} ] } )\n    console.log(bookingData.count())\n  return bookingData\n})\n\n// Publish all bokking details by userId\nMeteor.publish('all-bookings', function(limit, skip, filter){\n    var query ={bookingStatus:{ $ne: -1 }}\n    if (Roles.userIsInRole(this.userId, ['Student'])){\n    \tquery['studentId'] = this.userId\n    } else if (Roles.userIsInRole(this.userId, ['Agency'])){\n    \tquery['ownerId'] = this.userId\n    } else if (Roles.userIsInRole(this.userId, ['Homestay','University residence'])){\n    \tvar user = Meteor.users.findOne({_id:this.userId})\n    \tif(user && user.profile.homestayId)\n    \t\tquery['roomId'] = user.profile.homestayId\n    \telse\n    \t\tquery['roomId'] = this.userId\n    } \n    \n    if (filter){\n    \tquery = _.extend(query, filter);\n    } \n\n    if (skip) {\n        skip = (skip-1)*limit;\n\t} else {\n\t\tskip = 0\n\t}\n    Counts.publish(this, 'booking-count', Bookings.find(query));\n    var options = {\n        sort:{'creationDate':-1},\n        limit,\n        skip\n    }\n    var booking_list = Bookings.find(query,options)\n\n    // publish homestay details and user details\n    let users_ids = [],\n    \thomestays_ids = [];\n    _.each(booking_list.fetch(), function(data) {\n        if(data){\n            if(data.multipleChoice){\n                if (data.choice2) {\n                    homestays_ids.push(data.choice2);\n                } \n                if (data.choice3) {\n                    homestays_ids.push(data.choice3);\n                }\n            }\n        \tif (data.roomId) {\n    \t\t    homestays_ids.push(data.roomId);\n    \t\t}\n    \t\tif (data.ownerId) {\n    \t\t    users_ids.push(data.ownerId);\n    \t\t}\n    \t\tif ( data.studentId) {\n    \t\t    users_ids.push(data.studentId);\n    \t\t}\n            homestays_ids = _.uniq(homestays_ids);\n            users_ids = _.uniq(users_ids);\n        } else{\n            console.log(\"no data found\")\n        }\n    });\n\n    return [booking_list,Homestays.find({_id: {$in: homestays_ids}},{fields:{name:1,userId:1}}),Meteor.users.find({_id: {$in: users_ids}},{fields:{'profile.name':1,'emails':1}})]\n})\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport moment from 'moment';\n\nimport { Homestays } from './../../api/homestays/homestays.js';\n\n\n//API\n\n//import { insertNotification } from '../notifications/methods.js';\n\nclass BookingCollection extends Mongo.Collection {\n    insert(bookings, callback) {\n        if (!bookings.creationDate) {\n            bookings.creationDate = new Date();\n        }\n        return super.insert(bookings, callback);\n    }\n}\n\nexport const Bookings = new BookingCollection('bookings');\n\n\n\nBookings.deny({\n    insert() { return true; },\n    update() { return true; },\n    remove() { return true; }\n});\n\n\n/*Bookings.allow({\n    insert: function (userId, doc) {\n      // allow insert only for logged in user\n      return userId;\n    },\n    update: function (userId, doc, fieldNames, modifier) {\n\n      // allow update only created user or super-admin\n      if (doc.ownerId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    },\n    remove: function (userId, doc) {\n      // allow remove only created user or super-admin\n      if (doc.ownerId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    }\n  });*/\n\n\nBookings.schema = new SimpleSchema({\n    roomId           : { type: String, regEx: SimpleSchema.RegEx.Id, optional :true},\n    roomType         : { type: String, optional :true }, // homestay, universityResidence\n    searchIndex      : { type: String, optional :true }, // search query\n    ownerId          : { type: String, regEx: SimpleSchema.RegEx.Id},\n    ownerRole        : { type: String },\n    studentId        : { type: String, regEx: SimpleSchema.RegEx.Id, optional :true},\n    paymentStatus    : { type: Number, optional :true}, //-1:payment not made, 0: payment not deducted, 1: success, 2: failed\n    paymentAmount    : { type: Number , decimal : true, optional :true},\n    checkinDate      : { type: Date , optional :true},\n    checkoutDate     : { type: Date , optional :true},\n    bookingType      : { type: String, optional :true}, // weekBooking /dayBooking\n    bookingStatus    : { type: Number}, // -1:not active, 0: pending, 1: active, 2: rejected\n    multipleChoice   : { type : Boolean, optional: true},\n    lengthOfStay     : { type: Number, optional :true},\n    choice1          : { type: String, regEx: SimpleSchema.RegEx.Id, optional :true},\n    choice2          : { type: String, regEx: SimpleSchema.RegEx.Id, optional: true},\n    choice3          : { type: String, regEx: SimpleSchema.RegEx.Id, optional: true},\n    currentChoice    : { type : Number, optional: true},\n    creationDate     : { type : Date },\n    stripeId         : { type : String , optional: true},\n    customerId       : { type : String , optional: true},\n    name             : { type : String, optional :true},\n    email            : { type : String, optional :true},\n    gender           : { type : String, optional :true},\n    country          : { type : String, optional :true},\n    dateOfBirth      : { type : Date, optional: true },\n    smoker           : { type : String, optional: true},\n    pets             : { type : String, optional: true},\n    purposeOfStay    : { type : String, optional :true},\n    processStartTime : { type: Date , optional :true}// process initiating time for each homestay to accept/reject booking\n})\n\nBookings.attachSchema(Bookings.schema);\n\n\n//HOOKS\nBookings.after.insert((userId, doc) => {\n\n});\n\n\n// This represents the keys from Projects objects that should be published\n// to the client. If we add secret properties to Message objects, don't list\n// them here to keep them private to the server.\nBookings.publicFields = {\n    // project: 1,\n    // userTo: 1,\n    // authorId: 1,\n    // createdAt: 1\n};\n\nBookings.helpers({\n    homestay() {\n        return Homestays.findOne(this.roomId)\n    },\n    student() {\n        return Meteor.users.findOne(this.studentId)\n    },\n    agent() {\n        if(this.ownerRole == 'Agency')\n            return Meteor.users.findOne(this.ownerId)\n        else\n            return null\n    }\n});\n","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\n\nimport { Bookings } from './bookings.js';\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { Payments } from './../../api/payment/payments.js';\nimport { sendHomestayBooking } from './../../api/homestays/methods.js';\n\n\nexport const createBooking = new ValidatedMethod({\n    name: 'bookings.createBooking',\n    validate:   new SimpleSchema({\n    \troomId \t\t    : { type: String, regEx: SimpleSchema.RegEx.Id, optional :true },\n        roomType        : { type: String, optional :true },\n        bookingType     : { type: String, optional :true },\n        bookingStatus   : { type: Number},\n        dailyPrice \t    : { type: Number , decimal : true, optional :true },\n        weeklyPrice \t: { type: Number , decimal : true, optional :true },\n        checkinDate     : { type: Date, optional :true },\n\t    checkoutDate    : { type: Date, optional :true },\n\t    lengthOfStay    : { type: Number, optional :true},\n        paymentAmount   : { type: Number , decimal : true, optional :true },\n        studentId       : { type: String, regEx: SimpleSchema.RegEx.Id, optional :true },\n        ownerId         : { type: String, regEx: SimpleSchema.RegEx.Id },\n        ownerRole       : { type: String },\n        searchIndex     : { type: String, optional :true}\n    }).validator(),\n    run(options) {\n        let bookingData = {\n            roomId          : options.roomId,\n            roomType        : options.roomType, \n            ownerId         : options.ownerId,\n            ownerRole       : options.ownerRole,\n            paymentAmount   : options.paymentAmount,\n            checkinDate     : options.checkinDate,\n            checkoutDate    : options.checkoutDate,\n            bookingType     : options.bookingType,\n            lengthOfStay    : options.lengthOfStay,\n            paymentStatus   : -1, // payment not made\n            choice1         : options.roomId,\n            creationDate    : new Date(),\n            choice1Status   : false,\n            bookingStatus   : -1,\n            searchIndex     : options.searchIndex\n        }\n        console.log(Roles.userIsInRole(Meteor.userId(), ['Student']))\n        if(Roles.userIsInRole(Meteor.userId(), ['Student'])) {\n            bookingData['studentId'] = Meteor.userId()\n        }\n        let booking = Bookings.insert(bookingData);\n        return booking\n    }\n});\n\n\nexport const updateStatus = new ValidatedMethod({\n    name: 'bookings.updateStatus',\n    validate:  null,\n    run (data) {\n        console.log(\"inside update status call \")\n        console.log(data)\n        if (! Meteor.userId()) {\n            throw new Meteor.Error(\"Please Login to continue\");\n        } else if (Roles.userIsInRole(this.userId, ['Admin','Homestay','University residence','Accounting'])) {\n            var booking_data = Bookings.findOne(data._id)\n            var homestay_data =\"\";\n            var paymentAmount = \"\";\n            if(booking_data.multipleChoice){\n                if(booking_data.currentChoice == 1){\n                    if(data.status == 1){\n                        homestay_data = Homestays.findOne(booking_data.roomId);\n                        return ({bookingStatus : Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}}), homestayData : homestay_data})\n                    } else if(data.status == 2) {\n                       homestay_data = Homestays.findOne(booking_data.choice2);\n                       if (booking_data.bookingType == \"dayBooking\") {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.dailyPrice;\n                       } else {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.weeklyPrice;\n                       }\n                       Payments.update({orderId:booking_data._id},{$set:{roomId:booking_data.choice2,paymentAmount:paymentAmount}})\n                       return ({bookingStatus : Bookings.update({_id:data._id},{$set:{roomId:booking_data.choice2,currentChoice:2,paymentAmount:paymentAmount}}), homestayData : homestay_data}) \n                    }\n                } else if(booking_data.currentChoice == 2){\n                    if(data.status == 1){\n                        homestay_data = Homestays.findOne(booking_data.roomId);\n                        return ({bookingStatus : Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}}), homestayData : homestay_data}) \n                    } else if(data.status == 2) {\n                        homestay_data = Homestays.findOne(booking_data.choice3);\n                        if (booking_data.bookingType == \"dayBooking\") {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.dailyPrice;\n                        } else {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.weeklyPrice;\n                        }\n                        Payments.update({orderId:booking_data._id},{$set:{roomId:booking_data.choice3,paymentAmount:paymentAmount}})\n\n                        return ({bookingStatus : Bookings.update({_id:data._id},{$set:{roomId:booking_data.choice3,currentChoice:3,paymentAmount:paymentAmount}}) , homestayData : homestay_data}) \n                    }\n                } else if(booking_data.currentChoice == 3){\n                    if(data.status == 1){\n                        homestay_data = Homestays.findOne(booking_data.roomId);\n                        return ({bookingStatus : Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}}) , homestayData : homestay_data}) \n                    } else if(data.status == 2) {\n                       homestay_data = Homestays.findOne(booking_data.roomId);\n                       return ({bookingStatus : Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}}) , homestayData : homestay_data})  \n                    }\n                }\n\n            } else {\n                homestay_data = Homestays.findOne(booking_data.roomId);\n                return ({bookingStatus : Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}}), homestayData : homestay_data}) \n            }\n        } else {\n            throw new Meteor.Error(\"You are not authorized to do this action\");\n        }\n    }\n});\n\nexport const updateBookingStatusCronJob = new ValidatedMethod({\n    name: 'bookings.updateBookingStatusCronJob',\n    validate:  null,\n    run (data) {\n        console.log(\"inside update status call \")\n        console.log(data)\n            var booking_data = Bookings.findOne(data._id);\n            var homestay_data =\"\";\n            var paymentAmount = \"\";\n            if(booking_data.multipleChoice){\n                if(booking_data.currentChoice == 1){\n                    if(data.status == 1){\n                        return Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}})\n                    } else if(data.status == 2) {\n                       // return Bookings.update({_id:data._id},{$set:{roomId:booking_data.choice2,currentChoice:2}}) \n                       homestay_data = Homestays.findOne(booking_data.choice2);\n                       if (booking_data.bookingType == \"dayBooking\") {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.dailyPrice;\n                       } else {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.weeklyPrice;\n                       }\n                       Payments.update({orderId:booking_data._id},{$set:{roomId:booking_data.choice2,paymentAmount:paymentAmount}})\n                       return Bookings.update({_id:data._id},{$set:{roomId:booking_data.choice2,currentChoice:2,paymentAmount:paymentAmount, processStartTime:data.processStartTime}}) \n                    }\n                } else if(booking_data.currentChoice == 2){\n                    if(data.status == 1){\n                        return Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}})\n                    } else if(data.status == 2) {\n                        // return Bookings.update({_id:data._id},{$set:{roomId:booking_data.choice3,currentChoice:3}}) \n                        homestay_data = Homestays.findOne(booking_data.choice3);\n                        if (booking_data.bookingType == \"dayBooking\") {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.dailyPrice;\n                        } else {\n                            paymentAmount = booking_data.lengthOfStay * homestay_data.weeklyPrice;\n                        }\n                        Payments.update({orderId:booking_data._id},{$set:{roomId:booking_data.choice3,paymentAmount:paymentAmount}})\n\n                        return Bookings.update({_id:data._id},{$set:{roomId:booking_data.choice3,currentChoice:3,paymentAmount:paymentAmount,processStartTime:data.processStartTime}}) \n                    }\n                } else if(booking_data.currentChoice == 3){\n                    if(data.status == 1){\n                        return Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}})\n                    } else if(data.status == 2) {\n                       return Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}}) \n                    }\n                }\n\n            } else {\n                return Bookings.update({_id:data._id},{$set:{bookingStatus:data.status}})\n            }\n    }\n});\n\nexport const updateBooking = new ValidatedMethod({\n    name: 'bookings.updateBooking',\n    validate : null,\n    run(options) {\n        console.log(options)\n        if(options.bookingId){\n                booking = Bookings.update({_id:options.bookingId},{$set:options.bookingDetail})\n        } else {\n            throw new Meteor.Error('no data', 'Booking Id is missing');\n        }\n       return booking\n    }\n})\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n\tcreateBooking,\n    updateBooking,\n    updateBookingStatusCronJob\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport { Comments } from '../comments.js';\n\n// publish comments data\nMeteor.publish('comments', function(homestayId,limit, skip) {\n\tif (skip) {\n        skip = (skip-1)*5;\n\t} else {\n\t\tskip = 0\n\t}\n    if (limit) {\n        limit = limit*5;\n    } else {\n        limit = 5\n    }\n    Counts.publish(this, 'comments-count', Comments.find({'homestay_id':homestayId}));\n\n    var options = {\n        sort:{'created_at':-1},\n        limit,\n        skip\n    }\n    var comments_list = Comments.find({'homestay_id':homestayId},options)\n    return comments_list\n})\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport moment from 'moment';\n\n//API\n\n//import { insertNotification } from '../notifications/methods.js';\n\nclass CommentsCollection extends Mongo.Collection {\n    insert(comment, callback) {\n        if (!comment.created_at) {\n            comment.created_at = new Date();\n        }\n        if (!comment.user_id) {\n            comment.user_id = Meteor.user()._id;\n        }\n        if (!comment.name) {\n            comment.name = Meteor.user().profile.name;\n        }\n        return super.insert(comment, callback);\n    }\n}\n\nexport const Comments = new CommentsCollection('comments');\n\nComments.deny({\n    insert() { return true; },\n    update() { return true; },\n    remove() { return true; }\n});\n\nComments.allow({\n    insert: function (userId, doc) {\n      // allow insert only for logged in user\n      return userId;\n    },\n    update: function (userId, doc, fieldNames, modifier) {\n\n      // allow update only created user or super-admin\n      if (doc.userId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    },\n    remove: function (userId, doc) {\n      // allow remove only created user or super-admin\n      if (doc.userId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    }\n  });\n\n\nComments.schema = new SimpleSchema({\n   name         : { type: String },\n   message      : { type: String },\n   homestay_id     : { type: String,regEx: SimpleSchema.RegEx.Id },\n   user_id      : { type: String, regEx: SimpleSchema.RegEx.Id},\n   created_at   : { type: Date, optional: true }\n})\n\nComments.attachSchema(Comments.schema);\n\n\n//HOOKS\nComments.after.insert((userId, doc) => {\n\n});\n\nComments.helpers({\n});","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\n\nimport { Comments } from './comments.js';\n\n\nexport const deleteComment = new ValidatedMethod({\n\tname: 'comment.deleteComment',\n\tvalidate:  null,\n    run (comment) {\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continue\");\n\t\t} else if (Roles.userIsInRole(this.userId, ['Admin']) || comment.isOwner || comment.user_id == this.userId) {\n\t\t\treturn Comments.remove(comment._id)\n\t\t} else {\n\t\t\tthrow new Meteor.Error(\"You are not authorized to do this action\");\n\t\t}\n\t}\n});\n\nexport const createComment = new ValidatedMethod({\n\tname: 'comment.createComment',\n\tvalidate:  Comments.schema.validator((err) => {console.log(err)}),\n\trun(commentDetails) {\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continue\");\n\t\t} else {\n\t\t\tvar comment = Comments.insert(commentDetails)\n\t\t\treturn comment\n\t\t}\n\t}\n})\n\n// // Get list of all method names on Lists\n// const LISTS_METHODS = _.pluck([\n//     assignHomestayUser,\n//     updateHomestay,\n//     createHomestay,\n//     deleteImage\n// ], 'name');\n\n// if (Meteor.isServer) {\n//     // Only allow 5 list operations per connection per second\n//     DDPRateLimiter.addRule({\n//         name(name) {\n//             return _.contains(LISTS_METHODS, name);\n//         },\n\n//         // Rate limit per connection ID\n//         connectionId() { return true; },\n//     }, 5, 1000);\n// }","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport { Homestays } from '../homestays.js';\n\n// publish homestay data in admin listing\nMeteor.publish('homestays', function(query, limit, skip) {\n\tif (skip) {\n        skip = (skip-1)*limit;\n\t} else {\n\t\tskip = 0\n\t}\n    Counts.publish(this, 'homestay-count', Homestays.find(query));\n\n    var options = {\n        sort:{'created_at':-1},\n        limit,\n        skip\n    }\n    var homestay_list = Homestays.find(query,options)\n    return homestay_list\n})\n\n// publish university data in admin listing\nMeteor.publish('universities', function(query, limit, skip) {\n    if (skip) {\n        skip = (skip-1)*limit;\n    } else {\n        skip = 0\n    }\n    Counts.publish(this, 'university-count', Homestays.find(query));\n\n    var options = {\n        sort:{'created_at':-1},\n        limit,\n        skip\n    }\n    var university_list = Homestays.find(query,options)\n    return university_list\n})\n\n// publish homestay data by id \nMeteor.publish('homestayById', function(homestayId){\n  var homestayData = Homestays.find({_id:homestayId})\n  return homestayData\n})\n\n// Publish users homestay detail by id\nMeteor.publish('homestayDetail', function(homestayId){\n  var homestayData = Homestays.find({_id:homestayId})\n  return homestayData\n})\n\n// publish homestay List\nMeteor.publish('homestayList', function(limit, skip) {\n    limit = limit *6;\n    Counts.publish(this, 'homestayList-count', Homestays.find({'status':'active'}));\n\n    var options = {\n        sort:{'created_at':-1},\n        limit,\n        skip\n    }\n    var homestay_list = Homestays.find({'status':'active'})\n    return homestay_list\n})\n\n// publish homestay List\nMeteor.publish('homestaySearch', function(query, limit, skip) {\n    console.log(\"homestay search\")\n    console.log(query)\n    console.log(typeof query._id )\n    // limit = limit *6;\n    Counts.publish(this, 'homestaySearch-count', Homestays.find(query));\n\n    var options = {\n        sort  : {'created_at':-1},\n        limit : Number(limit),\n        skip  : Number(skip)\n    }\n    var homestay_list = Homestays.find(query,options)\n    console.log(Homestays.find(query,options).fetch())\n    return homestay_list\n})","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport moment from 'moment';\n\n//API\n\n//import { insertNotification } from '../notifications/methods.js';\n\nclass HomestaysCollection extends Mongo.Collection {\n    insert(homestay, callback) {\n        if (!homestay.createdAt) {\n            homestay.createdAt = new Date();\n        }\n        if (!homestay.ownerId) {\n            homestay.ownerId = Meteor.user()._id;\n        }\n        return super.insert(homestay, callback);\n    }\n}\n\nexport const Homestays = new HomestaysCollection('homestay');\n\n\n\nHomestays.deny({\n    insert() { return true; },\n    update() { return true; },\n    remove() { return true; }\n});\n\n/*export const HomestayIndex = new EasySearch.Index({\n  collection: Homestays,\n  name:'homestay',\n  fields: ['country'],\n  engine: new EasySearch.MongoDB({\n    selector: function (searchObject, options, aggregation) {\n      console.log(searchObject)\n      // selector contains the default mongo selector that Easy Search would use\n      let selector = this.defaultConfiguration().selector(searchObject, options, aggregation);\n\n      // modify the selector to only match status = 1\n      selector.status = 1;\n\n      return selector;\n    }\n  }),\n  defaultSearchOptions: {\n    limit: 6\n  },\n  noDocumentsOnEmpty:true\n});*/\n\nHomestays.allow({\n    insert: function (userId, doc) {\n      // allow insert only for logged in user\n      return userId;\n    },\n    update: function (userId, doc, fieldNames, modifier) {\n\n      // allow update only created user or super-admin\n      if (doc.ownerId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    },\n    remove: function (userId, doc) {\n      console.log(\"userId\", userId)\n      // allow remove only created user or super-admin\n      if (doc.ownerId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    }\n  });\n\n\nHomestays.schema = new SimpleSchema({\n   type             : { type: String },\n   name             : { type: String },\n   first_name       : { type: String },\n   last_name        : { type: String },\n   country          : { type: String },\n   city             : { type: String },\n   email            : { type: String },\n   phone            : { type: Number },\n   home             : { type: Number, optional: true },\n   roomsNumber      : { type: Number },\n   peopleLiving     : { type: Number },\n   smoker           : { type: String },\n   pets             : { type: String },\n   postalCode   \t  : { type: String, optional: true},\n   address          : { type: String, optional: true },\n   aboutHomestay    : { type: String},\n   aboutPets        : { type: String},\n   hobbies          : { type: String},\n   tenant_gender    : { type: String, optional: true },\n   tenant_smoker    : { type: String, optional: true },\n   tenant_age       : { type: Number , optional: true },\n   ownerId          : { type: String, regEx: SimpleSchema.RegEx.Id},\n   userId           : { type: String, regEx: SimpleSchema.RegEx.Id, optional: true },\n   userName         : { type: String, optional: true },\n   created_at       : { type: Date },\n   status           : { type: String },\n   image            : {type: [Object], optional: true },\n   \"image.$._id\"    : { type: String },\n   \"image.$.url\"    : { type: String },\n   videoUrl         : { type: String, optional: true },\n   avg_rating       : { type: Number, decimal : true , optional: true },\n   dailyPrice       : { type: Number , decimal : true, optional: true },\n   weeklyPrice      : { type: Number , decimal : true, optional: true },\n   services         : { type: [String], optional: true },\n   foodRestrictions : { type: [String], optional: true },\n   petTypes         : { type: [String], optional: true },\n   mealsOptions     : { type: [String], optional: true }\n})\n\nHomestays.attachSchema(Homestays.schema);\n\n\n//HOOKS\nHomestays.after.insert((userId, doc) => {\n\n});\n\n\n// This represents the keys from Projects objects that should be published\n// to the client. If we add secret properties to Message objects, don't list\n// them here to keep them private to the server.\nHomestays.publicFields = {\n    // project: 1,\n    // userTo: 1,\n    // authorId: 1,\n    // createdAt: 1\n};\n\nHomestays.helpers({\n    isOwner(userId) {\n        return this.ownerId === userId;\n    }\n});\n","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\n\nimport { Homestays } from './homestays.js';\nimport { saveMailData } from './../../api/email/method.js';\n\n\nexport const listHomestay = new ValidatedMethod({\n    name: 'homestay.listHomestay',\n    validate:  new SimpleSchema({\n    \thomestayId : { type: String, regEx: SimpleSchema.RegEx.Id },\n        userId  : { type: String, regEx: SimpleSchema.RegEx.Id },\n        userName: { type: String }\n    }).validator(),\n    run(options) {\n        if (Roles.userIsInRole(this.userId, ['Admin'])) {\n\t\t\tif(options.homestayId){\n\t\t\t\tif (options.userId) {\n\t\t\t\t\tvar post = {\n\t\t\t\t\t\tuserId : options.userId,\n\t\t\t\t\t\townerId : options.userId,\n\t\t\t\t\t\tuserName : options.userName\n\t\t\t\t\t}\n\t\t            homestay = Homestays.update({_id:options.homestayId},{$set:post})\n\t\t            user    = Meteor.users.update({_id:options.userId},{$set:{\"profile.homestayId\":options.homestayId}})\n\t\t            var data = {homestay: homestay, user:user}\n\t\t            return data\n\t\t        } else {\n\t\t        \tthrow new Meteor.Error('no data', 'Select a user.');\n\t\t        }\n\t        } else {\n\t        \tthrow new Meteor.Error('no data', 'Homestay Id is missing');\n\t        }\n\t\t} else {\n\t\t\tthrow new Meteor.Error('You are not authorized to assign user to homestay');\n\t\t}\n    }\n});\n\n// email to homestay owner\nexport const sendHomestayBooking = new ValidatedMethod({\n    name: 'homestay.sendMail',\n    validate:  null,\n    run (data) {\n        if (! Meteor.userId()) {\n            throw new Meteor.Error(\"Please Login to continue\");\n        } else if (Roles.userIsInRole(this.userId, ['Admin','Homestay','University residence','Accounting'])) {\n            var homestay = Homestays.findOne({_id:data.homestayId})\n            if(homestay){\n            \tvar owner = Meteor.users.findOne(homestay.userId)\n            \tlet email_options ={}\n\n                email_options['subject'] = 'Homestay Booking'\n                email_options['message'] = 'Got Booking for homestay: '+homestay.name\n                email_options['recipient'] = homestay.email\n                email_options['mail_template'] = \"notification\"\n                params  = {\n                    recipient_name : homestay.name, \n                    link : \"http://52.42.62.56:3000/\"\n                };\n                email_options['params'] = params;\n\n                Meteor.call('sendMail',email_options)\n            }\n        } else {\n            throw new Meteor.Error(\"You are not authorized to do this action\");\n        }\n    }\n});\n\n// email to homestay owner\nexport const sendHomestayBookingCronJob = new ValidatedMethod({\n    name: 'homestay.sendHomestayBookingCronJob',\n    validate:  null,\n    run (data) {\n        var homestay = Homestays.findOne({_id:data.homestayId})\n        console.log(\"next bookig started for : \" + homestay.name+\" \"+homestay.email)\n        if(homestay){\n            var owner = Meteor.users.findOne(homestay.userId)\n            let email_options ={}\n            // email_options['subject'] = 'Homestay Booking'\n            // email_options['email'] = homestay.email\n            // email_options['message'] =  'Got Booking for homestay: '+homestay.name\n            // Meteor.call('sendOrderMail',email_options)\n            email_options['subject'] = 'Homestay Booking'\n            email_options['message'] = 'Got Booking for homestay: '+homestay.name\n\n            email_options['recipient'] = homestay.email\n            email_options['params'] = {\n                recipient_name : homestay.name\n            }\n            email_options['mail_template'] = \"notification\"\n            console.log(\"homestay\")\n            console.log(email_options)\n            saveMailData.call(email_options, (error, response) => {\n                if (error)\n                    console.log(error)\n            })\n                      \n        }     \n    }\n});\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n\tlistHomestay\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport { Payments } from '../payments.js';\nimport { Bookings } from '../../../api/booking/bookings.js';\n\n// Publish all bokking details by userId\nMeteor.publish('all-payments', function(limit, skip, filter){\n    if (skip) {\n        skip = (skip-1)*limit;\n\t} else {\n\t\tskip = 0\n\t}\n    Counts.publish(this, 'transaction-count', Payments.find({}));\n    var options = {\n        sort:{'createdAt':-1},\n        limit,\n        skip\n    }\n    var booking_ids=[];\n    var transaction_list = Payments.find({},options)\n    _.each(transaction_list.fetch(), function(data) {\n        if(data){\n            booking_ids.push(data.orderId)\n            booking_ids = _.uniq(booking_ids);\n        } else{\n            console.log(\"no data found\")\n        }\n    });\n    console.log(booking_ids)\n    return [transaction_list,Bookings.find({_id: {$in: booking_ids}})]\n  })","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\nimport { Payments } from './payments.js';\n\nexport const updatePayment = new ValidatedMethod({\n\tname: 'payment.updatePayment',\n\tvalidate:  null,\n    run (payment) {\n\t\tif(payment.paymentId){\n            paymentData = Payments.update({_id:payment.paymentId},{$set:payment.options})\n        } else {\n        \tthrow new Meteor.Error('no data', 'Payment Id is missing');\n        }\n       return paymentData\n\t}\n});\nexport const newPayment = new ValidatedMethod({\n    name: 'payment.newPayment',\n    validate:   new SimpleSchema({\n        orderId         : { type: String, regEx: SimpleSchema.RegEx.Id},\n        roomId          : { type: String, regEx: SimpleSchema.RegEx.Id},\n        roomType        : { type: String }, // homestay, universityResidence\n        userId          : { type: String, regEx: SimpleSchema.RegEx.Id},\n        userRole        : { type: String },\n        paymentStatus   : { type: Number }, //succes: 1, failed :0\n        paymentAmount   : { type: Number , decimal : true},\n        customerId      : { type: String }\n    }).validator(),\n    run(payment_data) {\n        let payment = Payments.insert(payment_data);\n        return payment\n    }\n});\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n\tupdatePayment,\n    newPayment\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport moment from 'moment';\n\nimport { Bookings } from './../../api/booking/bookings.js';\n//API\n\n//import { insertNotification } from '../notifications/methods.js';\n\nclass PaymentsCollection extends Mongo.Collection {\n    insert(payment, callback) {\n        if (!payment.createdAt) {\n            payment.createdAt = new Date();\n        }\n        if (!payment.userId) {\n            payment.userId = Meteor.user()._id;\n        }\n        return super.insert(payment, callback);\n    }\n}\n\nexport const Payments = new PaymentsCollection('payment');\n\n\n\n\nPayments.helpers({\n  // attach owner details with Payments\n  userData() {\n    return Meteor.users.findOne(this.user_id);\n  }\n});\n\n\nPayments.allow({\n  insert: function (userId, doc) {\n    return false;\n  },\n\n  update: function (userId, doc, fieldNames, modifier) {\n    return false;\n  },\n\n  remove: function (userId, doc) {\n    return false;\n  }\n});\n\nPayments.deny({\n  insert: function (userId, doc) {\n    return true;\n  },\n\n  update: function (userId, doc, fieldNames, modifier) {\n    return true;\n  },\n\n  remove: function (userId, doc) {\n    return true;\n  }\n});\n\n\nPayments.schema = new SimpleSchema({\n  orderId         : { type: String, regEx: SimpleSchema.RegEx.Id},\n  roomId          : { type: String, regEx: SimpleSchema.RegEx.Id},\n  roomType        : { type: String }, // homestay, universityResidence\n  userId          : { type: String, regEx: SimpleSchema.RegEx.Id},\n  userRole        : { type: String },\n  paymentStatus   : { type: Number }, //succes: 1, failed :0, pending : -1\n  paymentAmount   : { type: Number , decimal : true},\n  paymentAt       : { type: Date, optional : true },\n  createdAt        : { type: Date },\n  customerId      : { type: String }\n})\n\nPayments.attachSchema(Payments.schema);\n\nPayments.helpers({\n    booking() {\n        return Bookings.findOne(this.orderId)\n    }\n});\n\n","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport { Ratings } from '../ratings.js';\n\n// publish user rate data\nMeteor.publish('user.rating', function(homestayId) {\n    var rate = Ratings.find({'homestay_id':homestayId,'user_id':this.userId})\n    return rate\n})\n","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { Ratings } from './ratings.js';\n\n\nexport const updateRate = new ValidatedMethod({\n\tname: 'rate.updateRate',\n\tvalidate:  null,\n    run (rate) {\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continue\");\n\t\t} else if (rate.user_id == this.userId) {\n\t\t\tRatings.update({_id:rate._id},{$set:{rate:rate.newRate}})\n\t\t\thomestayRate(rate.homestay_id)\n\t\t\treturn\n\t\t} else {\n\t\t\tthrow new Meteor.Error(\"You are not authorized to do this action\");\n\t\t}\n\t}\n});\n\nexport const createRate = new ValidatedMethod({\n\tname: 'rate.createRate',\n\tvalidate:  Ratings.schema.validator((err) => {console.log(err)}),\n\trun(rateDetails) {\n\t\tif (! Meteor.userId()) {\n\t\t\tthrow new Meteor.Error(\"Please Login to continue\");\n\t\t} else {\n\t\t\tvar rate = Ratings.insert(rateDetails)\n\t\t\thomestayRate(rateDetails.homestay_id)\n\t\t\treturn rate\n\t\t}\n\t}\n})\n\nconst homestayRate = function(homestayId) {\n\tvar ratings = Ratings.find({homestay_id:homestayId})\n\tif(ratings.count() > 0){\n\t\tvar rate_total = _.reduce(ratings.fetch(), function(memo, data){ return memo + data.rate; }, 0)\n\t    var avg_rate = (rate_total)/ratings.count()\n\t    // update home stay with avg rate\n\t    Homestays.update({_id:homestayId},{$set:{avg_rating:avg_rate}})\n\t}\n}","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport moment from 'moment';\n\n\nclass RatingsCollection extends Mongo.Collection {\n    insert(rate, callback) {\n        if (!rate.created_at) {\n            rate.created_at = new Date();\n        }\n        if (!rate.user_id) {\n            rate.user_id = Meteor.user()._id;\n        }\n        return super.insert(rate, callback);\n    }\n}\n\nexport const Ratings = new RatingsCollection('ratings');\n\nRatings.deny({\n    insert() { return true; },\n    update() { return true; },\n    remove() { return true; }\n});\n\nRatings.allow({\n    insert: function (userId, doc) {\n      // allow insert only for logged in user\n      return userId;\n    },\n    update: function (userId, doc, fieldNames, modifier) {\n\n      // allow update only created user or super-admin\n      if (doc.userId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    },\n    remove: function (userId, doc) {\n      // allow remove only created user or super-admin\n      if (doc.userId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    }\n  });\n\n\nRatings.schema = new SimpleSchema({\n   rate         : { type: Number , decimal : true },\n   homestay_id  : { type: String,regEx: SimpleSchema.RegEx.Id },\n   user_id      : { type: String, regEx: SimpleSchema.RegEx.Id},\n   created_at   : { type: Date, optional: true }\n})\n\nRatings.attachSchema(Ratings.schema);\n","import { Meteor } from 'meteor/meteor';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\n// publish all user data\nMeteor.publish('userList', function (limit) {\n  Counts.publish(this, 'users-count', Meteor.users.find({}));\n\n    var usersList = Meteor.users.find({},{sort:{'createdAt':-1} , limit:limit})\n\n    return usersList;\n});\n\nMeteor.publish('userData', function() {\n  if(!this.userId) return null;\n  return Meteor.users.find(this.userId, {fields: {\n    roles: 1\n  }});\n});\n\nMeteor.publish('userDetail', function() {\n  return  Meteor.users.find(this.userId, {fields: {\n    stripe: 1,planName:1,planAmount:1,account:1\n  }});\n});\n\nMeteor.publish('users', function(userId) {\n  if(!userId) return null;\n  return Meteor.users.find(userId);\n});\n","import { Meteor } from 'meteor/meteor';\nimport { _ } from 'meteor/underscore';\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\nimport { DDPRateLimiter } from 'meteor/ddp-rate-limiter';\n\nexport const createNewUser = new ValidatedMethod({\n\tname: 'user.createNewUser',\n\tvalidate:  new SimpleSchema({\n\t\temail     : { type: String },\n\t\tpassword  : { type: String },\t\n\t\tprofile   : {type : Object},\n\t\t'profile.firstName'  : { type: String },\n\t\t'profile.lastName'   : { type: String, optional: true },\n\t\t'profile.name'       : { type: String },\n\t\t'profile.email'      : { type: String },\n\t\t'profile.role'       : { type: String },\n\t\t'profile.status'     : { type: String },\n\t\t'profile.homestayId' : { type: String, optional: true },\n\t\t'profile.gender'     : { type: String, optional: true },\n\t\t'profile.dateOfBirth': { type: Date, optional: true },\n\t\t'profile.country'    : { type: String, optional: true },\n\t\t'profile.mobile' \t : { type: Number, optional: true }\n    }).validator(),\n\trun(options){\n\t\tif (!Roles.userIsInRole(this.userId, ['Admin', 'Agency'])) {\n\t\t\tthrow new Meteor.Error('not enough rights', 'Only admin can create new users!');\n\t\t}\n\t\tvar newUserId = Accounts.createUser(options);\n\t\t// Possibly send out an enrollment email...\n\t\t// Accounts.sendEnrollmentEmail(newUserId);\n\n\t\treturn newUserId;\n\t}\n})\n\nexport const updateUser = new ValidatedMethod({\n\tname: 'user.updateUser',\n\tvalidate:  null,\n\trun(user){\n\t\tconsole.log(user)\n\t\tif (!Roles.userIsInRole(this.userId, ['Admin'])) {\n\t\t\tthrow new Meteor.Error('not enough rights', 'Only admin can update user status!');\n\t\t}\n\t\tif(user.userId){\n          \tusers = Meteor.users.update({_id:user.userId},{$set:user.options})\n        } else {\n        \tthrow new Meteor.Error('no data', 'User Id is missing');\n        }\n        return users\n\t}\n})\nexport const findUser = new ValidatedMethod({\n\tname: 'user.findUser',\n\tvalidate: null,\n\trun(options){\n\t\treturn Meteor.users.find({\"emails.address\":options.email}).fetch()[0];\n\t}\n})\n\nexport const editProfile = new ValidatedMethod({\n\tname: 'user.editProfile',\n\tvalidate:  null,\n\trun(user){\n\t\tconsole.log(user)\n\t\tif(this.userId) {\n          \tusers = Meteor.users.update({_id:this.userId},{$set:user})\n        } else {\n        \tthrow new Meteor.Error('no data', 'Please login to complete this action');\n        }\n        return users\n\t}\n})\n\nexport const editAccountSetting = new ValidatedMethod({\n\tname: 'user.editAccountSetting',\n\tvalidate:  null,\n\trun(user){\n\t\tconsole.log(user)\n\t\tif(this.userId) {\n          \tusers = Meteor.users.update({_id:this.userId},{$set:user})\n        } else {\n        \tthrow new Meteor.Error('no data', 'Please login to complete this action');\n        }\n        return users\n\t}\n})\n\n\n\n// Get list of all method names on Lists\nconst LISTS_METHODS = _.pluck([\n\tcreateNewUser,\n    updateUser,\n    findUser,\n    editProfile,\n    editAccountSetting\n], 'name');\n\nif (Meteor.isServer) {\n    // Only allow 5 list operations per connection per second\n    DDPRateLimiter.addRule({\n        name(name) {\n            return _.contains(LISTS_METHODS, name);\n        },\n\n        // Rate limit per connection ID\n        connectionId() { return true; },\n    }, 5, 1000);\n}","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nimport moment from 'moment';\n\n\n\n//API\n\n//import { insertNotification } from '../notifications/methods.js';\n\nclass EmailCollection extends Mongo.Collection {\n    insert(emails, callback) {\n        if (!emails.created_At) {\n            emails.created_At = new Date();\n        }\n        return super.insert(emails, callback);\n    }\n}\n\nexport const Emails = new EmailCollection('emails');\n\n\n\nEmails.deny({\n    insert() { return true; },\n    update() { return true; },\n    remove() { return true; }\n});\n\n\n/*Bookings.allow({\n    insert: function (userId, doc) {\n      // allow insert only for logged in user\n      return userId;\n    },\n    update: function (userId, doc, fieldNames, modifier) {\n\n      // allow update only created user or super-admin\n      if (doc.ownerId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    },\n    remove: function (userId, doc) {\n      // allow remove only created user or super-admin\n      if (doc.ownerId == userId || Roles.userIsInRole(userId, 'Admin'))\n         return true;\n      else\n        return false\n    }\n  });*/\n\n\nEmails.schema = new SimpleSchema({\n    recipient              : { type : String},\n    subject                 : { type : String},\n    message                 : { type : String},\n    params                  : { type : Object, optional :true},\n    created_At              : { type : Date },\n    attempts                : { type : Number, optional: true},\n    max_attempts            : { type : Number, optional: true},\n    mail_template           : { type : String},\n    \"params.recipient_name\" : { type : String},\n    \"params.link\"           : { type : String}\n})\n\nEmails.attachSchema(Emails.schema);\n\n\n//HOOKS\nEmails.after.insert((userId, doc) => {\n\n});\n\n\n// This represents the keys from Projects objects that should be published\n// to the client. If we add secret properties to Message objects, don't list\n// them here to keep them private to the server.\nEmails.publicFields = {\n    // project: 1,\n    // userTo: 1,\n    // authorId: 1,\n    // createdAt: 1\n};","import { Mongo } from 'meteor/mongo';\nimport { Email } from 'meteor/email'\nimport { Emails } from './email.js';\n\nexport const saveMailData = new ValidatedMethod({\n    name: 'emails.createBooking',\n    validate:   null,\n    run(options) {\n    \toptions.params[\"link\"] = \"http://52.42.62.56:3000/\";\n    \tconsole.log(\"options\")\n    \tconsole.log(options)\n        let data = {\n            recipient : options.recipient,\n\t\t    subject    : options.subject,\n\t\t    message    : options.message,\n\t\t    params     : options.params,\n\t\t    created_At : new Date(),\n\t\t    attempts   : 0,\n\t\t    max_attempts : 3,\n\t\t    mail_template : options.mail_template\n        }\n        let email = Emails.insert(data);\n        console.log(\"email\")\n        console.log(email)\n        return email\n    }\n});","import { Mongo } from 'meteor/mongo';\nimport { Email } from 'meteor/email'\nimport { Emails } from './email.js';\n\n// SSR.compileTemplate('htmlEmail', Assets.getText('html-email.html'));\nSSR.compileTemplate('notificationEmail', Assets.getText('notification.html'));\n// SSR.compileTemplate('forgotpasswordEmail', Assets.getText('reset-password.html'));\t\t\nSSR.compileTemplate('welcomeEmail', Assets.getText('welcome.html'));\n\nMeteor.methods({\n  'process.sendemail'() {\n  \t\t\n  \t\t// So this line will return something  // {'type':'forgotpassword'}\n\t\tconst process_data = Emails.find({},{limit : 10});\n\t\tvar email_template = 'notificationEmail';\n\t\t\n\t\tprocess_data.forEach(function(data){\n\t\t\tconsole.log(\"send email\")\n\t\t    console.log(data)\n\t\t\tswitch(data.type){\n\t            case 'notification':\n\t                email_template = 'notificationEmail';\n\t            break;\n\t            case 'forgotpassword':\n\t                email_template = 'forgotpasswordEmail';\n\t            break;\n\t            case 'welcome':\n\t                email_template = 'welcomeEmail';\n\t            break;\n        \t}\n        \t// console.log(email_template)\n        \tvar emailData = {\n\t\t\t\t\tlink: data.params.link,\n\t\t\t\t\trecepient_name: data.params.recipient_name,\n\t\t\t\t\tcontent: data.message\n\t\t\t\t};\n\n\t\t\tEmail.send({\n\t\t      to: data.recipient,\n\t\t      from: \"OurHomestay <homestay.toobler@gmail.com>\",\n\t\t      subject: data.subject,\n\t\t      html: SSR.render(email_template, emailData)\n\t\t    });\n\n\t\t\tEmails.remove({'_id':data._id})\n\t\t    // after successfully sent, delete that entry from db\n\t\t    // if any error while sending, update the attempted field increment by one\n\t\t})\n\t\tconsole.log(\"email sent\")\n   }\n});\n\n\n","import React, {Component, PropTypes} from 'react';\n\nimport { createContainer } from 'meteor/react-meteor-data';\nvar createFragment = require('react-addons-create-fragment');\n\nimport CircularProgress from 'material-ui/CircularProgress'\nimport baseTheme        from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme      from 'material-ui/styles/getMuiTheme';\nimport Sidebar    from '../../shared/Sidebar.jsx';\nimport PaginationBar    from '../../components/PaginationBar.jsx';\n\nimport { Bookings } from '../../../api/booking/bookings.js';\nimport { sendHomestayBooking } from '../../../api/homestays/methods.js';\n\nimport { updateStatus } from '../../../api/booking/methods.js';\n\n\n\nexport default class AccountOrders extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      currentPage : 1,\n      skip: ''\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n    Session.set('order-filter',null)\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage' : Number(FlowRouter.getQueryParam('page'))} )\n    }\n  }\n\n  renderOrder () {\n    if (this.props.orderLoading && this.props.orderCount == 0) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      if(this.props.orderCount > 0) {\n        return (\n          <div>\n           <OrderList data={this.props.orders} canChangeStatus={this.props.canChangeStatus}/>\n           <PaginationBar currentPage={this.state.currentPage} totalCount={this.props.orderCount} />\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"col-sm-12\">\n             <h5> Seems that there is no order right now!..</h5>\n          </div>\n        )\n      }\n    }\n  }\n\n  render() {\n    return (\n       <section className=\"dashboard-content-wrapper\">\n       <aside className=\"left-side-bar\">\n        <ul>\n          <li><a className=\"active\" href=\"#\"><i className=\"icon-homestay\" />Bookings</a></li>\n          <li><a href=\"/account/transactions\"><i className=\"icon-schools\" />Transactions</a></li>\n          </ul>\n\n      </aside>\n        <aside className=\"right-side-wrapper\">\n          <div className=\"dashboard-content\">\n            <OrderFilter />\n            {this.renderOrder()}\n          </div>\n        </aside>\n      </section>\n    );\n  }\n};\nAccountOrders.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nAccountOrders.propTypes = {\n    orders: PropTypes.array.isRequired,\n    orderCount: PropTypes.number.isRequired\n};\n\nexport default createContainer(() => {\n\n    const OrderHandle = Meteor.subscribe('all-bookings', 5, FlowRouter.getQueryParam('page'),Session.get('order-filter'));\n    return {\n        canChangeStatus : Roles.userIsInRole(Meteor.userId(), ['Admin','Homestay','Accounting','University residence']),\n        currentUser     : Meteor.user(),\n        orderLoading    : !OrderHandle.ready(),\n        orders          : Bookings.find({},{sort:{'creationDate':-1},limit: 5}).fetch(),\n        orderCount      : Counts.get('booking-count')\n    }\n}, AccountOrders);\n\nexport class OrderList extends Component {\n  render() {\n    let self=this,\n        startIndex = 0;\n    if(FlowRouter.getQueryParam('page')) {\n      startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*5;\n    }\n    var orderNodes = this.props.data.map(function (order, index) {\n      startIndex=startIndex+1;\n      return (\n        <Order key={order._id} order={order} index={startIndex} canChangeStatus={self.props.canChangeStatus}/>\n      )\n    });\n\n    return(\n      <table className=\"table db-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Order ID</th>\n            <th>Amount</th>\n            <th>Type</th>\n            <th>Checkin Date</th>\n            <th>Checkout Date</th>\n            <th>Homestay</th>\n            <th>Agent</th>\n            <th>Student</th>\n            <th>Payment</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n         {orderNodes}\n        </tbody>\n      </table>\n    );\n  }\n};\n\nexport class Order extends Component {\n  changeStatus(status,event){\n    let data ={}\n    data['status']        = status\n    data['_id']           = this.props.order._id\n    let pre_homestayName  = this.props.order.homestay().name\n    updateStatus.call(data, (error, response) => {\n            if (error) {\n            } else {\n              if(status == 2){\n                let email_options ={}\n                email_options['subject'] = this.props.order.roomType + ' Booking'\n                email_options['message'] = 'Rejected '+this.props.order.roomType+ ' '+ pre_homestayName\n                // send email to student\n                if(this.props.order.student()){\n                  email_options['email'] = this.props.order.student().emails[0].address\n                  Meteor.call('sendOrderMail',email_options)\n                }\n                // send email to agent\n                if(this.props.order.agent()){\n                  email_options['email'] = this.props.order.agent().emails[0].address\n                  Meteor.call('sendOrderMail',email_options)\n                }\n                // check homestay alternative choice then send mail\n                 if(this.props.order.multipleChoice){\n                      console.log(\"mulipleChoice client\")\n                      if(this.props.order.currentChoice == 2){\n                        let homestay_choice = {\n                          homestayId: this.props.order.choice2\n                       }\n                      sendHomestayBooking.call(homestay_choice, (error, response) => {})\n\n                      } else if(this.props.order.currentChoice == 3 && this.props.order.bookingStatus == 0){\n                        let homestay_choice = {\n                            homestayId: this.props.order.choice3\n                         }\n                        sendHomestayBooking.call(homestay_choice, (error, response) => {})\n                      }\n\n                     \n                  } \n              } \n            }\n        });\n\n  }\n  canChangeStatus(){\n    let self = this\n    if(this.props.order.paymentStatus == 0 ) {\n      if(this.props.canChangeStatus){\n        return (\n           <div className=\"btn-group\">\n          <button type=\"button\" className=\"btn status-warning\">Pending</button>\n          <button type=\"button\" className=\"btn status-warning dropdown-toggle\" data-toggle=\"dropdown\">\n            <span className=\"caret\" />\n          </button>\n            <ul className=\"dropdown-menu\" role=\"menu\">\n              <li><a href=\"#\" onClick={self.changeStatus.bind(self,1)}>Accept</a></li>\n              <li><a href=\"#\" onClick={self.changeStatus.bind(self,2)}>Reject</a></li>\n            </ul>\n        </div>\n          )\n      } else {\n        return (<button className=\"btn status-warning\">Pending</button>)\n      }\n    } else {\n      return (<button className=\"btn status-warning\">Pending</button>)\n    }\n  }\n\n  getOrderStatus(){\n    let self = this\n    if(this.props.order.bookingStatus == 0){\n      return (\n        <td>\n        {self.canChangeStatus()}\n      </td>\n      );\n    } else if (this.props.order.bookingStatus == 1){\n      return (\n        <td><button className=\"btn status-active\">Accepted</button></td>\n      );\n    } else if (this.props.order.bookingStatus == 2){\n      return (\n        <td><button className=\"btn status-inactive\">Rejected</button></td>\n        )\n    }\n  }\n\n\n  render() {\n    return(\n        <tr>\n          <td>{this.props.index}</td> \n          <td>{this.props.order._id}</td>\n          <td>{this.props.order.paymentAmount}</td>\n          <td>{(this.props.order.bookingType == 'dayBooking')? 'Daily' : 'Weekly'}</td>\n          <td>{moment(this.props.order.checkinDate).format('DD MMM YYYY')}</td>\n          <td>{moment(this.props.order.checkoutDate).format('DD MMM YYYY')}</td>\n          <td>{this.props.order.homestay()? this.props.order.homestay().name : ''}</td>\n          <td>{this.props.order.agent()? this.props.order.agent().profile.name : ''}</td>\n          <td>{this.props.order.student()? this.props.order.student().profile.name : ''}</td>\n          <td><button className={(this.props.order.paymentStatus < 0 || this.props.order.paymentStatus == -2 )? \"btn status-inactive\": \"btn status-active\"} >{(this.props.order.paymentStatus < 0)? \"Not Paid\": (this.props.order.paymentStatus == 0)?\"Pending\":(this.props.order.paymentStatus == 1)?\"Success\":\"Failed\"}</button></td>\n          {this.getOrderStatus()}\n        </tr>\n    );\n  }\n}\n\nexport class OrderFilter extends Component {\n  componentDidMount() {\n    //dropdown list\n    $('body').click(function(){\n        $('.custom-select .drop-down-list:visible').slideUp();\n    });\n    $('.custom-select .active-list').click(function(){\n        $(this).parent().find('.drop-down-list').stop( true, true ).delay(10).slideToggle();\n    }); \n\n    //datepicker\n     let endDate = new Date().setFullYear(new Date().getFullYear() + 1);\n\n    // initialise start date and arrival date timepicker\n    $('#checkinDate').datetimepicker({\n        format : 'YYYY-MM-DD'\n    }).on('dp.change', function (selected) {\n      if ($('#checkinDate').val()){\n        if(new Date($('#checkinDate').val()) > new Date($('#checkoutDate').val()) ){\n          $('#checkoutDate').data(\"DateTimePicker\").date(new Date($('#checkinDate').val()));\n          $('#checkoutDate').data(\"DateTimePicker\").minDate(new Date($('#checkinDate').val()));\n        }\n      }\n        // var minDate = new Date(selected.date.valueOf());\n    });\n    // initialise end date timepicker\n    $('#checkoutDate').datetimepicker({\n        format : 'YYYY-MM-DD',\n        minDate: '2016-01-01'\n    }); \n  }\n\n  dropDownClick(value,event){\n        var parent = $(event.currentTarget).parent().parent();\n        parent.find('.active-list').addClass('added');\n        parent.find('.active-list').text( $(event.currentTarget).text() ).removeClass('opened');\n        // parent.find('input.list-field').attr('value', value );\n        parent.find('input.list-field').val(value);\n  }\n  \n  applyFilter(event){\n    FlowRouter.setQueryParams({page: 1});\n\n    let status = $('#filter-status').val() || 'all',\n        type = $('#filter-type').val() || 'all',\n        checkin = this.refs.checkinDate.value || null,\n        checkout = this.refs.checkoutDate.value || null,\n        filter_data = {};\n    // booking status filtering\n    if(status == 'all')\n      filter_data['bookingStatus'] = { $ne: -1 }\n    else\n      filter_data['bookingStatus'] = parseInt(status)\n   \n   // booking type filtering\n   if(type == 'all')\n      delete filter_data.bookingType\n    else\n      filter_data['bookingType'] = type\n\n  // filter by date\n  if(checkin && checkout)\n   filter_data['$and'] = [ { \"checkinDate\": {\"$gte\": new Date(checkin)}},{\"checkoutDate\": {\"$lte\": new Date(checkout)}}]\n  else if(checkin )\n    filter_data['checkinDate'] =  new Date(checkin)\n  else if(checkout )\n    filter_data['checkoutDate'] = new Date(checkout)\n  else    \n    delete filter_data['$and']\n  console.log(\"filter_data\")\n  console.log(filter_data)\n   Session.set('order-filter',filter_data)\n\n  }\n\n  render () {\n    return (\n      <div>\n        <div className=\"row top-strip-db\">\n          <div className=\"col-sm-2\">\n            <div className=\"custom-select\">\n              <div className=\"active-list\">Please select</div>\n              <input type=\"text\" id=\"filter-status\" className=\"list-field\"/>\n              <ul className=\"drop-down-list\">\n                <li data-value = \"all\" onClick={this.dropDownClick.bind(this,'all')}>All</li>\n                <li data-value =\"0\" onClick={this.dropDownClick.bind(this,'0')}>Pending</li>\n                <li data-value = \"1\" onClick={this.dropDownClick.bind(this,'1')}>Accepted</li>\n                <li data-value = \"2\" onClick={this.dropDownClick.bind(this,'2')}>Rejected</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"col-sm-2\">\n            <div className=\"custom-select\">\n              <div className=\"active-list\">Please select</div>\n              <input type=\"text\" id=\"filter-type\" className=\"list-field\"/>\n              <ul className=\"drop-down-list\">\n                <li data-value = \"all\" onClick={this.dropDownClick.bind(this,'all')}>All</li>\n                <li data-value =\"0\" onClick={this.dropDownClick.bind(this,'dayBooking')}>Daily</li>\n                <li data-value = \"1\" onClick={this.dropDownClick.bind(this,'weekBooking')}>Weekly</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"col-sm-2\">\n           <input type=\"text\" placeholder=\"CHECK-IN DATE\" id=\"checkinDate\" ref=\"checkinDate\" className=\"form-control avail-date\" />\n          </div>\n          <div className=\"col-sm-2\">\n            <input type=\"text\" placeholder=\"CHECK-OUT DATE\" id=\"checkoutDate\" ref=\"checkoutDate\" className=\"form-control avail-date\" />\n          </div>\n          <div className=\"col-sm-2\">\n            <button className=\"btn primary-btn std-height\" onClick={this.applyFilter.bind(this)}>Search Order</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React, {Component, PropTypes} from 'react';\n\nimport { createContainer } from 'meteor/react-meteor-data';\nvar createFragment = require('react-addons-create-fragment');\n\nimport CircularProgress from 'material-ui/CircularProgress'\nimport baseTheme        from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme      from 'material-ui/styles/getMuiTheme';\nimport Sidebar          from '../../shared/Sidebar.jsx';\nimport PaginationBar    from '../../components/PaginationBar.jsx';\n\nimport { Payments } from '../../../api/payment/payments.js';\nimport { Settings } from '../../../api/admin/settings/settings.js';\nimport { sendHomestayBooking } from '../../../api/homestays/methods.js';\n\nimport { updateStatus } from '../../../api/booking/methods.js';\n\n\n\nexport default class ListTransactions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      currentPage : 1,\n      skip: ''\n    };\n    console.log(this.props.settings)\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n    Session.set('order-filter',null)\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage' : Number(FlowRouter.getQueryParam('page'))} )\n    }\n  }\n\n  renderOrder () {\n    if (this.props.TransactionLoading && this.props.transactionCount == 0) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      console.log(this.props.settings)\n      if(this.props.transactionCount > 0) {\n        return (\n          <div>\n           <TransactionList data={this.props.transactions} canChangeStatus={this.props.canChangeStatus} settings={this.props.settings}/>\n           <PaginationBar currentPage={this.state.currentPage} totalCount={this.props.transactionCount} />\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"col-sm-12\">\n             <h5> Seems that there is no transactions right now!..</h5>\n          </div>\n        )\n      }\n    }\n  }\n\n  render() {\n    return (\n       <section className=\"dashboard-content-wrapper\">\n       <aside className=\"left-side-bar\">\n        <ul>\n          <li><a  href=\"/account/orders\"><i className=\"icon-homestay\" />Bookings</a></li>\n          <li><a className=\"active\" href=\"#\"><i className=\"icon-schools\" />Transactions</a></li>\n          </ul>\n\n      </aside>\n        <aside className=\"right-side-wrapper\">\n          <div className=\"dashboard-content\">\n            {/*<OrderFilter />*/}\n            {this.renderOrder()}\n          </div>\n        </aside>\n      </section>\n    );\n  }\n};\nListTransactions.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nListTransactions.propTypes = {\n    transactions: PropTypes.array.isRequired,\n    transactionCount: PropTypes.number.isRequired\n};\n\nexport default createContainer(() => {\n\n    const TransactionHandle = Meteor.subscribe('all-payments', 5, FlowRouter.getQueryParam('page'),{});\n    const SettingsHandle = Meteor.subscribe('settings');\n    console.log(SettingsHandle.ready())\n    console.log(Settings.find({}).fetch()[0])\n    return {\n        canChangeStatus : Roles.userIsInRole(Meteor.userId(), ['Accounting']),\n        currentUser           : Meteor.user(),\n        TransactionLoading    : !TransactionHandle.ready() && !SettingsHandle.ready(),\n        transactions          : Payments.find({},{sort:{'createdAt':-1},limit: 5}).fetch(),\n        transactionCount      : Counts.get('transaction-count'),\n        settings              : Settings.find({}).fetch()[0]\n    }\n}, ListTransactions);\n\nexport class TransactionList extends Component {\n  render() {\n    let self=this,\n        startIndex = 0;\n    if(FlowRouter.getQueryParam('page')) {\n      startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*5;\n    }\n    var transactionNodes = this.props.data.map(function (transaction, index) {\n      startIndex=startIndex+1;\n      return (\n        <Transaction key={transaction._id} settings={self.props.settings} transaction={transaction} index={startIndex} canChangeStatus={self.props.canChangeStatus}/>\n      )\n    });\n\n    return(\n      <table className=\"table db-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Transaction ID</th>\n            <th>Order ID</th>\n            <th>Order Status</th>\n            <th>Total Amount</th>\n            <th>islBooking Amount</th>\n            <th>Host Amount</th>\n            <th>Payment Status </th>\n            <th>Confirm Payment</th>\n          </tr>\n        </thead>\n        <tbody>\n         {transactionNodes}\n        </tbody>\n      </table>\n    );\n  }\n};\n\nexport class Transaction extends Component {\n  changeStatus(status,event){\n    let data ={}\n    data['status']        = status\n    data['_id']           = this.props.transaction._id\n    let pre_homestayName  = this.props.transaction.homestay().name\n   \n  }\n \n  render() {\n    console.log(this.props.transaction)\n    console.log(this.props.transaction.booking())\n    let siteCommision = \"\"\n    let hostAmount = \"\"\n    if(this.props.settings) {\n      let commision = \"\";\n      if(this.props.transaction.booking().bookingType == \"dayBooking\") {\n        commision = (this.props.transaction.paymentAmount * this.props.settings.commission_amount)/100;\n      } else {\n        commision = (this.props.transaction.paymentAmount * this.props.settings.commission_amount_week)/100;\n      }\n      siteCommision = commision.toFixed(2)\n      hostAmount = (this.props.transaction.paymentAmount - siteCommision).toFixed(2)\n    } else{\n      siteCommision = 0\n      hostAmount = this.props.transaction.paymentAmount\n    }\n    return(\n        <tr>\n          <td>{this.props.index}</td> \n          <td>{this.props.transaction._id}</td>\n          <td>{this.props.transaction.orderId}</td>\n          <td><button className={(this.props.transaction.booking().bookingStatus <=1 )? \"btn status-active\": \"btn status-inactive\"} >{(this.props.transaction.booking().bookingStatus == 0)?\"Pending\":(this.props.transaction.booking().bookingStatus == 1)?\"Accepted\":\"Rejected\"}</button>\n          </td>\n          <td>{this.props.transaction.paymentAmount}</td>\n          <td>{siteCommision}</td>\n          <td>{hostAmount}</td>\n          <td><button className={(this.props.transaction.paymentStatus < 0 )? \"btn status-active\": \"btn status-inactive\"} >{(this.props.transaction.paymentStatus == -1)? \"Pending\":(this.props.transaction.paymentStatus == 0)? \"Success\":\"Failed\"}</button></td>\n          <td><button className={(this.props.transaction.paymentStatus < 0 )? \"btn status-active\": \"btn status-inactive\"} >{(this.props.transaction.paymentStatus < 0)? \"Confirm Payment\": \"Paid\"}</button></td>\n        </tr>\n    );\n  }\n}\n\nexport class OrderFilter extends Component {\n  componentDidMount() {\n    //dropdown list\n    $('body').click(function(){\n        $('.custom-select .drop-down-list:visible').slideUp();\n    });\n    $('.custom-select .active-list').click(function(){\n        $(this).parent().find('.drop-down-list').stop( true, true ).delay(10).slideToggle();\n    }); \n\n    //datepicker\n     let endDate = new Date().setFullYear(new Date().getFullYear() + 1);\n\n    // initialise start date and arrival date timepicker\n    $('#checkinDate').datetimepicker({\n        format : 'YYYY-MM-DD'\n    }).on('dp.change', function (selected) {\n      if ($('#checkinDate').val()){\n        if(new Date($('#checkinDate').val()) > new Date($('#checkoutDate').val()) ){\n          $('#checkoutDate').data(\"DateTimePicker\").date(new Date($('#checkinDate').val()));\n          $('#checkoutDate').data(\"DateTimePicker\").minDate(new Date($('#checkinDate').val()));\n        }\n      }\n        // var minDate = new Date(selected.date.valueOf());\n    });\n    // initialise end date timepicker\n    $('#checkoutDate').datetimepicker({\n        format : 'YYYY-MM-DD',\n        minDate: '2016-01-01'\n    }); \n  }\n\n  dropDownClick(value,event){\n        var parent = $(event.currentTarget).parent().parent();\n        parent.find('.active-list').addClass('added');\n        parent.find('.active-list').text( $(event.currentTarget).text() ).removeClass('opened');\n        // parent.find('input.list-field').attr('value', value );\n        parent.find('input.list-field').val(value);\n  }\n  \n  applyFilter(event){\n    FlowRouter.setQueryParams({page: 1});\n\n    let status = $('#filter-status').val() || 'all',\n        type = $('#filter-type').val() || 'all',\n        checkin = this.refs.checkinDate.value || null,\n        checkout = this.refs.checkoutDate.value || null,\n        filter_data = {};\n    // booking status filtering\n    if(status == 'all')\n      filter_data['bookingStatus'] = { $ne: -1 }\n    else\n      filter_data['bookingStatus'] = parseInt(status)\n   \n   // booking type filtering\n   if(type == 'all')\n      delete filter_data.bookingType\n    else\n      filter_data['bookingType'] = type\n\n  // filter by date\n  if(checkin && checkout)\n   filter_data['$and'] = [ { \"checkinDate\": {\"$gte\": new Date(checkin)}},{\"checkoutDate\": {\"$lte\": new Date(checkout)}}]\n  else if(checkin )\n    filter_data['checkinDate'] =  new Date(checkin)\n  else if(checkout )\n    filter_data['checkoutDate'] = new Date(checkout)\n  else    \n    delete filter_data['$and']\n  console.log(\"filter_data\")\n  console.log(filter_data)\n   Session.set('order-filter',filter_data)\n\n  }\n\n  render () {\n    return (\n      <div>\n        <div className=\"row top-strip-db\">\n          <div className=\"col-sm-2\">\n            <div className=\"custom-select\">\n              <div className=\"active-list\">Please select</div>\n              <input type=\"text\" id=\"filter-status\" className=\"list-field\"/>\n              <ul className=\"drop-down-list\">\n                <li data-value = \"all\" onClick={this.dropDownClick.bind(this,'all')}>All</li>\n                <li data-value =\"0\" onClick={this.dropDownClick.bind(this,'0')}>Pending</li>\n                <li data-value = \"1\" onClick={this.dropDownClick.bind(this,'1')}>Accepted</li>\n                <li data-value = \"2\" onClick={this.dropDownClick.bind(this,'2')}>Rejected</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"col-sm-2\">\n            <div className=\"custom-select\">\n              <div className=\"active-list\">Please select</div>\n              <input type=\"text\" id=\"filter-type\" className=\"list-field\"/>\n              <ul className=\"drop-down-list\">\n                <li data-value = \"all\" onClick={this.dropDownClick.bind(this,'all')}>All</li>\n                <li data-value =\"0\" onClick={this.dropDownClick.bind(this,'dayBooking')}>Daily</li>\n                <li data-value = \"1\" onClick={this.dropDownClick.bind(this,'weekBooking')}>Weekly</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"col-sm-2\">\n           <input type=\"text\" placeholder=\"CHECK-IN DATE\" id=\"checkinDate\" ref=\"checkinDate\" className=\"form-control avail-date\" />\n          </div>\n          <div className=\"col-sm-2\">\n            <input type=\"text\" placeholder=\"CHECK-OUT DATE\" id=\"checkoutDate\" ref=\"checkoutDate\" className=\"form-control avail-date\" />\n          </div>\n          <div className=\"col-sm-2\">\n            <button className=\"btn primary-btn std-height\" onClick={this.applyFilter.bind(this)}>Search Order</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nimport { createNewUser } from '../../../api/user/methods.js';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n    isRequired: {\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    minLengthCheck : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).length >= 6);\n      }\n    },\n    isChecked : {\n      rule : function(value) {\n            console.log(value)\n      }\n    }\n});\n\nexport default class AddUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      reg_error: '',\n      reg_success:''\n    };\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    var self = this;\n      self.setState({'reg_error':''});\n      self.setState({'reg_success':''});\n      /*const firstName   = ReactDOM.findDOMNode(this.refs.firstName).value.trim(),\n        lastName        = ReactDOM.findDOMNode(this.refs.lastName).value.trim(),\n        role            = ReactDOM.findDOMNode(this.refs.role).value.trim(),\n        email           = ReactDOM.findDOMNode(this.refs.email).value.trim(),\n        status          = 'active';*/\n        const firstName   = $(event.currentTarget).find('#firstName').val().trim(),\n          lastName        = $(event.currentTarget).find('#lastName').val().trim(),\n          role            = $(event.currentTarget).find('#role').val().trim(),\n          email           = $(event.currentTarget).find('#email').val().trim(),\n          status          = 'active';\n\n        var password = Random.secret([6]);\n        // create user\n        var userData = {\n          email: email.toLowerCase(),\n          password: password,\n          profile:{\n              firstName : firstName,\n              lastName  : lastName,\n              name      : firstName+' '+lastName,\n              email     : email,\n              role      : role,\n              status    : status \n          }\n        }\n        if (role === 'Homestay' || role ===  'University residence' ){\n          userData.profile['homestayId'] = ''\n        }\n        var _this = $(event.currentTarget);\n        $(event.currentTarget).find('#addUserButton').prop('disabled',true)\n        // Method for create new user\n        createNewUser.call(userData, (error, res)=> {\n            if (error) {\n                _this.find('#addUserButton').prop('disabled',false)\n                console.log(error)\n                self.setState({'reg_error':error.reason});\n            } else {\n                var options = {}\n                options['subject'] = 'OurHomeStay - Account Created'\n                options['message'] = 'New accout created. Try Login with the given password and change your password. Password : '+password\n\n                options['recipient'] = email;\n                params  = {\n                  recipient_name : firstName +' '+lastName, \n                  link : \"http://52.42.62.56:3000/\"\n                };\n                options['params'] = params;\n                options['mail_template'] = \"notification\";\n\n                // Method for send email\n                Meteor.call(\"sendMail\", options, function (error) {\n                  _this.find('#addUserButton').prop('disabled',false)\n                  if(error){\n                    console.log(error)\n                    console.log('Sorry!. Failed to send mail.')\n                    self.setState({'reg_error':'Sorry!. Failed to send mail.'});\n                  }else{\n                    console.log('Successfully created new account and send mail to user.')\n                    self.setState({'reg_success':'Successfully created new account and send mail to user.'});\n                  }\n                })\n            }\n        });\n  }\n  componentDidMount() {\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n          FlowRouter.go('noaccess')\n      }\n    }\n  }\n  getMessage() {\n    if(this.state.reg_error) {\n      return ( <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                      <div className=\"error-message\">\n                        {this.state.reg_error}\n                      </div>\n                    </div>\n                  </div>\n              )\n    }\n    if (this.state.reg_success) {\n      return ( <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                      <div className=\"success-message\">\n                        {this.state.reg_success}\n                      </div>\n                    </div>\n                  </div>\n              )\n    }\n  }\n\n  getAddUserForm () {\n    return (\n      <section className=\"dashboard-content-wrapper signup\">\n        <div className=\"container\">\n          <div className=\"user-accounts-wrapper\">\n            <div className=\"user-logo\"><a href=\"/admin/homestays\"><img src=\"../images/logo.png\" alt /></a></div>\n            <div className=\"header-wrap\">Add User</div>\n            <Validation.Form id=\"form-addUser\" action=\"#\" className=\"user-form-wrap\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n              {this.getMessage()}\n              <div className=\"row\">\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"firstName\" className=\"control-label\">First Name </label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      name=\"firstName\" \n                      ref=\"firstName\" \n                      id=\"firstName\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter First Name'\n                        }\n                      ]}\n                      placeholder=\"Enter First Name\" />\n                  </div>\n                </div>\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"lastName\" className=\"control-label\">Last Name </label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      name=\"lastName\" \n                      ref=\"lastName\" \n                      id=\"lastName\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter Last Name'\n                        }\n                      ]}\n                      placeholder=\"Enter Last Name\" />\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"role\" className=\"control-label\">Role</label>\n                    <select id=\"role\" className=\"form-control\" name=\"role\" ref=\"role\">\n                      <option value=\"Student\">Student</option>\n                      <option value=\"Homestay\">Homestay</option>\n                      <option value=\"Agency\">Agency</option>\n                      <option value=\"Accounting\">Accounting</option>\n                      <option value=\"University residence\">University residence</option>\n                    </select>\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"email\" className=\"control-label\">Email</label>\n                    <Validation.Input \n                      type=\"email\" \n                      className=\"form-control\" \n                      id=\"email\" \n                      name=\"email\" \n                      ref=\"email\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your Email ID'\n                        },\n                        {\n                          rule : 'isEmail',\n                          errorMessage: \"Enter a valid Email\"\n                        }\n                      ]} \n                      placeholder=\"Enter Email\" />\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group text-center\">\n                    <Validation.Button type=\"submit\" id=\"addUserButton\" className=\"btn primary-btn lg btn-block\" value=\"Add User\" />\n                  </div>\n                </div>\n              </div>\n            </Validation.Form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n  render() {\n    \n    return this.getAddUserForm()\n  }\n};\n  ","import React, {Component, PropTypes} from 'react';\nimport ReactDOM    from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport CircularProgress from 'material-ui/CircularProgress'\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nvar createFragment = require('react-addons-create-fragment');\n\nimport Sidebar    from '../../shared/Sidebar.jsx';\nimport PaginationBar    from '../../components/PaginationBar.jsx';\n\nimport { updateUser } from '../../../api/admin/agency/methods.js';\n\n\nexport default class ListAgency extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      currentPage : 1,\n      skip: ''\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n     Session.set('search_query_email',{\"roles\":\"Agency\"})\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n          FlowRouter.go('noaccess')\n      }\n    }\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage' : Number(FlowRouter.getQueryParam('page'))} )\n    }\n  }\n\n  getErrorMessage () {\n    let error = Session.get('error');\n    let success = Session.get('success');\n\n    Session.set('success', null);\n    Session.set('error', null) ;\n\n    if(error) {\n      return   (<div className=\"row\">\n                              <div className=\"col-sm-12\">\n                                <div className=\"error-message\">\n                                  {error}\n                                </div>\n                              </div>\n                      </div>)\n    }\n  }\n   handleSearchEmail(event){\n    filter_email = ReactDOM.findDOMNode(this.refs.filter_email).value.trim()\n    let query = {\"roles\":\"Agency\"};\n    if(filter_email)\n      query['emails'] = { $elemMatch: { address: {$regex: filter_email} } } \n    console.log(query)\n    // HomestayIndex.getComponentMethods().search(query)\n    Session.set('search_query_email',query)\n    // FlowRouter.go('search')\n  }\n\n  renderAgency () {\n    if (this.props.agencyLoading && this.props.userCount === 0) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      if(this.props.userCount > 0) {\n        return (\n          <div>\n           <AgencyList data={this.props.users}/>\n           <PaginationBar currentPage={this.state.currentPage} totalCount={this.props.userCount} />\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"col-sm-12\">\n             <h5> Seems that there is no Agencies right now!..</h5>\n          </div>\n        )\n      }\n    }\n  }\n\n  render() {\n        let _this = this;\n    return (\n       <section className=\"dashboard-content-wrapper\">\n        < Sidebar />\n        <aside className=\"right-side-wrapper\">\n          <div className=\"dashboard-content\">\n            <div className=\"row top-strip-db\">\n              <aside className=\"col-sm-4\">\n              </aside>  \n              <aside className=\"col-sm-6\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"Email Address\" ref=\"filter_email\" />\n              </aside>  \n               <aside className=\"col-sm-2 text-center\">\n                <a onClick={this.handleSearchEmail.bind(_this)} className=\"primary-btn lg\">Search</a>\n              </aside>\n            </div>\n            {this.getErrorMessage ()}\n            {this.renderAgency()}\n          </div>\n        </aside>\n      </section>\n    );\n  }\n};\nListAgency.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nListAgency.propTypes = {\n    users: PropTypes.array.isRequired,\n    userCount: PropTypes.number.isRequired\n};\n\nexport default createContainer(() => {\n    let query = Session.get('search_query_email');\n    const AgencyHandle = Meteor.subscribe('agencyList',query, 10, FlowRouter.getQueryParam('page'));\n    return {\n        currentUser     : Meteor.user(),\n        agencyLoading   : !AgencyHandle.ready(),\n        users           : Meteor.users.find({\"roles\":\"Agency\"},{sort:{'createdAt':-1}, limit: 10}).fetch(),\n        userCount       : Counts.get('agency-count')\n    }\n}, ListAgency);\n\nexport class AgencyList extends Component {\n  render() {\n    var children =[];\n    let startIndex = 0;\n    if(FlowRouter.getQueryParam('page')) {\n      startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*10;\n    }\n    var agencyNodes = this.props.data.map(function (agency, index) {\n      startIndex=startIndex+1;\n      return (\n        <Agency key={agency._id} index={startIndex} userId={agency._id} firstName={agency.profile.firstName} lastName={agency.profile.lastName} role={agency.profile.role} email={agency.emails[0].address} status={agency.profile.status} />\n      )\n    });\n\n    return(\n      <table className=\"table db-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>First Name</th>\n            <th>Last Name</th>\n            <th>Email</th>\n            <th>Role</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n         {agencyNodes}\n        </tbody>\n      </table>\n    );\n  }\n};\n\nexport class Agency extends Component {\n  updateUserStatus (event) {\n    let updatedStatus = this.props.status;\n    if (this.props.status === 'active') {\n      updatedStatus = 'inactive';\n    } else {\n      updatedStatus = 'active';\n    }\n    let userData = {\n      'profile.status' : updatedStatus\n    }\n    let self = this;\n    let updateUser_args = {\n      userId : this.props.userId,\n      options : userData\n    }\n    updateUser.call(updateUser_args, (error, res) => {\n      if(error){\n        Session.set('error',  error.reason)\n      }else{\n        Session.set('success', 'Updated agency details')\n      }\n    })\n  }\n\n  render() {\n    return(\n        <tr>\n          <td>{this.props.index}</td>\n          <td>{this.props.firstName}</td>\n          <td>{this.props.lastName}</td>\n          <td>{this.props.email}</td>\n          <td>{this.props.role}</td>\n          <td><button onClick={this.updateUserStatus.bind(this)} className={(this.props.status ===\"active\")?\"btn status-active\": \"btn status-inactive\"}>{this.props.status}</button></td>\n        </tr>\n    );\n  }\n}\n","import React, {Component, PropTypes}  from 'react';\nimport ReactDOM                       from 'react-dom';\nimport { createContainer }            from 'meteor/react-meteor-data';\nimport {FlowRouter}                   from 'meteor/kadira:flow-router';\n\nimport CircularProgress from 'material-ui/CircularProgress';\nimport Dialog           from 'material-ui/Dialog';\nimport FlatButton       from 'material-ui/FlatButton';\nimport RaisedButton     from 'material-ui/RaisedButton';\nimport baseTheme        from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme      from 'material-ui/styles/getMuiTheme';\n\nimport Sidebar                from '../../shared/Sidebar.jsx';\nimport PaginationBar          from '../../components/PaginationBar.jsx';\nimport { Homestays }          from '../../../api/homestays/homestays.js';\nimport { assignHomestayUser, deleteHomestay } from '../../../api/admin/homestays/methods.js';\nimport { updateHomestay }     from '../../../api/admin/homestays/methods.js';\nimport { updateUser }         from '../../../api/user/methods.js';\nvar classNames = require('classnames');\n\nexport default class ListHomestays extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      currentPage : 1,\n      disable:false,\n      userCount : this.props.userCount,\n    };\n  }\n  \n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n    Session.set('search_query_email',{'type':'homestay'})\n    console.log(Roles.userIsInRole(Meteor.userId(), 'Admin'))\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n          FlowRouter.go('noaccess')\n      }\n    }\n    // Set current Page count\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage' : Number(FlowRouter.getQueryParam('page'))} )\n    }\n  }\n\n  //redirect to create homestay page\n  createProfilePage(event) {\n    FlowRouter.go('/admin/createHomestay');\n  }\n  handleSearchEmail(event){ \n    filter_email = ReactDOM.findDOMNode(this.refs.filter_email).value.trim()\n    let query = {'type':'homestay'};\n    if(filter_email)\n      console.log(\"filter_email\", filter_email);\n\n    query ={ \"$or\": [\n      { \"name\": { \"$regex\": filter_email} }, \n      { \"email\": { \"$regex\": filter_email },},\n      { \"first_name\": { \"$regex\": filter_email },},\n      { \"last_name\": { \"$regex\": filter_email },}\n  ]}\n\n    console.log(\"query-----------------????????\", query)\n    // HomestayIndex.getComponentMethods().search(query)\n    Session.set('search_query_email',query)\n    // FlowRouter.go('search')\n  }\n\n  //render homestay outer layout\n  renderHomestay () {\n    console.log(\"state \"+this.state.userCount )\n    console.log(\"props type \"+ typeof this.props.userCount )\n    console.log(\"props \"+ this.props.userCount )\n    if (this.props.homestayLoading && this.props.userCount === 0) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      if(this.props.userCount > 0) {\n        console.log(\"this.props.userCount\", this.props.userCount)\n        return (\n          <div>\n           {/**\n                       * Render homestay table\n                       * Props : homestay array\n                       */}\n           <HomestayList data={this.props.homestays}/>\n           {/**\n                       * Render pagination bar\n                       * Props : current page index, total usercount\n                       */}\n           <PaginationBar currentPage={this.state.currentPage} totalCount={this.props.userCount} />\n          </div>\n        )\n      } else {\n        // render empty container\n        return (\n          <div className=\"col-sm-12\">\n            <h5> Seems that there is no homestays right now!..</h5>\n          </div>\n        )\n      }\n    }\n  }\n\n  // render list homestay page\n  render() {\n    let _this = this;\n    return (\n      <section className=\"dashboard-content-wrapper\">\n        < Sidebar />\n        <aside className=\"right-side-wrapper\">\n          <div className=\"dashboard-content\">\n            <div className=\"row top-strip-db\">\n              <div className=\"col-sm-4\">\n                <button className=\"createButton btn secondary-btn std-height\"  onClick={this.createProfilePage.bind(this)}> Create HomeStay </button>\n              </div>\n              <aside className=\"col-sm-6\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"Email Address\" ref=\"filter_email\" />\n              </aside>  \n               <aside className=\"col-sm-2 text-center\">\n                <a onClick={this.handleSearchEmail.bind(_this)} className=\"primary-btn lg\">Search</a>\n              </aside>\n            </div>\n            {this.renderHomestay()}\n          </div>\n        </aside>  \n      </section>\n    );\n  }\n};\nListHomestays.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nListHomestays.propTypes = {\n    homestays: PropTypes.array.isRequired,\n    userCount: PropTypes.number.isRequired\n};\n\nexport default createContainer(() => {\n    let query = Session.get('search_query_email');\n    const HomestayHandle = Meteor.subscribe('homestays',query, 10, FlowRouter.getQueryParam('page'));\n    return {\n        currentUser     : Meteor.user(),\n        homestayLoading : !HomestayHandle.ready(),\n        homestays       : Homestays.find({},{sort:{'created_at':-1}, limit: 10}).fetch(),\n        userCount       : Counts.get('homestay-count')\n    }\n}, ListHomestays);\n\n// Homestay table\nexport class HomestayList extends Component {\n    // function to show error message\n  getErrorMessage () {\n    let error = Session.get('error');\n    let success = Session.get('success');\n\n    Session.set('success', null);\n    Session.set('error', null) ;\n\n    if(error) {\n      return   (<div className=\"row\">\n                              <div className=\"col-sm-12\">\n                                <div className=\"error-message\">\n                                  {error}\n                                </div>\n                              </div>\n                      </div>)\n    }\n  }\n\n  render() {\n    var children =[];\n    console.log(\"this.props\", this.props)\n    var modalOpen = this.props.modalOpen;\n    let startIndex = 0;\n    if(FlowRouter.getQueryParam('page')) {\n      startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*10;\n    }\n    var homestayNodes = this.props.data.map(function (homestay, index) {\n      startIndex = startIndex +1;\n      //Render each homestay row\n      return (\n        <Homestay key={homestay._id} homestayId={homestay._id} index={startIndex} name={homestay.name} email={homestay.email} status={homestay.status} ownerId={homestay.ownerId} userId={homestay.userId} userName={homestay.userName} modalOpen={modalOpen}/>\n      )\n    });\n\n    return(\n      <div>\n      {this.getErrorMessage ()}\n      <table className=\"table db-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Homestay Name</th>\n            <th>Email</th>\n            <th>Owner</th>\n            <th>Status</th>\n            <th></th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          {homestayNodes}\n        </tbody>\n      </table>\n      </div>\n    );\n  }\n};\n\n//Render each homestay row\nexport class Homestay extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      open: false,\n      openDelete: false,\n    };\n  }\n  // Function to set muiTheme foe Dailog component\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n\n  //Function to update homestay status\n  updateHomestayStatus (event) {\n    let updatedStatus = this.props.status;\n    if (this.props.status === 'active') {\n      updatedStatus = 'inactive';\n    } else {\n      updatedStatus = 'active';\n    }\n    let homestayStatus = {\n      'status' : updatedStatus\n    }\n    let self = this;\n    let updateHomestay_args = {\n      homestayId : this.props.homestayId,\n      options : homestayStatus\n    }\n    updateHomestay.call(updateHomestay_args, (error, res) => {\n      if(error){\n        Session.set('error',  error.reason)\n      }else{\n        if (self.props.userId) {\n          let options = {\n            \"Profile.status\" : updatedStatus\n          }\n          let updateUser_args = {\n            userId : self.props.userId,\n            options : options\n          }\n          updateUser.call(updateUser_args, (error, res) => {\n            if(error){\n              Session.set('error',  error.reason)\n            }else{\n              Session.set('success', 'Updated homestay details')\n            }\n          })\n        } else {\n          Session.set('success', 'Updated homestay details')\n        }\n      }\n    })\n  }\n\n  //Function to redirect to edit homestay page\n  editHomestay (event) {\n    FlowRouter.go('/admin/manageHomestay?homestayId='+this.props.homestayId+'')\n  }\n  // Function to open modal\n  handleOpen() {\n      this.setState({open: true});\n  }\n  // Function to close modal\n  handleClose() {\n      this.setState({open: false});\n  }\n  handleDeleteOpen() {\n      this.setState({openDelete: true});\n  }\n  // Function to close modal\n  handleDeleteClose() {\n      this.setState({openDelete: false});\n  }\n  renderHtml () {\n    if (!this.props.userId) {\n        const actions = [\n            <button className=\"btn cancel-btn\" onClick= {this.handleClose.bind(this)} > cancel </button>,\n          ];\n       return (<td>\n               <button className=\"btn status-inactive\" onClick={this.handleOpen.bind(this)}>Assign User</button>\n               <Dialog\n                    title=\"Assign User\"\n                    actions={actions}\n                    modal={true}\n                    open={this.state.open}\n                >\n                    < AssignForm homestayId={this.props.homestayId} />\n                </Dialog>\n               </td>)\n\n    } else {\n      return ( <td><button className=\"btn status-inactive\" disabled=\"disabled\">Assigned - {this.props.userName} </button></td>)\n    }\n  }\n  renderDeleteHtml () {\n      const actions = [\n          <button className=\"btn cancel-btn\" onClick= {this.handleDeleteClose.bind(this)} > Cancel </button>,\n        ];\n      return (<td>\n              <button className=\"btn status-inactive\" onClick={this.handleDeleteOpen.bind(this)}>Delete</button>\n              <Dialog\n                  title=\"Delete Homestay\"\n                  actions={actions}\n                  modal={true}\n                  open={this.state.openDelete}\n              >\n                  < DeleteForm homestayId={this.props.homestayId} />\n              </Dialog>\n              </td>)\n  }\n  render() {\n\n    return(\n        <tr>\n          <td>{this.props.index}</td>\n          <td>{this.props.name}</td>\n          <td>{this.props.email}</td>\n          {this.renderHtml()}\n          <td><button onClick={this.updateHomestayStatus.bind(this)} className={(this.props.status ===\"active\")?\"btn status-active\": \"btn status-inactive\"} >{this.props.status}</button></td>\n          <td><button onClick={this.editHomestay.bind(this)} className=\"btn status-inactive\">Manage</button></td>\n          {this.renderDeleteHtml()}\n         </tr>\n    );\n  }\n}\nHomestay.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport class AssignForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:''\n    };\n  }\n\n  componentDidMount () {\n    $(\"#select\").select2({\n      placeholder : \"Enter User Email Id\",\n      ajax: {\n        url: \"/search-users\",\n        dataType: 'json',\n        delay: 250,\n        data: function (params) {\n          return {\n            q: params.term, // search term\n            page: params.page\n          };\n        },\n        processResults: function (data, params) {\n          // parse the results into the format expected by Select2\n          // since we are using custom formatting functions we do not need to\n          // alter the remote JSON data, except to indicate that infinite\n          // scrolling can be used\n          params.page = params.page || 1;\n          return {\n            results: data,\n            pagination: {\n              more: (params.page * 30) < data.total_count\n            }\n          };\n        },\n        cache: true\n      },\n      // escapeMarkup: function (markup) { return markup; }, // let our custom formatter work\n      minimumInputLength: 2\n      // templateResult: formatUser\n    });\n  }\n  handleSubmit(event){\n    event.preventDefault();\n\n    var self = this;\n      const userData   = this.refs.userEmail.value.trim();\n      const userId     = userData.split('-')[0];\n      const userName   = userData.split('-')[1];\n      if (userId) {\n        let assign_args = {\n          homestayId : this.props.homestayId,\n          userId,\n          userName\n        }\n        assignHomestayUser.call(assign_args, (error, res) =>{\n            if (error) {\n                self.setState({'error':error.reason});\n            }\n        });\n      } else {\n        self.setState({'error':'Please select a user'});\n      }\n  }\n\n  getMessage() {\n    if(this.state.error) {\n      return (\n        <div className=\"error-message\">\n          {this.state.error}\n        </div>\n      )\n    }\n  }\n\n  render () {\n    return (\n      <form className=\"assign-user-form\">\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"form-group\">\n              {this.getMessage()}\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"form-group\">\n              <label className=\"control-label\" >User Email</label>\n              <select id=\"select\"  name=\"userEmail\" ref=\"userEmail\" data-init-plugin=\"select2\"  className=\"form-control\">\n\n              </select>\n            </div>\n          </div>\n        </div>\n        <button className=\"save-btn btn primary-btn std-height\"  onClick= {this.handleSubmit.bind(this)}>Assign</button>\n      </form>\n    )\n  }\n}\n\nexport class DeleteForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:''\n    };\n  }\n\n  componentDidMount () {\n    // $(\"#select\").select2({\n    //   placeholder : \"Enter User Email Id\",\n    //   ajax: {\n    //     url: \"/search-users\",\n    //     dataType: 'json',\n    //     delay: 250,\n    //     data: function (params) {\n    //       return {\n    //         q: params.term, // search term\n    //         page: params.page\n    //       };\n    //     },\n    //     processResults: function (data, params) {\n    //       // parse the results into the format expected by Select2\n    //       // since we are using custom formatting functions we do not need to\n    //       // alter the remote JSON data, except to indicate that infinite\n    //       // scrolling can be used\n    //       params.page = params.page || 1;\n    //       return {\n    //         results: data,\n    //         pagination: {\n    //           more: (params.page * 30) < data.total_count\n    //         }\n    //       };\n    //     },\n    //     cache: true\n    //   },\n    //   // escapeMarkup: function (markup) { return markup; }, // let our custom formatter work\n    //   minimumInputLength: 2\n    //   // templateResult: formatUser\n    // });\n  }\n  handleSubmit(event){\n    event.preventDefault();\n\n    var self = this;\n    deleteHomestay.call(this.props.homestayId, (error, res) => {\n      if (error) {\n          self.setState({'error':error.reason});\n      } \n    })\n  }\n\n  getMessage() {\n    if(this.state.error) {\n      return (\n        <div className=\"error-message\">\n          {this.state.error}\n        </div>\n      )\n    }\n  }\n\n  render () {\n    return (\n      <form className=\"assign-user-form\">\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"form-group\">\n              {this.getMessage()}\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"form-group\">\n              {/* <label className=\"control-label\" >User Email</label>\n              <select id=\"select\"  name=\"userEmail\" ref=\"userEmail\" data-init-plugin=\"select2\"  className=\"form-control\">\n\n              </select> */}\n              <div>Are you sure?</div>\n              <div>You will not be able to recover this homestay!</div>\n            </div>\n          </div>\n        </div>\n        <button className=\"save-btn btn primary-btn std-height\"  onClick= {this.handleSubmit.bind(this)}>Yes, delete it!</button>\n        {/* <button className=\"save-btn btn primary-btn std-height\"  >No, keep it</button> */}\n      </form>\n    )\n  }\n}\n","import React, {Component, PropTypes} from 'react';\nimport ReactDOM    from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nvar createFragment = require('react-addons-create-fragment');\n\nimport CircularProgress from 'material-ui/CircularProgress'\nimport baseTheme        from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme      from 'material-ui/styles/getMuiTheme';\nimport Sidebar          from '../../shared/Sidebar.jsx';\nimport PaginationBar    from '../../components/PaginationBar.jsx';\n\nimport { updateUser }   from '../../../api/admin/students/methods.js';\n\n\nexport default class ListStudents extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      currentPage : 1,\n      skip: ''\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n     Session.set('search_query_email',{\"roles\":\"Student\"} )\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n          FlowRouter.go('noaccess')\n      }\n    }\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage' : Number(FlowRouter.getQueryParam('page'))} )\n    }\n  }\n\n  getErrorMessage () {\n    let error = Session.get('error');\n    let success = Session.get('success');\n\n    Session.set('success', null);\n    Session.set('error', null) ;\n\n    if(error) {\n      return   (<div className=\"row\">\n                              <div className=\"col-sm-12\">\n                                <div className=\"error-message\">\n                                  {error}\n                                </div>\n                              </div>\n                      </div>)\n    }\n  }\n\n  handleSearchEmail(event){\n    filter_email = ReactDOM.findDOMNode(this.refs.filter_email).value.trim()\n    let query = {\"roles\":\"Student\"};\n    if(filter_email)\n      query['emails'] = { $elemMatch: { address: {$regex: filter_email} } } \n    console.log(query)\n    // HomestayIndex.getComponentMethods().search(query)\n    Session.set('search_query_email',query)\n    // FlowRouter.go('search')\n  }\n\n  renderStudent () {\n    if (this.props.studentLoading && this.props.userCount === 0) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      if(this.props.userCount > 0) {\n        return (\n          <div>\n           <StudentList data={this.props.users}/>\n           <PaginationBar currentPage={this.state.currentPage} totalCount={this.props.userCount} />\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"col-sm-12\">\n             <h5> Seems that there is no Students right now!..</h5>\n          </div>\n        )\n      }\n    }\n  }\n\n  render() {\n        let _this = this;\n    return (\n       <section className=\"dashboard-content-wrapper\">\n        < Sidebar />\n        <aside className=\"right-side-wrapper\">\n          <div className=\"dashboard-content\">\n            <div className=\"row top-strip-db\">\n               <aside className=\"col-sm-4\">\n              </aside>\n              <aside className=\"col-sm-6\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"Email Address\" ref=\"filter_email\" />\n              </aside>  \n               <aside className=\"col-sm-2 text-center\">\n                <a onClick={this.handleSearchEmail.bind(_this)} className=\"primary-btn lg\">Search</a>\n              </aside>\n            </div>\n            {this.getErrorMessage ()}\n            {this.renderStudent()}\n          </div>\n        </aside>\n      </section>\n    );\n  }\n};\nListStudents.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nListStudents.propTypes = {\n    users: PropTypes.array.isRequired,\n    userCount: PropTypes.number.isRequired\n};\n\nexport default createContainer(() => {\n  let query = Session.get('search_query_email');\n    const StudentHandle = Meteor.subscribe('studentList', query, 10, FlowRouter.getQueryParam('page'));\n    return {\n        currentUser     : Meteor.user(),\n        studentLoading  : !StudentHandle.ready(),\n        users           : Meteor.users.find({\"roles\":\"Student\"},{sort:{'createdAt':-1},limit: 10}).fetch(),\n        userCount       : Counts.get('student-count')\n    }\n}, ListStudents);\n\nexport class StudentList extends Component {\n  render() {\n    var children =[];\n    let startIndex = 0;\n    if(FlowRouter.getQueryParam('page')) {\n      startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*10;\n    }\n    var studentNodes = this.props.data.map(function (student, index) {\n      startIndex=startIndex+1;\n      return (\n        <Student key={student._id} index={startIndex} userId={student._id} firstName={student.profile.firstName} lastName={student.profile.lastName} role={student.profile.role} email={student.emails[0].address} status={student.profile.status} />\n      )\n    });\n\n    return(\n      <table className=\"table db-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>First Name</th>\n            <th>Last Name</th>\n            <th>Email</th>\n            <th>Role</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n         {studentNodes}\n        </tbody>\n      </table>\n    );\n  }\n};\n\nexport class Student extends Component {\n  updateUserStatus (event) {\n    let updatedStatus = this.props.status;\n    if (this.props.status === 'active') {\n      updatedStatus = 'inactive';\n    } else {\n      updatedStatus = 'active';\n    }\n    let userData = {\n      'profile.status' : updatedStatus\n    }\n    let self = this;\n    let updateUser_args = {\n      userId : this.props.userId,\n      options : userData\n    }\n    updateUser.call(updateUser_args, (error, res) => {\n      if(error){\n        Session.set('error',  error.reason)\n      }else{\n        Session.set('success', 'Updated student details')\n      }\n    })\n  }\n\n  render() {\n    return(\n        <tr>\n          <td>{this.props.index}</td>\n          <td>{this.props.firstName}</td>\n          <td>{this.props.lastName}</td>\n          <td>{this.props.email}</td>\n          <td>{this.props.role}</td>\n          <td><button onClick={this.updateUserStatus.bind(this)} className={(this.props.status ===\"active\")?\"btn status-active\": \"btn status-inactive\"} >{this.props.status}</button></td>\n        </tr>\n    );\n  }\n}\n","import React, {Component, PropTypes}  from 'react';\nimport ReactDOM                       from 'react-dom';\nimport { createContainer }            from 'meteor/react-meteor-data';\nimport {FlowRouter}                   from 'meteor/kadira:flow-router';\n\nimport CircularProgress from 'material-ui/CircularProgress';\nimport Dialog           from 'material-ui/Dialog';\nimport FlatButton       from 'material-ui/FlatButton';\nimport RaisedButton     from 'material-ui/RaisedButton';\nimport baseTheme        from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme      from 'material-ui/styles/getMuiTheme';\n\nimport Sidebar                from '../../shared/Sidebar.jsx';\nimport PaginationBar          from '../../components/PaginationBar.jsx';\nimport { Homestays }          from '../../../api/homestays/homestays.js';\nimport { assignHomestayUser } from '../../../api/admin/homestays/methods.js';\nimport { updateHomestay }     from '../../../api/admin/homestays/methods.js';\nimport { updateUser }         from '../../../api/user/methods.js';\nvar classNames = require('classnames');\n\nexport default class ListHomestays extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      currentPage : 1,\n      disable:false,\n      userCount : this.props.userCount\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n     Session.set('search_query_email',{'type':'university residence'})\n    console.log(Roles.userIsInRole(Meteor.userId(), 'Admin'))\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n          FlowRouter.go('noaccess')\n      }\n    }\n    // Set current Page count\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage' : Number(FlowRouter.getQueryParam('page'))} )\n    }\n  }\n\n  //redirect to create homestay page\n  createProfilePage(event) {\n    FlowRouter.go('/admin/createResidence');\n  }\n    handleSearchEmail(event){\nfilter_email = ReactDOM.findDOMNode(this.refs.filter_email).value.trim()\n    let query = {'type':'university residence'};\n    if(filter_email)\n      query['email'] = {$regex: filter_email} \n    console.log(query)\n    // HomestayIndex.getComponentMethods().search(query)\n    Session.set('search_query_email',query)\n    // FlowRouter.go('search')\n  }\n  //render homestay outer layout\n  renderHomestay () {\n    console.log(\"state \"+this.state.userCount )\n    console.log(\"props type \"+ typeof this.props.userCount )\n    console.log(\"props \"+ this.props.userCount )\n    if (this.props.homestayLoading && this.props.userCount === 0) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      if(this.props.userCount > 0) {\n        return (\n          <div>\n           {/**\n                       * Render homestay table\n                       * Props : homestay array\n                       */}\n           <HomestayList data={this.props.homestays}/>\n           {/**\n                       * Render pagination bar\n                       * Props : current page index, total usercount\n                       */}\n           <PaginationBar currentPage={this.state.currentPage} totalCount={this.props.userCount} />\n          </div>\n        )\n      } else {\n        // render empty container\n        return (\n          <div className=\"col-sm-12\">\n            <h5> Seems that there is no homestays right now!..</h5>\n          </div>\n        )\n      }\n    }\n  }\n\n  // render list homestay page\n  render() {\n        let _this = this;\n    return (\n      <section className=\"dashboard-content-wrapper\">\n        < Sidebar />\n        <aside className=\"right-side-wrapper\">\n          <div className=\"dashboard-content\">\n            <div className=\"row top-strip-db\">\n              <div className=\"col-sm-4\">\n                <button className=\"createButton btn secondary-btn std-height\"  onClick={this.createProfilePage.bind(this)}> Create University Residence </button>\n              </div>\n              <aside className=\"col-sm-6\">\n                <input type=\"text\" className=\"form-control\" placeholder=\"Email Address\" ref=\"filter_email\" />\n              </aside>  \n               <aside className=\"col-sm-2 text-center\">\n                <a onClick={this.handleSearchEmail.bind(_this)} className=\"primary-btn lg\">Search</a>\n              </aside>\n            </div>\n            {this.renderHomestay()}\n          </div>\n        </aside>\n      </section>\n    );\n  }\n};\nListHomestays.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nListHomestays.propTypes = {\n    homestays: PropTypes.array.isRequired,\n    userCount: PropTypes.number.isRequired\n};\n\nexport default createContainer(() => {\n   let query = Session.get('search_query_email');\n    const HomestayHandle = Meteor.subscribe('universities',query,10, FlowRouter.getQueryParam('page'));\n    return {\n        currentUser     : Meteor.user(),\n        homestayLoading : !HomestayHandle.ready(),\n        homestays       : Homestays.find({},{sort:{'created_at':-1}, limit: 10}).fetch(),\n        userCount       : Counts.get('university-count')\n    }\n}, ListHomestays);\n\n// Homestay table\nexport class HomestayList extends Component {\n    // function to show error message\n  getErrorMessage () {\n    let error = Session.get('error');\n    let success = Session.get('success');\n\n    Session.set('success', null);\n    Session.set('error', null) ;\n\n    if(error) {\n      return   (<div className=\"row\">\n                              <div className=\"col-sm-12\">\n                                <div className=\"error-message\">\n                                  {error}\n                                </div>\n                              </div>\n                      </div>)\n    }\n  }\n\n  render() {\n    var children =[];\n    var modalOpen = this.props.modalOpen;\n    let startIndex = 0;\n    if(FlowRouter.getQueryParam('page')) {\n      startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*10;\n    }\n    var homestayNodes = this.props.data.map(function (homestay, index) {\n      startIndex = startIndex +1;\n      //Render each homestay row\n      return (\n        <Homestay key={homestay._id} homestayId={homestay._id} index={startIndex} name={homestay.name} email={homestay.email} status={homestay.status} ownerId={homestay.ownerId} userId={homestay.userId} userName={homestay.userName} modalOpen={modalOpen}/>\n      )\n    });\n\n    return(\n      <div>\n      {this.getErrorMessage ()}\n      <table className=\"table db-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Homestay Name</th>\n            <th>Email</th>\n            <th>Owner</th>\n            <th>Status</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          {homestayNodes}\n        </tbody>\n      </table>\n      </div>\n    );\n  }\n};\n\n//Render each homestay row\nexport class Homestay extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      open: false\n    };\n  }\n  // Function to set muiTheme foe Dailog component\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n\n  //Function to update homestay status\n  updateHomestayStatus (event) {\n    let updatedStatus = this.props.status;\n    if (this.props.status === 'active') {\n      updatedStatus = 'inactive';\n    } else {\n      updatedStatus = 'active';\n    }\n    let homestayStatus = {\n      'status' : updatedStatus\n    }\n    let self = this;\n    let updateHomestay_args = {\n      homestayId : this.props.homestayId,\n      options : homestayStatus\n    }\n    updateHomestay.call(updateHomestay_args, (error, res) => {\n      if(error){\n        Session.set('error',  error.reason)\n      }else{\n        if (self.props.userId) {\n          let options = {\n            \"Profile.status\" : updatedStatus\n          }\n          let updateUser_args = {\n            userId : self.props.userId,\n            options : options\n          }\n          updateUser.call(updateUser_args, (error, res) => {\n            if(error){\n              Session.set('error',  error.reason)\n            }else{\n              Session.set('success', 'Updated university residence details')\n            }\n          })\n        } else {\n          Session.set('success', 'Updated university residence details')\n        }\n      }\n    })\n  }\n\n  //Function to redirect to edit homestay page\n  editHomestay (event) {\n    FlowRouter.go('/admin/manageResidence?homestayId='+this.props.homestayId+'')\n  }\n  // Function to open modal\n  handleOpen() {\n      this.setState({open: true});\n  }\n  // Function to close modal\n  handleClose() {\n      this.setState({open: false});\n  }\n  renderHtml () {\n    if (!this.props.userId) {\n        const actions = [\n            <button className=\"btn cancel-btn\" onClick= {this.handleClose.bind(this)} > cancel </button>,\n          ];\n       return (<td>\n               <button className=\"btn status-inactive\" onClick={this.handleOpen.bind(this)}>Assign User</button>\n               <Dialog\n                    title=\"Assign User\"\n                    actions={actions}\n                    modal={true}\n                    open={this.state.open}\n                >\n                    < AssignForm homestayId={this.props.homestayId} />\n                </Dialog>\n               </td>)\n\n    } else {\n      return ( <td><button className=\"btn status-inactive\" disabled=\"disabled\">Assigned - {this.props.userName} </button></td>)\n    }\n  }\n  render() {\n\n    return(\n        <tr>\n          <td>{this.props.index}</td>\n          <td>{this.props.name}</td>\n          <td>{this.props.email}</td>\n          {this.renderHtml()}\n          <td><button onClick={this.updateHomestayStatus.bind(this)} className={(this.props.status ===\"active\")?\"btn status-active\": \"btn status-inactive\"} >{this.props.status}</button></td>\n          <td><button onClick={this.editHomestay.bind(this)} className=\"btn status-inactive\">Manage</button></td>\n         </tr>\n    );\n  }\n}\nHomestay.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport class AssignForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:''\n    };\n  }\n\n  componentDidMount () {\n    $(\"#select\").select2({\n      placeholder : \"Enter User Email Id\",\n      ajax: {\n        url: \"/search-university\",\n        dataType: 'json',\n        delay: 250,\n        data: function (params) {\n          return {\n            q: params.term, // search term\n            page: params.page\n          };\n        },\n        processResults: function (data, params) {\n          // parse the results into the format expected by Select2\n          // since we are using custom formatting functions we do not need to\n          // alter the remote JSON data, except to indicate that infinite\n          // scrolling can be used\n          params.page = params.page || 1;\n          return {\n            results: data,\n            pagination: {\n              more: (params.page * 30) < data.total_count\n            }\n          };\n        },\n        cache: true\n      },\n      // escapeMarkup: function (markup) { return markup; }, // let our custom formatter work\n      minimumInputLength: 2\n      // templateResult: formatUser\n    });\n  }\n  handleSubmit(event){\n    event.preventDefault();\n\n    var self = this;\n      const userData   = this.refs.userEmail.value.trim();\n      const userId     = userData.split('-')[0];\n      const userName   = userData.split('-')[1];\n      if (userId) {\n        let assign_args = {\n          homestayId : this.props.homestayId,\n          userId,\n          userName\n        }\n        assignHomestayUser.call(assign_args, (error, res) =>{\n            if (error) {\n                self.setState({'error':error.reason});\n            }\n        });\n      } else {\n        self.setState({'error':'Please select a user'});\n      }\n  }\n\n  getMessage() {\n    if(this.state.error) {\n      return (\n        <div className=\"error-message\">\n          {this.state.error}\n        </div>\n      )\n    }\n  }\n\n  render () {\n    return (\n      <form className=\"assign-user-form\">\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"form-group\">\n              {this.getMessage()}\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-12\">\n            <div className=\"form-group\">\n              <label className=\"control-label\" >User Email</label>\n              <select id=\"select\"  name=\"userEmail\" ref=\"userEmail\" data-init-plugin=\"select2\"  className=\"form-control\">\n\n              </select>\n            </div>\n          </div>\n        </div>\n        <button className=\"save-btn btn primary-btn std-height\"  onClick= {this.handleSubmit.bind(this)}>Assign</button>\n      </form>\n    )\n  }\n}\n","import React, {Component, PropTypes} from 'react';\n\nimport { createContainer } from 'meteor/react-meteor-data';\nimport CircularProgress from 'material-ui/CircularProgress'\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nvar createFragment = require('react-addons-create-fragment');\n\nimport Sidebar    from '../../shared/Sidebar.jsx';\nimport { createSettings,updateSettings } from '../../../api/admin/settings/methods.js';\nimport { Settings } from '../../../api/admin/settings/settings.js';\n\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n    \n    isHour : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[0-9\\s]+$/));\n        }\n    }\n});\n\nexport default class SettingsView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:''\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n  }\n \n  getMessage() {\n    if(this.state.error) {\n      return ( <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                      <div className=\"error-message\">\n                        {this.state.error}\n                      </div>\n                    </div>\n                  </div>\n              )\n    }\n    if (this.state.success) {\n      return ( <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                      <div className=\"success-message\">\n                        {this.state.success}\n                      </div>\n                    </div>\n                  </div>\n              )\n    }\n  }\n\n  handleSubmit(event){\n    event.preventDefault();\n    var self = this;\n    self.setState({'error':''});\n    self.setState({'success':''});\n    const commission_amount     = $(event.currentTarget).find('#commission_amount').val().trim(),\n          commission_amount_week = $(event.currentTarget).find('#commission_amount_week').val().trim(),\n          homestay_processing_time = $(event.currentTarget).find('#homestay_processing_time').val().trim(),\n          booking_cancellation = $(event.currentTarget).find('#booking_cancellation').val().trim();\n\n     // create setting object\n    var settings = {\n        commission_amount: parseFloat(parseFloat(commission_amount).toFixed(2)),\n        commission_amount_week: parseFloat(parseFloat(commission_amount_week).toFixed(2)),\n        homestay_processing_time: Number(homestay_processing_time),\n        booking_cancellation: Number(booking_cancellation)\n    }\n    // if already have settings just update\n    // else create new\n    if(this.props.settings){\n      settings['_id'] = this.props.settings._id;\n\n      updateSettings.call(settings, (error, response) => {\n            if (error) {\n                self.setState({'error':error.reason});\n            } else { \n                self.setState({'success':'Successfully saved'});\n            }\n        });\n    } else {\n      createSettings.call(settings, (error, response) => {\n          if (error) {\n              self.setState({'error':error.reason});\n          } else { \n              self.setState({'success':'Successfully saved'});\n          }\n      });\n    }\n  }\n\n  renderForm () {\n    return (\n          <div className=\"user-accounts-wrapper\">\n            <div className=\"header-wrap\">Settings</div>\n            <Validation.Form id=\"form-settings\" className=\"user-form-wrap\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n              {this.getMessage()}\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"commission_amount\" className=\"control-label\">Commission amount</label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      id=\"commission_amount\" \n                      name=\"commission_amount\" \n                      ref=\"commission_amount\" \n                      blocking=\"input\"\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter value'\n                        },\n                        {\n                          rule : 'isDecimal',\n                          errorMessage: \"Enter a valid amount\"\n                        }\n                      ]}\n                      value ={this.props.settings ? this.props.settings.commission_amount.toString() : ''} \n                      placeholder=\"Enter Value\" />\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"commission_amount_week\" className=\"control-label\">Commission amount/week</label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      id=\"commission_amount_week\" \n                      name=\"commission_amount_week\" \n                      ref=\"commission_amount_week\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter value'\n                        },\n                        {\n                          rule : 'isDecimal',\n                          errorMessage: \"Enter a valid amount\"\n                        }\n                      ]} \n                      value ={this.props.settings ? this.props.settings.commission_amount_week.toString() : ''} \n                      placeholder=\"Enter Value\" />\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"homestay_processing_time\" className=\"control-label\">Processing time (Hours)</label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      id=\"homestay_processing_time\" \n                      name=\"homestay_processing_time\" \n                      ref=\"homestay_processing_time\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter value'\n                        },\n                        {\n                          rule : 'isNumber',\n                          errorMessage: \"Enter time in Hours\"\n                        }\n                      ]} \n                      value ={this.props.settings ? this.props.settings.homestay_processing_time.toString() : ''} \n                      placeholder=\"Time in Hours\" />\n                  </div> \n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"booking_cancellation\" className=\"control-label\">Booking cancellation (Days)</label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      id=\"booking_cancellation\" \n                      name=\"booking_cancellation\" \n                      ref=\"booking_cancellation\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter value'\n                        },\n                        {\n                          rule : 'isNumber',\n                          errorMessage: \"Enter number of days\"\n                        }\n                      ]} \n                      value ={this.props.settings ? this.props.settings.booking_cancellation.toString() : ''} \n                      placeholder=\"Time in Hours\" />\n                  </div> \n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group text-center\">\n                    <Validation.Button type=\"submit\" id=\"settingsButton\" className=\"btn primary-btn lg btn-block\" value=\"Save\" />\n                  </div>\n                </div>\n              </div>\n            </Validation.Form>\n          </div>\n    )\n  }\n\n  render() {\n    return (\n       <section className=\"dashboard-content-wrapper\">\n        < Sidebar />\n        <aside className=\"right-side-wrapper\">\n          <div className=\"dashboard-content\">\n            {this.renderForm()}\n          </div>\n        </aside>\n      </section>\n    );\n  }\n};\nSettingsView.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nexport default createContainer(() => {\n    if(!Roles.userIsInRole(Meteor.userId(), 'Admin'))\n      FlowRouter.go('noaccess')\n    const SeetingsHandle = Meteor.subscribe('settings');\n    return {\n        currentUser     : Meteor.user(),\n        agencyLoading   : !SeetingsHandle.ready(),\n        settings        : Settings.findOne()\n      }\n}, SettingsView);\n\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nexport default class AboutUs extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error   : \"\",\n      success : \"\"      \n    };\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    return (\n      <section className=\"main-content-wrapper signup\">\n        <div className=\"container\">\n          <div className=\"user-accounts-wrapper\">\n            <div className=\"user-logo\"><a href=\"/\"><img src=\"../images/logo.png\" alt /></a></div>\n            <div className=\"header-wrap\">About Us</div>\n            <div className=\"user-form-wrap\">\n                <div className=\"row\">\n                  <div className=\"col-sm-12\">\n                    <p>ourHomestay is a registered Canadian company and a member of the islBooking family.</p>\n                    <p>ourHomestay is an innovative system designed to give students and schools access to great homestays across Canada and around the world. Please feel free to contact us with any questions you may have whether you would like to become a host or find your homestay.</p>\n\n                    <p>Contact: 905-925-4248</p>\n                    <p>info@islBooking.com</p>\n                    <p>Toronto, Canada</p>\n                  </div>\n                </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n  };\n  ","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress'\nimport Dialog           from 'material-ui/Dialog';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { Payments } from './../../api/payment/payments.js';\nimport { Bookings } from './../../api/booking/bookings.js';\nimport { MonthList } from './../../helper/constants.js';\nimport { YearList } from './../../helper/constants.js';\nimport { createNewUser, findUser } from './../../api/user/methods.js';\nimport { updatePayment } from './../../api/payment/methods.js';\nimport { newPayment } from './../../api/payment/methods.js';\nimport { updateBooking } from './../../api/booking/methods.js';\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isCardNumber : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[x0-9\\s]+$/));\n        }\n    }\n});\n\n// React Component for BookRoom form\nexport default class AccountForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terror           : '',\n\t\t\tsuccess         : ''\n\t\t};\n\t}\n\t// set theme to material-ui components\n\tgetChildContext() {\n\t  return { muiTheme: getMuiTheme(baseTheme) };\n\t}\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t    this.setState({'error':''});\n\t    this.setState({'success':''});\n\t    $(event.currentTarget).find('#saveCard').prop('disabled',true)\n\t    var currentElement = $(event.currentTarget);\n\t    var self = this;\n\t    let cardName \t= $(event.currentTarget).find('#cardName').val().trim(),\n\t      cardNumber    = $(event.currentTarget).find('#cardNumber').val().trim(),\n\t      cvv        \t= $(event.currentTarget).find('#cvv').val().trim(),\n\t      expMonth    \t= $(event.currentTarget).find(\"#expMonth\").val().trim(),\n\t      expYear     \t= $(event.currentTarget).find('#expYear').val().trim();\n\t    let cardDetails = {\n\t    \tcardName,\n\t    \tcardNumber,\n\t    \tcvv,\n\t    \texpMonth,\n\t    \texpYear\n\t    };\n\t    var card_exist = this.props.card;\n \n        // get card deatils\n        var Card = {\n            number: cardNumber,\n            exp_month: expMonth,\n            exp_year: expYear,\n            cvc: cvv,\n            name: cardName\n        };\n        // generate stripe token\n        STRIPE.getToken(Card, function (card) {\n        \tconsole.log(card)\n            if (card.error) {\n            \tself.setState({'error': card.error.message})\n            \tcurrentElement.find('#saveCard').prop('disabled',false)\n            } else {\n                let token = card.id;\n                let cardId = card.card.id\n                // call function to create a new stripe customer\n            \tMeteor.call('stripeCreateCustomer', token, cardId, function (error, response) {\n            \t\tconsole.log(error)\n            \t\tconsole.log(response)\n            \t\tif(error) {\n            \t\t\tself.setState({'error': error.message})\n            \t\t\tcurrentElement.find('#saveCard').prop('disabled',false)\n            \t\t} else {\n            \t\t\tself.setState({\"success\": \"Card details saved successfully\"})\n            \t\t\tcurrentElement.find('#saveCard').prop('disabled',false)\n            \t\t}\n            \t})\n            }\n        })\n    }\n\t// Function to show error message\n\tgetErrorMessage() {\n\t\tif(this.state.error) {\n\t\t  return (<div className=\"col-sm-8\">\n\t\t                        <div className=\"error-message\">{this.state.error} </div>\n\t\t                      </div>)\n\t\t}\n\t\tif (this.state.success) {\n\t\t  return (<div className=\"col-sm-8\">\n\t\t                        <div className=\"success-message\">{this.state.success}</div>\n\t\t                      </div>)\n\t\t}\n\t}\n\trenderPaymentForm() {\n\t\tlet months = MonthList.map(function (month,index){\n\t\t\tif(month!==\"Month\") {\n\t\t        return (\n\t\t            <option key={index} value={month}>{month}</option>\n\t\t        )\n\t\t    } else {\n\t\t    \treturn (\n\t\t            <option key={index} value=\"\">{month}</option>\n\t\t        )\n\t\t    }\n\t    });\n\t    let years = YearList.map(function (year,index){\n\t    \tif(year!==\"Year\") {\n\t\t        return (\n\t\t            <option key={index} value={year}>{year}</option>\n\t\t        )\n\t\t    } else {\n\t\t    \treturn (\n\t\t            <option key={index} value=\"\">{year}</option>\n\t\t        )\n\t\t    }\n\t    });\n\t\tif (this.props.cardLoading) {\n\t\t\treturn (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n\t\t}else {\n\t\t\tif(this.props.card) {\n\t\t\t\treturn(\n\t\t\t\t\t<section className=\"common-layout-box-wrap\">\n\t\t\t          <div className=\"header-wrap\">Credit Card Details</div>\n\t\t\t          <article className=\"common-layout-content students-form\">\n\t\t\t            <Validation.Form className=\"form-horizontal\" role=\"form\" id=\"paymentForm\" onSubmit={this.handleSubmit.bind(this)}>\n\t\t\t              <div className=\"form-group\">\n\t\t\t              \t{this.getErrorMessage()}\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"Name\" className=\"col-sm-3 control-label\">Name <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t                <fieldset disabled=\"disabled\" >\n\t\t\t                  <Validation.Input \n\t\t\t                  \ttype=\"text\" \n\t\t\t                  \tclassName=\"form-control\" \n\t\t\t                  \tname = \"cardName\"\n\t\t\t                  \tid=\"cardName\" \n\t\t\t                  \tref= \"cardName\"\n\t\t\t                  \tvalue={this.props.card.name}\n\t\t\t                  \tvalidations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter Card Name'\n\t\t\t                      }\n\t\t\t                    ]}\n\t\t\t                  \tplaceholder=\"Enter Card Name\" />\n\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"number\" className=\"col-sm-3 control-label\">Card Number <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t\t                <fieldset disabled=\"disabled\"  >\n\t\t\t\t                  <Validation.Input \n\t\t\t\t                  \ttype=\"text\" \n\t\t\t\t                  \tclassName=\"form-control\" \n\t\t\t\t                  \tid=\"cardNumber\" \n\t\t\t\t                  \tname=\"cardNumber\" \n\t\t\t\t                  \tref=\"cardNumber\"\n\t\t\t\t                  \tvalue={\"xxxx xxxx xxxx \"+this.props.card.last4}\n\t\t\t\t                  \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please enter card number'\n\t\t\t\t                      },\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isCardNumber',\n\t\t\t\t                        errorMessage: 'Enter a valid card number'\n\t\t\t\t                      }\n\t\t\t\t                    ]} \n\t\t\t\t                  \tplaceholder=\"Enter Card Number\" />\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"cvv\" className=\"col-sm-3 control-label\">CVV <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-2\">\n\t\t\t                <fieldset disabled=\"disabled\" >\n\t\t\t                  <Validation.Input \n\t\t\t\t                type=\"text\" \n\t\t\t\t                className=\"form-control\" \n\t\t\t\t                id=\"cvv\" \n\t\t\t\t                name=\"cvv\" \n\t\t\t\t                ref=\"cvv\"\n\t\t\t\t                value={\"xxx\"}\n\t\t\t\t                validations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter your cvv'\n\t\t\t                      },\n\t\t\t                      {\n\t\t\t                        rule: 'isCardNumber',\n\t\t\t                        errorMessage: 'Enter a valid cvv'\n\t\t\t                      }\n\t\t\t                    ]}  \n\t\t\t\t                placeholder=\"CVV\" />\n\t\t\t\t             </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"valid\" className=\"col-sm-3 control-label\">Valid Thru <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t                \t<fieldset disabled=\"disabled\"  >\n\t\t\t\t                  <Validation.Select \n\t\t\t\t                    value= {this.props.card.exp_month}\n\t\t\t\t                    id=\"expMonth\" \n\t\t\t\t                    className=\"form-control\" \n\t\t\t\t                    ref=\"expMonth\" \n\t\t\t\t                    name=\"expMonth\"\n\t\t\t\t                    validations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please Select valid month'\n\t\t\t\t                      }\n\t\t\t\t                    ]}>\n\t\t\t\t                    {months}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                 </fieldset>\n\t\t\t                </div>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t\t                <fieldset disabled=\"disabled\">\n\t\t\t\t                   <Validation.Select \n\t\t\t\t                    className=\"form-control\" \n\t\t\t\t                   \tvalue= {this.props.card.exp_year}\n\t\t\t\t                   \tid = \"expYear\"\n\t\t\t\t                   \tname = \"expYear\"\n\t\t\t\t                   \tref = \"expYear\"\n\t\t\t\t                   \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please select Exp-Year'\n\t\t\t\t                      }\n\t\t\t\t                    ]}\n\t\t\t\t                   \tplaceholder=\"YY\">\n\t\t\t\t                    {years}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"row\">\n\t\t\t\t              <div className=\"col-sm-12\">\n\t\t\t\t              \t<Validation.Button className=\"btn primary-btn\" id=\"saveCard\" value=\"Save Card\" />\n\t\t\t\t              </div>\n\t\t\t\t          </div>\n\t\t\t            </Validation.Form>\n\t\t\t            <br />\n\t\t\t          </article>\n\t\t\t        </section>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn(\n\t\t\t\t<section className=\"common-layout-box-wrap\">\n\t\t\t          <div className=\"header-wrap\">Credit Card Details</div>\n\t\t\t          <article className=\"common-layout-content students-form\">\n\t\t\t            <Validation.Form className=\"form-horizontal\" role=\"form\" id=\"paymentForm\" onSubmit={this.handleSubmit.bind(this)}>\n\t\t\t              <div className=\"form-group\">\n\t\t\t              \t{this.getErrorMessage()}\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"Name\" className=\"col-sm-3 control-label\">Name <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t                <fieldset disabled=\"\" >\n\t\t\t                  <Validation.Input \n\t\t\t                  \ttype=\"text\" \n\t\t\t                  \tclassName=\"form-control\" \n\t\t\t                  \tname = \"cardName\"\n\t\t\t                  \tid=\"cardName\" \n\t\t\t                  \tref= \"cardName\"\n\t\t\t                  \tvalidations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter Card Name'\n\t\t\t                      }\n\t\t\t                    ]}\n\t\t\t                  \tplaceholder=\"Enter Card Name\" />\n\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"number\" className=\"col-sm-3 control-label\">Card Number <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t\t                <fieldset disabled=\"\"  >\n\t\t\t\t                  <Validation.Input \n\t\t\t\t                  \ttype=\"text\" \n\t\t\t\t                  \tclassName=\"form-control\" \n\t\t\t\t                  \tid=\"cardNumber\" \n\t\t\t\t                  \tname=\"cardNumber\" \n\t\t\t\t                  \tref=\"cardNumber\"\n\t\t\t\t                  \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please enter card number'\n\t\t\t\t                      },\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isCardNumber',\n\t\t\t\t                        errorMessage: 'Enter a valid card number'\n\t\t\t\t                      }\n\t\t\t\t                    ]} \n\t\t\t\t                  \tplaceholder=\"Enter Card Number\" />\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"cvv\" className=\"col-sm-3 control-label\">CVV <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-2\">\n\t\t\t                <fieldset disabled=\"\"  >\n\t\t\t                  <Validation.Input \n\t\t\t\t                type=\"text\" \n\t\t\t\t                className=\"form-control\" \n\t\t\t\t                id=\"cvv\" \n\t\t\t\t                name=\"cvv\" \n\t\t\t\t                ref=\"cvv\"\n\t\t\t\t                validations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter your cvv'\n\t\t\t                      },\n\t\t\t                      {\n\t\t\t                        rule: 'isCardNumber',\n\t\t\t                        errorMessage: 'Enter a valid cvv'\n\t\t\t                      }\n\t\t\t                    ]}  \n\t\t\t\t                placeholder=\"CVV\" />\n\t\t\t\t             </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"valid\" className=\"col-sm-3 control-label\">Valid Thru <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t                \t<fieldset disabled=\"\"  >\n\t\t\t\t                  <Validation.Select \n\t\t\t\t                    id=\"expMonth\" \n\t\t\t\t                    className=\"form-control\" \n\t\t\t\t                    ref=\"expMonth\" \n\t\t\t\t                    name=\"expMonth\"\n\t\t\t\t                    validations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please Select valid month'\n\t\t\t\t                      }\n\t\t\t\t                    ]}>\n\t\t\t\t                    {months}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                 </fieldset>\n\t\t\t                </div>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t\t                <fieldset disabled=\"\" >\n\t\t\t\t                   <Validation.Select \n\t\t\t\t                    className=\"form-control\" \n\t\t\t\t                   \tid = \"expYear\"\n\t\t\t\t                   \tname = \"expYear\"\n\t\t\t\t                   \tref = \"expYear\"\n\t\t\t\t                   \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please select Exp-Year'\n\t\t\t\t                      }\n\t\t\t\t                    ]}\n\t\t\t\t                   \tplaceholder=\"YY\">\n\t\t\t\t                    {years}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"row\">\n\t\t\t\t              <div className=\"col-sm-12\">\n\t\t\t\t              \t<Validation.Button className=\"btn primary-btn\" id=\"saveCard\" value=\"Save Card\" />\n\t\t\t\t              </div>\n\t\t\t\t          </div>\n\t\t\t            </Validation.Form>\n\t\t\t            <br />\n\t\t\t          </article>\n\t\t\t        </section>\n\t\t\t)\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\trender() {\n\t\t// return this.renderPaymentForm()\n\t\treturn (\n\t\t\t<section className=\"dashboard-content-wrapper common-layout-box\">\n\t\t        {this.renderPaymentForm()}\n\t\t    </section>\n\t\t)\n\t}\n}\n\n// To set theme for material-ui components\nAccountForm.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport default createContainer(() => {\n    const CardHandler = Meteor.subscribe('cards')\n    const userHandler = Meteor.subscribe('userDetail')\n    return {\n        currentUser     : Meteor.user(),\n        card            : Cards.findOne(),\n        cardLoading     : !CardHandler.ready()\n    }\n}, AccountForm);\n","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport Dialog from 'material-ui/Dialog';\n\nimport { CountryListForStripe } from './../../helper/constants.js';\nimport { CityList } from './../../helper/constants.js';\nimport { CurrencyList } from './../../helper/constants.js';\nimport { Countries } from './../../helper/constants.js';\n\nimport { editAccountSetting }   from './../../api/user/methods.js';\n// import { stripeManagedAccount }   from './../../api/user/methods.js';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\nvar formOnSubmit=false;\n\nexport default class UserProfile extends Component{\n\tcomponentDidMount() {\n\t\tif(Roles.subscription.ready()) {\n\t\t\tif (!Roles.userIsInRole(Meteor.userId(), ['Homestay','University residence'])) {\n\t\t\t\tFlowRouter.go('noaccess')\n\t\t\t}\n\t\t}\n\t}\n\tgetChildContext() {\n\t    return { muiTheme: getMuiTheme(baseTheme) };\n\t}\n\n\n\trender () {\n    if (this.props.userLoading) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    }else {\n\t\treturn (\n\t\t\t<section className=\"main-content-wrapper common-layout-box\">\n\t          < UserProfileForm currentUser={this.props.currentUser} onsubmit={this.props.onsubmit} />\n\t        </section>\n\t\t);\n  }\n\t}\n};\n// To set theme for material-ui components\nUserProfile.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport default createContainer(() => {\n  const userHandler = Meteor.subscribe('userDetail')\n    return {\n        currentUser     : Meteor.user(),\n        userLoading : !userHandler.ready()\n    }\n}, UserProfile);\n\n\n// React Component for BookRoom form\nexport class UserProfileForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error               : \"\",\n      success             : \"\"\n    };\n  }\n\n  componentDidMount() {\n      //datepicker\n      console.log('DOB--------------->')\n      console.log($('#DOB'))\n      console.log(this.props.currentUser)\n      let date = \"\";\n\t\t\tif(this.props.currentUser.profile.dateOfBirth) {\n\t\t\t\t\tdate = this.props.currentUser.profile.dateOfBirth\n\t\t\t}\n\t\t\tif(this.props.currentUser.account){\n\t\t\t\t\tdate = this.props.currentUser.account.dateOfBirth\n\t\t\t\t}\n      console.log(date)\n      setTimeout(function(){ $('#DOB').datetimepicker({\n          format : 'YYYY-MM-DD',\n          defaultDate: date // enable only dates 2 weeks after current date\n      }) }, 1000)\n\n  }\n\t//datepickerFun using to form submission time\n\tdatepickerFun(){\n\t\tlet date = \"\";\n\t\tif(this.props.currentUser.profile.dateOfBirth) {\n\t\t\t\tdate = this.props.currentUser.profile.dateOfBirth\n\t\t}\n\t\tif(this.props.currentUser.account){\n\t\t\t\tdate = this.props.currentUser.account.dateOfBirth\n\t\t\t}\n\t\tconsole.log(date)\n\t\tsetTimeout(function(){ $('#DOB').datetimepicker({\n\t\t\t\tformat : 'YYYY-MM-DD',\n\t\t\t\tdefaultDate: date // enable only dates 2 weeks after current date\n\t\t}) }, 1000)\n\t}\n  // To style radio button on click event\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  // To handle submit event of bookRoom form\n  handleSubmit(event) {\n\t\tformOnSubmit = true;\n\n    event.preventDefault();\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    var firstName     = $(event.currentTarget).find('#firstName').val().trim(),\n        lastName      = $(event.currentTarget).find('#lastName').val().trim(),\n        ssn_last4     = $(event.currentTarget).find('#personalId').val().trim(),\n        accNo         = $(event.currentTarget).find('#accNo').val().trim(),\n        routingNumber = $(event.currentTarget).find('#routingNumber').val().trim(),\n        mobile        = $(event.currentTarget).find('#phone').val().trim(),\n        gender        = $(event.currentTarget).find(\"input.gender[type=radio]:checked\").val(),\n        country       = $(event.currentTarget).find('#country').val().trim(),\n        city          = $(event.currentTarget).find('#city').val().trim(),\n        state         = $(event.currentTarget).find('#LocationState').val().trim(),\n        currency      = $(event.currentTarget).find('#currency').val().trim(),\n        dateOfBirth   = $(event.currentTarget).find('#DOB').val().trim(),\n        address       = $(event.currentTarget).find(\"#address\").val();\n        postalCode    = $(event.currentTarget).find(\"#postalCode\").val();\n\n    var profileData = {\n      'account.firstName'     : firstName,\n      'account.lastName'      : lastName,\n      'account.ssn_last4'     : ssn_last4,\n      'account.accNo'         : accNo,\n      'account.routingNumber' : routingNumber,\n      'account.mobile'        : mobile,\n      'account.gender'        : gender,\n      'account.dateOfBirth'   : dateOfBirth,\n      'account.country'       : country,\n      'account.state'         : state,\n      'account.city'          : city,\n      'account.currency'      : currency,\n      'account.address'       : address,\n      'account.postalCode'    : postalCode\n    }\n\n    // editAccountSetting.call(profileData, (error, res) => {\n    //   if(error){\n    //    self.setState({'error' : error.reason})\n\t\t// \t\tdocument.getElementById('dLabel').scrollIntoView();\n\t\t// \t\tconsole.log(\"error:--------\",error);\n\t\t//\n    //   }else{\n    //     console.log(\"after success\")\n    //     // this.setState({'success' : 'Updated student details'})\n    //     Meteor.call('stripeManagedAccount',Meteor.user(), function(error, res) {\n    //       console.log(\"manager-------------------\");\n    //       if(error){\n    //         self.setState({'error' : error.reason})\n\t\t// \t\t\t\tdocument.getElementById('dLabel').scrollIntoView();\n    //       }else{\n\t\t// \t\t\t\tif(res.error){\n\t\t// \t\t\t\t\tself.setState({'error' : res.message})\n\t\t// \t\t\t\t\tdocument.getElementById('dLabel').scrollIntoView();\n\t\t// \t\t\t\t}else\n    //         self.setState({'success' : 'Updated Account Details'})\n\t\t// \t\t\t\tdocument.getElementById('dLabel').scrollIntoView();\n    //       }\n    //     })\n    //   }\n    // })\n\n\t\tMeteor.call('stripeManagedAccount',Meteor.user(),profileData, function(error, res) {\n\t\t\tconsole.log(\"manager-------------------\");\n\t\t\tif(error){\n\t\t\t\tself.datepickerFun();\n\t\t\t\tformOnSubmit=false;\n\t\t\t\tself.setState({'error' : error.reason})\n\t\t\t\tdocument.getElementById('dLabel').scrollIntoView();\n\t\t\t}else{\n\t\t\t\tif(res.error){\n\t\t\t\t\tself.datepickerFun();\n\t\t\t\t\tformOnSubmit=false;\n\t\t\t\t\tself.setState({'error' : res.message})\n\t\t\t\t\tdocument.getElementById('dLabel').scrollIntoView();\n\t\t\t\t}else\n\t\t\t\teditAccountSetting.call(profileData, (error, res) => {\n\t\t\t\t\tformOnSubmit=false;\n\t\t\t\t\tself.datepickerFun();\n\t\t      if(error){\n\t\t        self.setState({'error' : error.reason})\n\t\t\t\t\t\tdocument.getElementById('dLabel').scrollIntoView();\n\t\t\t\t\t\tconsole.log(\"error:--------\",error);\n\t\t      }else{\n\t\t\t\t\t\tself.setState({'success' : 'Updated Account Details'})\n\t\t\t\t\t\tdocument.getElementById('dLabel').scrollIntoView();\n\t\t      }\n\t\t    })\n\t\t\t}\n\t\t})\n\n  }\n  // Function to show error message\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\" id=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\" id=\"success-message\" >{this.state.success}</div>\n                          </div>)\n    }\n  }\n\n  renderAccountSettingsForm() {\n\n    console.log(\"render account settings form\")\n    let _this = this;\n    let country_options = CountryListForStripe.map(function (country,index){\n      return (\n          <option key={index} value={country}>{Countries[country]}</option>\n      )\n    });\n    //To loop through city array\n    let city_options = CityList.map(function (city, index){\n      return (\n          <option key={index} value={city}>{city}</option>\n      )\n    })\n    let currency_options = CurrencyList.map(function (currency, index){\n      return (\n          <option key={index} value={currency}>{currency}</option>\n      )\n    })\n\t\tif(formOnSubmit){\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t\tLoading......\n\t\t\t\t</div>\n\t\t\t)\n\t\t}else{\n      return (<Validation.Form className=\"form-horizontal\" role=\"form\" id=\"bookingForm\" onSubmit={this.handleSubmit.bind(this)}>\n              <div className=\"form-group\">\n                {this.getErrorMessage()}\n              </div>\n              <div className=\"form-group\" >\n                  <label htmlFor=\"firstName\" className=\"col-sm-4 control-label\">Account Holder Name <i className=\"semi\">:</i></label>\n                  <div className=\"col-sm-4\">\n                    <Validation.Input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"firstName\"\n                      name=\"firstName\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={this.props.currentUser.account ? \"disabled\" : \"\"}\n                      value ={this.props.currentUser.account ? this.props.currentUser.account.firstName : this.props.currentUser.profile.firstName}\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your First Name'\n                        }\n                      ]}\n                      placeholder=\"First Name\" />\n                  </div>\n                  <div className=\"col-sm-4\">\n                    <Validation.Input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"lastName\"\n                      name=\"lastName\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={this.props.currentUser.account ? \"disabled\" : \"\"}\n                      value ={this.props.currentUser.account ? this.props.currentUser.account.lastName : this.props.currentUser.profile.lastName}\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your Last Name'\n                        }\n                      ]}\n                      placeholder=\"Last Name\" />\n                  </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"personalId number\" className=\"col-sm-4 control-label\">Personal ID <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"personalId\"\n                    name=\"personalId\"\n                    placeholder=\"Enter Your Personal Identification Number \"\n\t\t\t\t\t\t\t\t\t\tdisabled={this.props.currentUser.account ? \"disabled\" : \"\"}\n                    value ={this.props.currentUser.account ? this.props.currentUser.account.ssn_last4 : \"\"}\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter Personal ID number'\n                      },\n                      {\n                        rule: 'isNumber',\n                        errorMessage: 'Enter a valid Personal ID number'\n                      }\n                    ]}/>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"accNo\" className=\"col-sm-4 control-label\">Account Number <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"accNo\"\n                    name=\"accNo\"\n                    placeholder=\"Enter Your Account Number \"\n                    value ={this.props.currentUser.account ? this.props.currentUser.account.accNo : \"\"}\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter Account Number'\n                      },\n                      {\n                        rule: 'isNumber',\n                        errorMessage: 'Enter a valid Account Number'\n                      }\n                    ]}/>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"routingNumber\" className=\"col-sm-4 control-label\">Routing Number <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"routingNumber\"\n                    name=\"routingNumber\"\n                    placeholder=\"Enter Your Routing Number\"\n                    value ={this.props.currentUser.account ? this.props.currentUser.account.routingNumber : \"\"}\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter Routing Number'\n                      }\n                    ]}/>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-4 control-label\">Gender <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className={this.props.currentUser.account ? ((this.props.currentUser.account.gender)?(this.props.currentUser.account.gender === \"Male\")?\"active\":\"\":\"\"):\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Male\" defaultChecked={(this.props.currentUser.account)?(this.props.currentUser.profile.gender === \"Male\")?\"checked\":\"\":\"checked\"} /> Male\n                    </label>\n                     <label className={this.props.currentUser.account ? ((this.props.currentUser.account.gender)?(this.props.currentUser.account.gender === \"Female\")?\"active\":\"\":\"\"):\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Female\" defaultChecked={(this.props.currentUser.account)?(this.props.currentUser.profile.gender === \"Female\")?\"checked\":\"\":\"checked\"} /> Female\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"phone\" className=\"col-sm-4 control-label\">Mobile <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    placeholder=\"Eg:-  +1 250-418-6812 \"\n                    value ={this.props.currentUser.account ? this.props.currentUser.account.mobile : \"\"}\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter contact number'\n                      },\n                      {\n                        rule: 'isMinLength',\n                        errorMessage: 'Enter a valid contact number'\n                      },\n                      {\n                        rule: 'isNumber',\n                        errorMessage: 'Enter a valid contact number'\n                      }\n                    ]}/>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"dob\" className=\"col-sm-4 control-label\">Date of Birth<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control dob\"\n                    placeholder=\"DOB\"\n                    id=\"DOB\"\n                    name=\"DOB\"\n                    ref=\"DOB\"\n                    autoComplete=\"off\" />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"currency\" className=\"col-sm-4 control-label\">Currency <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Select\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"currency\"\n                    name=\"currency\"\n                    placeholder=\"Enter your currency\"\n                    value ={this.props.currentUser.account ? this.props.currentUser.account.currency : \"CAD\"}\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter Currency'\n                      }\n                    ]}>\n                    {currency_options}\n                  </Validation.Select>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"puposeStay\" className=\"col-sm-4 control-label\">Address<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <textarea rows={3} className=\"form-control\" id=\"address\" name=\"address\" placeholder=\"Address\" defaultValue={this.props.currentUser.account?this.props.currentUser.account.address : this.props.currentUser.profile.address} />\n                </div>\n              </div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"Country\" className=\"col-sm-4 control-label\">Name of Location <i className=\"semi\">:</i></label>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t\t\t<Validation.Select\n\t\t\t\t\t\t\t\t\t\tvalue ={this.props.currentUser.account ? this.props.currentUser.account.country : \"CA\"}\n\t\t\t\t\t\t\t\t\t\tid=\"country\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tref=\"country\"\n\t\t\t\t\t\t\t\t\t\tname=\"country\"\n\t\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trule: 'isRequired',\n\t\t\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please Select Country'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]}>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"> Select Country </option>\n\t\t\t\t\t\t\t\t\t\t{country_options}\n\t\t\t\t\t\t\t\t\t</Validation.Select>\n\t\t\t\t\t\t\t\t\t<Validation.Input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-md-nw\"\n\t\t\t\t\t\t\t\t\t\tid=\"LocationState\"\n\t\t\t\t\t\t\t\t\t\tname=\"LocationState\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Your State \"\n\t\t\t\t\t\t\t\t\t\tvalue ={this.props.currentUser.account ? this.props.currentUser.account.state : \"\"}\n\t\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trule: 'isRequired',\n\t\t\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please enter State'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]}/>\n\t\t\t\t\t\t\t\t\t<Validation.Select\n\t\t\t\t\t\t\t\t\t\tid=\"city\"\n\t\t\t\t\t\t\t\t\t\tvalue ={this.props.currentUser.account ? this.props.currentUser.account.city : \"\"}\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-md-nw\"\n\t\t\t\t\t\t\t\t\t\tref=\"city\"\n\t\t\t\t\t\t\t\t\t\tname=\"city\"\n\t\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trule: 'isRequired',\n\t\t\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please Select City'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t]}>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\"> Select City </option>\n\t\t\t\t\t\t\t\t\t\t{city_options}\n\t\t\t\t\t\t\t\t\t</Validation.Select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n              <div className=\"form-group\">\n                <label htmlFor=\"postalCode\" className=\"col-sm-4 control-label\">Postal Code <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"postalCode\"\n                    name=\"postalCode\"\n                    placeholder=\"Enter Postal Code\"\n                    value ={this.props.currentUser.account ? this.props.currentUser.account.postalCode : \"\"}\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter Postal Code'\n                      }\n                    ]}/>\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"form-group text-center\">\n                  <p>\n                      By registering your account, you agree to our Services Agreement and the <a target=\"_blank\" href=\"https://stripe.com/connect-account/legal\">Stripe Connected Account Agreement</a>.\n                  </p>\n                </div>\n              </div>\n              <br />\n              <div className=\"form-group\">\n                <div className=\"col-sm-4\" />\n                <div className=\"col-sm-8\">\n                  {/*<a href=\"confirm-booking.html\" className=\"btn primary-btn\">Proceed</a>*/}\n                  {/*<button class=\"btn primary-btn\">Proceed</button>*/}\n                  <Validation.Button className=\"btn primary-btn\" value=\"Update\" />\n                  {/*<button className=\"btn cancel-btn\" onClick={this.clearForm.bind(this)}>Cancel</button>*/}\n                </div>\n              </div>\n            </Validation.Form>\n            )\n\t\t}\n  }\n  renderForm() {\n      return (\n        <section className=\"common-layout-box-wrap\">\n         <div className=\"header-wrap\">Bank Account Details</div>\n          <article className=\"common-layout-content students-form\">\n            {this.renderAccountSettingsForm()}\n          </article>\n        </section>\n      )\n    }\n  render() {\n    return this.renderForm()\n  }\n}\n","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress'\nimport Dialog           from 'material-ui/Dialog';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { Bookings } from './../../api/booking/bookings.js';\nimport { CountryList } from './../../helper/constants.js';\nimport { updateBooking } from './../../api/booking/methods.js';\nimport { createNewUser, findUser } from './../../api/user/methods.js';\n\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom \n        message: 'should be email'\n    },\n    isNumber : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[0-9\\s]+$/));\n        }\n    },\n    isMinLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length >=4);\n      }\n    },\n    isMaxLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length <=10);\n      }\n    },\n    isValidPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).match(/^\\d*(?:\\.\\d{1,2})?$/));\n      }\n    }\n});\n\nexport default class BookRoom extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error           : '',\n      success         : ''\n    };\n  }\n\n  // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n\n  componentDidMount() {\n  }\n  starRating(){\n    let stars = []\n\n    let rate = this.props.homestay.avg_rating || 0\n    for(var i = 1;i<=5;i++){\n      if(rate >= 1){\n        stars.push(<span className=\"star-full\" />)\n      }else {\n        if(rate > 0)\n          stars.push(<span className=\"star-half\" />)\n        else\n          stars.push(<span className=\"star-empty\" />)\n      }\n      rate = rate-1\n    }\n    return (<div className=\"star-rating\">{stars}</div>)\n  }\n  // Render Book  Room page\n  renderBookRoomHtml (){\n    if(this.props.bookingLoading) {\n      // render loading template\n      return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      return (\n        <section className=\"main-content-wrapper common-layout-box\">\n          <section className=\"common-layout-box-wrap\">\n            <div className=\"header-wrap\">{this.props.homestay.name}</div>\n            <article className=\"common-layout-content book-your-room-wrapper\">\n              <div className=\"row\">\n                <div className=\"col-sm-3\">\n                  <figure className=\"homestay-image\"><img src={(this.props.homestay.hasOwnProperty(\"image\") && this.props.homestay.image.length)?this.props.homestay.image[0].url:\"../images/homes/05.jpg\"} alt={this.props.homestay.name} /></figure>\n                </div>\n                <div className=\"col-sm-9\">\n                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur reprehenderit aliquid nobis tempore, atque dolores repudiandae totam eius repellendus voluptas corrupti veniam possimus, quod quos incidunt est reiciendis iste, molestias.</p>\n                  <div className=\"location\"><b>Location:</b> {this.props.homestay.city}, {this.props.homestay.country}</div>\n                  <div className=\"bottom-price\">\n                    <div className=\"price-details\">CAD {this.props.bookingDetail.paymentAmount}/-</div>\n                    {this.starRating()}\n                  </div>\n                </div>\n              </div>\n            </article>\n          </section> <br />\n          < BookRoomForm bookingDetail={this.props.bookingDetail} studentLoading={this.props.studentLoading} studentDetail={this.props.studentDetail} />\n        </section>\n      )\n    }\n  }\n  render(){\n    return this.renderBookRoomHtml()\n  }\n\n}\n\n// To set theme for material-ui components\nBookRoom.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport default createContainer(() => {\n  let bookingId = FlowRouter.getParam('bookingId');\n  \n  const BookingHandle  = Meteor.subscribe('bookingDetail', bookingId);\n  if (BookingHandle.ready()) {\n    let studentDetail = \"\";\n    let studentLoading = false;\n\n    const bookingDetail = Bookings.find().fetch()[0]\n    const HomestayHandle = Meteor.subscribe('homestayDetail', bookingDetail.roomId);\n    \n    if(bookingDetail.ownerRole === \"Student\") {\n      const StudentHandle = Meteor.subscribe('userDetail', bookingDetail.studentId)\n      studentDetail = Meteor.users.find({_id: bookingDetail.studentId}).fetch()[0];\n      studentLoading = !StudentHandle.ready()\n    }\n    return {\n        currentUser     : Meteor.user(),\n        bookingLoading  : !BookingHandle.ready() && !HomestayHandle.ready(),\n        homestay        : Homestays.find({_id:bookingDetail.roomId}).fetch()[0],\n        bookingDetail   : Bookings.find({_id:bookingId}).fetch()[0],\n        studentLoading,\n        studentDetail   \n    }\n  } else {\n    return {\n        currentUser     : Meteor.user(),\n        bookingLoading  : !BookingHandle.ready()\n    }\n  }\n}, BookRoom);\n\n// React Component for BookRoom form\nexport class BookRoomForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error               : \"\",\n      success             : \"\",\n      open                : false  \n    };\n  }\n\n  // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  // Show dropdown\n  customSelect(event) {\n    $(event.currentTarget).parent().find('.drop-down-list').stop( true, true ).delay(10).slideToggle();\n  } \n\n  componentDidMount() {\n      if((this.props.bookingDetail.ownerRole === \"Student\") && this.props.studentDetail.profile.dateOfBirth) {\n          date = this.props.studentDetail.profile.dateOfBirth\n      } else {\n          date = new Date()\n      }\n      //datepicker\n\n      setTimeout(function(){ $('#DOB').datetimepicker({\n          format : 'YYYY-MM-DD',\n          defaultDate: date,\n          maxDate : new Date() // enable only dates 2 weeks after current date\n      }) }, 1000)\n      \n  }\n  // To style radio button on click event\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }   \n  \n  // To handle submit event of bookRoom form\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    var studentName = $(event.currentTarget).find('#studentName').val().trim(),\n      email         = $(event.currentTarget).find('#email').val().trim(),\n      mobile        = $(event.currentTarget).find('#phone').val().trim(),\n      gender        = $(event.currentTarget).find(\"input.gender[type=radio]:checked\").val(),\n      country       = $(event.currentTarget).find('#country').val().trim(),\n      dateOfBirth   = $(event.currentTarget).find('#DOB').val().trim(),\n      smoker        = $(event.currentTarget).find(\"input.smoker[type=radio]:checked\").val(),\n      pets          = $(event.currentTarget).find(\"input.pets[type=radio]:checked\").val(),\n      lengthOfStay  = $(event.currentTarget).find('#lengthStay').val().trim(),\n      purposeOfStay = $(event.currentTarget).find('#purposeStay').val().trim();\n    if(!dateOfBirth) {\n      this.setState({\"error\": \"Enter Date Of Birth\"})\n    } else {\n      var bookingDetail = {\n        name          : studentName,\n        email         : email,\n        gender        : gender,\n        country       : country,\n        dateOfBirth   : new Date(dateOfBirth),\n        smoker        : smoker,\n        pets          : pets,\n        lengthOfStay  : lengthOfStay,\n        purposeOfStay : purposeOfStay,\n        bookingStatus : 0,\n        multipleChoice: false,\n        currentChoice : 1\n      }\n      \n      if(this.props.bookingDetail.ownerRole === \"Student\") {\n        // Function call to update booking collection\n        updateBooking.call({bookingId:this.props.bookingDetail._id, bookingDetail}, (error, response) => {\n          if(error){\n            self.setState({'error':error.reason});\n          } else {\n            // if(this.props.bookingDetail.searchIndex) {\n              FlowRouter.go('/confirmbooking/'+self.props.bookingDetail._id)\n            // } else {\n            //   FlowRouter.go('/payment/'+self.props.bookingDetail._id)\n            // }\n          }\n        })\n      } else {\n        let firstName       = studentName.split(' ')[0],\n            lastName        = (studentName.split(' ')[1])?studentName.split(' ')[1]:\"\",\n            role            = \"Student\",\n            status          = 'active';\n\n        let password = Random.secret([6]);\n        // create user\n        let userData = {\n          email: email.toLowerCase(),\n          password: password,\n          profile:{\n              firstName   : firstName,\n              lastName    : lastName,\n              name        : firstName+' '+lastName,\n              email       : email,\n              role        : role,\n              status      : status,\n              country     : country,\n              mobile      : Number(mobile),\n              dateOfBirth : new Date(dateOfBirth), \n              gender      : gender\n          }\n        }\n        // Function call to check whether user already exists\n        findUser.call({email : userData.email}, (error, user) =>{\n          if (error) {\n            self.setState({'error':error.reason});\n          } else {\n            if (user) {\n              this.setState({\"open\":true});\n            } else {\n              // Method for create new user\n              createNewUser.call(userData, (error, res)=> {\n                if (error) {\n                    console.log(error)\n                    self.setState({'error':error.reason});\n                } else {\n                    bookingDetail[\"studentId\"] = res;\n                    // Function call to update booking detail\n                    updateBooking.call({bookingId:this.props.bookingDetail._id, bookingDetail}, (error, response) => {\n                      if(error){\n                        self.setState({'error':error.reason});\n                      } else {\n                        var options = {}\n\n                        options['subject'] = 'OurHomeStay - Account Created'\n                        options['message'] = 'New accout created. Try Login with the given password and change your password. Password : '+password\n\n                        options['recipient'] = email;\n                        params  = {\n                          recipient_name : firstName+' '+lastName, \n                          link : \"http://52.42.62.56:3000/\"\n                        };\n                        options['params'] = params;\n                        options['mail_template'] = \"notification\";\n\n                        // Method for send email\n                        Meteor.call(\"sendMail\", options, function (error) {\n                          if(error){\n                            self.setState({'error':'Sorry!. Failed to send mail.'});\n                          }else{\n                            console.log('Successfully created new account and send mail to user.')\n                            // if(self.props.bookingDetail.searchIndex) {\n                              FlowRouter.go('/confirmbooking/'+self.props.bookingDetail._id)\n                            // } else {\n                            //   FlowRouter.go('/payment/'+self.props.bookingDetail._id)\n                            // }\n                          }\n                        })\n                      }\n                    })\n                }\n              })\n            }\n          }\n        })\n      }\n    }\n  }\n  // Function to show error message\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n  // Function to open modal\n  handleOpen() {\n      this.setState({open: true});     \n  }\n  // Function to close modal\n  handleClose() {\n      this.setState({open: false});\n  }\n  clearForm (event) {\n    event.preventDefault();\n    document.getElementById(\"bookingForm\").reset();\n\n  }\n  renderStudentForm() {\n    let _this = this;\n    let options = CountryList.map(function (country,index){\n        return (\n            <option key={index} value={country}>{country}</option>\n        )\n      });\n    if(this.props.bookingDetail.ownerRole === \"Agency\") {\n      return (<Validation.Form className=\"form-horizontal\" role=\"form\" id=\"bookingForm\" onSubmit={this.handleSubmit.bind(this)}>\n              <div className=\"form-group\">\n                {this.getErrorMessage()}\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"studentName\" className=\"col-sm-3 control-label\">Student Name <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input \n                    type=\"text\" \n                    className=\"form-control\" \n                    id=\"studentName\" \n                    name=\"studentName\" \n                    blocking='input'\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter your Name'\n                      }\n                    ]}\n                    placeholder=\"Enter Your Name\" />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Gender <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className=\"active\" onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Male\" defaultChecked=\"checked\" /> Male\n                    </label>\n                    <label onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Female\"/> Female\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"email\" className=\"col-sm-3 control-label\">Email ID <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <fieldset disabled={(this.props.studentDetail)? \"disabled\" : \"\"} >\n                    <Validation.Input \n                      type=\"email\" \n                      className=\"form-control\" \n                      id=\"email\"\n                      name=\"email\"\n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter Email ID'\n                        },\n                        {\n                          rule : 'isEmail',\n                          errorMessage: \"Enter a valid Email\"\n                        }\n                      ]} \n                      placeholder=\"Enter your Email ID\" />\n                    </fieldset>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"phone\" className=\"col-sm-3 control-label\">Mobile <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input \n                    type=\"text\" \n                    className=\"form-control\" \n                    id=\"phone\"\n                    name=\"phone\"\n                    blocking='input'\n                    placeholder=\"Eg:-  +1 250-418-6812 \" \n                    blocking='input'\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter contact number'\n                      },\n                      {\n                        rule: 'isMinLength',\n                        errorMessage: 'Enter a valid contact number'\n                      },\n                      {\n                        rule: 'isNumber',\n                        errorMessage: 'Enter a valid contact number'\n                      }\n                    ]}/>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"dob\" className=\"col-sm-3 control-label\">Date of Birth<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <input \n                    type=\"text\" \n                    className=\"form-control dob\" \n                    placeholder=\"DOB\" \n                    id=\"DOB\" \n                    name=\"DOB\" \n                    ref=\"DOB\"\n                    autoComplete=\"off\" />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Country<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Select \n                    value= {(this.props.studentDetail) ? this.props.studentDetail.profile.country : \"Canada\" } \n                    id=\"country\" \n                    className=\"form-control\" \n                    ref=\"country\" \n                    name=\"country\"\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please Select Country'\n                      }\n                    ]}>\n                    {options}\n                  </Validation.Select>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Smoker <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className=\"active\" onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"smoker\" className=\"smoker\" ref=\"smoker\" defaultValue=\"No\" defaultChecked=\"checked\" /> No\n                    </label>\n                    <label onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"smoker\" className=\"smoker\" ref=\"smoker\" defaultValue=\"Yes\" /> Yes\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Pets <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className=\"active\" onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"pets\" className=\"pets\" ref=\"pets\" defaultValue=\"No\" defaultChecked=\"checked\" /> No\n                    </label>\n                    <label onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"pets\" className=\"pets\" ref=\"pets\" defaultValue=\"Yes\" /> Yes\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"lengthStay\" className=\"col-sm-3 control-label\">Length of Stay in {(this.props.bookingDetail.bookingType===\"dayBooking\")? \"Days\" : \"Weeks\"} <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <Validation.Input\n                    type=\"text\" \n                    name= \"lengthStay\"\n                    className=\"form-control\" \n                    id=\"lengthStay\" \n                    placeholder=\"In weeks\"\n                    blocking='input'\n                    readOnly\n                    value = {(this.props.bookingDetail.lengthOfStay).toString()}\n                    validations={[\n                    {\n                      rule: 'isRequired',\n                      errorMessage: 'Please enter length of stay'\n                    },\n                    {\n                      rule: 'isNumber',\n                      errorMessage: 'Enter a valid length of stay'\n                    }\n                  ]} />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"puposeStay\" className=\"col-sm-3 control-label\">Purpose of Stay<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <textarea rows={3} className=\"form-control\" id=\"purposeStay\" name=\"purposeStay\" placeholder=\"Enter some purpose of your stay\" defaultValue={\"\"} />\n                </div>\n              </div>\n              <br />\n              <div className=\"form-group\">\n                <div className=\"col-sm-3\" />\n                <div className=\"col-sm-8\">\n                  {/*<a href=\"confirm-booking.html\" className=\"btn primary-btn\">Proceed</a>*/}\n                  {/*<button class=\"btn primary-btn\">Proceed</button>*/}\n                  <Validation.Button className=\"btn primary-btn\" value=\"Proceed\" />\n                  {/*<button className=\"btn cancel-btn\" onClick={this.clearForm.bind(this)}>Cancel</button>*/}\n\n                </div>\n              </div>\n            </Validation.Form>\n            )\n    } else {\n      return(\n      <Validation.Form className=\"form-horizontal\" role=\"form\" id=\"bookingForm\" onSubmit={this.handleSubmit.bind(this)}>\n              <div className=\"form-group\">\n                {this.getErrorMessage()}\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"studentName\" className=\"col-sm-3 control-label\">Student Name <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input \n                    type=\"text\" \n                    className=\"form-control\" \n                    id=\"studentName\" \n                    name=\"studentName\" \n                    blocking='input'\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter your Name'\n                      }\n                    ]}\n                    value = {(this.props.studentDetail)? this.props.studentDetail.profile.name : \"\"}\n                    placeholder=\"Enter Your Name\" />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Gender <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                   <label className={(this.props.studentDetail.profile.hasOwnProperty(\"gender\"))?(this.props.studentDetail.profile.gender === \"Male\")?\"active\":\"\":\"active\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Male\" defaultChecked={(this.props.studentDetail.profile.hasOwnProperty(\"gender\"))?(this.props.studentDetail.profile.gender === \"Male\")?\"checked\":\"\":\"checked\"} /> Male\n                    </label>\n                    <label className={(this.props.studentDetail.profile.gender === \"Female\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Female\" defaultChecked={(this.props.studentDetail.profile.gender === \"Female\")?\"checked\":\"\"} /> Female\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"email\" className=\"col-sm-3 control-label\">Email ID <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <fieldset disabled={(this.props.studentDetail)? \"disabled\" : \"\"} >\n                    <Validation.Input \n                      type=\"email\" \n                      className=\"form-control\" \n                      id=\"email\"\n                      name=\"email\"\n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter Email ID'\n                        },\n                        {\n                          rule : 'isEmail',\n                          errorMessage: \"Enter a valid Email\"\n                        }\n                      ]} \n                      value =  {(this.props.studentDetail) ? this.props.studentDetail.emails[0].address : \"\" }\n                      placeholder=\"Enter your Email ID\" />\n                    </fieldset>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"phone\" className=\"col-sm-3 control-label\">Mobile <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input \n                    type=\"text\" \n                    className=\"form-control\" \n                    id=\"phone\"\n                    name=\"phone\"\n                    blocking='input'\n                    placeholder=\"Eg:-  +1 250-418-6812 \" \n                    blocking='input'\n                    value =  {(this.props.studentDetail) ? (this.props.studentDetail.profile.mobile).toString() : \"\" }\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter contact number'\n                      },\n                      {\n                        rule: 'isMinLength',\n                        errorMessage: 'Enter a valid contact number'\n                      },\n                      {\n                        rule: 'isNumber',\n                        errorMessage: 'Enter a valid contact number'\n                      }\n                    ]}/>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"dob\" className=\"col-sm-3 control-label\">Date of Birth<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <input \n                    type=\"text\" \n                    className=\"form-control dob\" \n                    placeholder=\"DOB\" \n                    id=\"DOB\" \n                    name=\"DOB\" \n                    ref=\"DOB\"\n                    autoComplete=\"off\" />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Country<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Select \n                    value= {(this.props.studentDetail) ? this.props.studentDetail.profile.country : \"Canada\" } \n                    id=\"country\" \n                    className=\"form-control\" \n                    ref=\"country\" \n                    name=\"country\"\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please Select Country'\n                      }\n                    ]}>\n                    {options}\n                  </Validation.Select>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Smoker <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className={(this.props.studentDetail.profile.smoker ===\"No\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"smoker\" className=\"smoker\" ref=\"smoker\" defaultValue=\"No\" defaultChecked={(this.props.studentDetail.profile.smoker ===\"No\")?\"checked\":\"\"} /> No\n                    </label>\n                    <label className={(this.props.studentDetail.profile.smoker ===\"Yes\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)} >\n                      <input type=\"radio\" name=\"smoker\" className=\"smoker\" ref=\"smoker\" defaultValue=\"Yes\" defaultChecked={(this.props.studentDetail.profile.smoker === \"Yes\")?\"checked\":\"\"} /> Yes\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Pets <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className={(this.props.studentDetail.profile.pets === \"No\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"pets\" className=\"pets\" ref=\"pets\" defaultValue=\"No\" defaultChecked={(this.props.studentDetail.profile.pets === \"No\")?\"checked\":\"\"} /> No\n                    </label>\n                    <label className={(this.props.studentDetail.profile.pets === \"Yes\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"pets\" className=\"pets\" ref=\"pets\" defaultChecked={(this.props.studentDetail.profile.pets === \"Yes\")?\"checked\":\"\"} defaultValue=\"Yes\" /> Yes\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"lengthStay\" className=\"col-sm-3 control-label\">Length of Stay in {(this.props.bookingDetail.bookingType===\"dayBooking\")? \"Days\" : \"Weeks\"} <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <Validation.Input\n                    type=\"text\" \n                    name= \"lengthStay\"\n                    className=\"form-control\" \n                    id=\"lengthStay\" \n                    placeholder=\"In weeks\"\n                    blocking='input'\n                    value = {(this.props.bookingDetail.lengthOfStay).toString()}\n                    readOnly\n                    validations={[\n                    {\n                      rule: 'isRequired',\n                      errorMessage: 'Please enter length of stay'\n                    },\n                    {\n                      rule: 'isNumber',\n                      errorMessage: 'Enter a valid length of stay'\n                    }\n                  ]} />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"puposeStay\" className=\"col-sm-3 control-label\">Purpose of Stay<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <textarea rows={3} className=\"form-control\" id=\"purposeStay\" name=\"purposeStay\" placeholder=\"Enter some purpose of your stay\" defaultValue={\"\"} />\n                </div>\n              </div>\n              <br />\n              <div className=\"form-group\">\n                <div className=\"col-sm-3\" />\n                <div className=\"col-sm-8\">\n                  {/*<a href=\"confirm-booking.html\" className=\"btn primary-btn\">Proceed</a>*/}\n                  {/*<button class=\"btn primary-btn\">Proceed</button>*/}\n                  <Validation.Button className=\"btn primary-btn\" value=\"Proceed\" />\n                  {/*<button className=\"btn cancel-btn\" onClick={this.clearForm.bind(this)}>Cancel</button>*/}\n\n                </div>\n              </div>\n            </Validation.Form>\n      )\n    }\n  }\n  renderForm() {\n    \n    if(this.props.studentLoading) {\n      return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      let readOnly = \"\";\n      if(this.props.studentDetail) {\n        readOnly = \"readonly\"\n      }\n      const actions = [\n            <button className=\"btn cancel-btn\" onClick= {this.handleClose.bind(this)} > Ok </button>,\n          ];\n      return (\n        <section className=\"common-layout-box-wrap\">\n            <Dialog\n                title=\"User Already Exist\"\n                actions={actions}\n                modal={true}\n                open={this.state.open}\n            >\n                <div className=\"header-wrap\">Email id already registerd as a Student, DO you want to continue with the same Student profile. If no , Please enter a new Email address.</div>\n            </Dialog>\n          <div className=\"header-wrap\">Student Form</div>\n          <article className=\"common-layout-content students-form\">\n            {this.renderStudentForm()}\n          </article>\n        </section>\n      )\n    }\n  }\n  render() {\n    return this.renderForm()\n  }\n}\n\nBookRoomForm.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress'\nimport Dialog           from 'material-ui/Dialog';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { Bookings } from './../../api/booking/bookings.js';\nimport { updateBooking } from './../../api/booking/methods.js';\n\nexport default class ConfirmBooking extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error           : '',\n      success         : '',\n      multipleChoice  : false,\n      limit           : '',\n      skip            : '',\n      selectedHomestay : []\n    };\n  }\n\n  // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  //allow selection of multiple homestays\n  activateMultipleChoice(event) {\n  \tthis.setState({\"multipleChoice\": true})\n    Session.set(\"limit\",2)\n    $(event.currentTarget).prop('disabled',true)\n  }\n\n  // deactivate multiple choice \n  deActivateMultipleChoice(event) {\n  \tthis.setState({\"multipleChoice\": false})\n  \tFlowRouter.go('/payment/'+this.props.bookingDetail._id)\n  }\n\n  //function to load more homestay suggestions\n  loadMoreSearchResult(event){\n    Session.set(\"limit\",Session.get(\"limit\")+6)\n  }\n\n  //function to select homestay\n  selectHomestay(event) {\n    let homestayId = $(event.currentTarget).attr('data-id');\n    this.setState({\"error\": \"\"})\n    if($(event.currentTarget).text()===\"Select\") {\n      if(this.state.selectedHomestay.length<2) {\n        this.state.selectedHomestay.push(homestayId)\n        $(event.currentTarget).parents(\".homestay-items\").addClass(\"selected\")\n        $(event.currentTarget).text(\"Remove\")\n      } else {\n        this.setState({\"error\": \"Only 2 host can be selected\"})\n      }\n    } else {\n      let index = this.state.selectedHomestay.indexOf(homestayId);\n      if (index > -1) {\n          this.state.selectedHomestay.splice(index, 1);\n      }\n      $(event.currentTarget).parents(\".homestay-items\").removeClass(\"selected\")\n      $(event.currentTarget).text(\"Select\")\n    }\n  }\n\n  // function to redirect to payment page and store choices in db\n  paymentHandle(event){\n    let self = this;\n    let bookingDetail = {\n      choice2 : (this.state.selectedHomestay.length)? this.state.selectedHomestay[0] : \"\",\n      choice3 : (this.state.selectedHomestay.length ===2) ? this.state.selectedHomestay[1]:\"\",\n      multipleChoice : this.state.multipleChoice\n    }\n    if(this.state.multipleChoice && this.state.selectedHomestay.length) {\n      // Function call to update booking collection\n      updateBooking.call({bookingId:this.props.bookingDetail._id, bookingDetail}, (error, response) => {\n        if(error){\n          self.setState({'error':error.reason});\n        } else {\n            FlowRouter.go('/payment/'+self.props.bookingDetail._id)\n        }\n      })\n    } else {\n        FlowRouter.go('/payment/'+self.props.bookingDetail._id)\n    }\n  }\n\n  // Function to show error message\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n\n  starRating(homestay){\n    console.log(homestay)\n    let stars = []\n\n    let rate = homestay.avg_rating || 0\n    for(var i = 1;i<=5;i++){\n      if(rate >= 1){\n        stars.push(<span className=\"star-full\" />)\n      }else {\n        if(rate > 0)\n          stars.push(<span className=\"star-half\" />)\n        else\n          stars.push(<span className=\"star-empty\" />)\n      }\n      rate = rate-1\n    }\n    return (<div className=\"star-rating\">{stars}</div>)\n  }\n\n   // show homestay choices based on search query\n  renderHomestaySuggestions () {\n    Session.set('homestayCity',this.props.homestay.city);\n    if(this.state.multipleChoice) {\n      let self = this;\n      let bookingPrice = \"\";\n      // for (var i = 0; i < this.props.searchResult.length - 1; i++) {\n      //       var j = i + Math.floor(Math.random() * (this.props.searchResult.length - i));\n      //       var temp = this.props.searchResult[j];\n      //       this.props.searchResult[j] = this.props.searchResult[i];\n      //       this.props.searchResult[i] = temp;\n      // }\n      let moreHomestays = this.props.searchResult.map(function (homestay, index) {\n        if(homestay._id !== self.props.homestay._id){\n          bookingPrice = (self.props.bookingDetail.bookingType ===\"dayBooking\")?(homestay.dailyPrice*self.props.bookingDetail.lengthOfStay):(homestay.weeklyPrice*self.props.bookingDetail.lengthOfStay)\n          let homestayAddress = \"\";\n          if(homestay.hasOwnProperty(\"address\")) {\n            homestayAddress = (homestay.address.length <= 75)?homestay.address : homestay.address.substring(0, 72) + \"...\"\n          }\n          if (homestay.dailyPrice >0 || homestay.weeklyPrice >0) {\n            return (\n              <div key={index} className=\"col-sm-4\">\n                      <div className=\"homestay-items\">\n                        <figure><img src={(homestay.hasOwnProperty(\"image\")&& homestay.image.length)?homestay.image[0].url:\"../images/homes/05.jpg\"} alt={homestay.name} /></figure>\n                        <div className=\"content-box-homestay\">\n                          <a href={\"/homestay/\"+homestay._id+\"\"} target=\"_blank\" className=\"title-home\">{homestay.name}</a>\n                          <p>{homestayAddress}</p>\n                          <div className=\"bottom-price\">\n                            <div className=\"price-details\">CAD {bookingPrice}/-</div>\n                            {self.starRating(homestay)}\n                          </div>\n                          <div className=\"row grid-sm\">\n                            <div className=\"col-sm-5\"><button className=\"btn primary-btn sm\" onClick={self.selectHomestay.bind(self)} ref=\"selectHomestay\" data-id={homestay._id}>Select</button></div>\n                            <div className=\"col-sm-5\"><a href={\"/homestay/\"+homestay._id+\"\"} target=\"_blank\" className=\"btn default-btn sm\">More</a></div>\n                          </div>\n                        </div>\n                      </div>\n             </div>\n            )\n          } else {\n            return ( <div key={index}></div>)\n          }\n        } else {\n          return <div key={index}></div>\n        }\n      })\n      return (\n        <div>\n          {moreHomestays}\n        </div>\n      )\n    } else {\n      return (<div></div>)\n    }\n  }\n  \n  //Show selected homestay \n  renderMultipleHomestays(){\n    let searchMoreButton = \"\"\n    if(this.props.homestayCount >Session.get(\"limit\")) {\n     searchMoreButton = <div className=\"pull-right\">\n                  <button className=\"btn cancel-btn\" onClick={this.loadMoreSearchResult.bind(this)}>Load More</button>\n                </div>\n    }\n  \tif(this.state.multipleChoice) {\n      let homestayAddress = \"\";\n      if(this.props.homestay.hasOwnProperty(\"address\")) {\n         homestayAddress = (this.props.homestay.address.length <= 75)?this.props.homestay.address : this.props.homestay.address.substring(0, 72) + \"...\"\n  \t\t}\n      return (\n  \t\t\t<div>\n  \t\t\t<div className=\"similar-homestays\">\n              <div className=\"row\">\n                {this.getErrorMessage()}\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-4\">\n                  <div className=\"homestay-items selected\">\n                    <figure><img src={(this.props.homestay.hasOwnProperty(\"image\")&& this.props.homestay.image.length)?this.props.homestay.image[0].url:\"../images/homes/05.jpg\"} alt={this.props.homestay.name} /></figure>\n                    <div className=\"content-box-homestay\">\n                      <a href={\"/homestay/\"+this.props.homestay._id+\"\"} target=\"_blank\" className=\"title-home\">{this.props.homestay.name}</a>\n                      <p>{homestayAddress}</p>\n                      <div className=\"bottom-price\">\n                        <div className=\"price-details\">CAD {this.props.bookingDetail.paymentAmount}/-</div>\n                        {this.starRating(this.props.homestay)}\n                      </div>\n                      <div className=\"row grid-sm\">\n                        {/*<div className=\"col-sm-5\"><button className=\"btn primary-btn sm\">Selected</button></div>*/}\n                        <div className=\"col-sm-5\"><a href={\"/homestay/\"+this.props.homestay._id+\"\"} target=\"_blank\" className=\"btn default-btn sm\">More</a></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                {this.renderHomestaySuggestions()}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-sm-12\">\n                <button onClick={this.paymentHandle.bind(this)} className=\"btn primary-btn\">Continue</button>\n                {searchMoreButton}\n              </div>\n            </div>\n            </div>\n  \t\t)\n  \t} else{\n  \t\treturn(<div></div>)\n  \t}\n  }\n  // render bookind details\n  renderBookingDetail(){\n  \tif(this.props.bookingLoading) {\n  \t\treturn (\n            <div>\n                <center>\n                    <CircularProgress size={1.5} color=\"#272b35\" />\n                </center>\n            </div>\n        )\n  \t} else {\n  \t\treturn (\n  \t\t<section className=\"main-content-wrapper common-layout-box\">\n        <section className=\"common-layout-box-wrap\">\n          <div className=\"header-wrap\">Confirm booking</div>\n          <article className=\"common-layout-content students-form\">\n            <p>Would you like to choose a backup host incase <b>{this.props.homestay.name}</b> is not available?</p>\n            <button className=\"btn primary-btn\" onClick={this.activateMultipleChoice.bind(this)}>Yes</button>\n            <button className=\"btn cancel-btn\" onClick={this.deActivateMultipleChoice.bind(this)}>No</button>\n            {this.renderMultipleHomestays()}\n          </article>\n        </section>\n      </section>\n      )\n  \t}\n  }\n  render() {\n  \treturn this.renderBookingDetail()\n  }\n}\n\n// To set theme for material-ui components\nConfirmBooking.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport default createContainer(() => {\n  let bookingId = FlowRouter.getParam('bookingId');\n  console.log(\"booking id===================>\",bookingId)\n  const BookingHandle  = Meteor.subscribe('bookingDetail', bookingId);\n  if (BookingHandle.ready()) {\n    const bookingDetail  = Bookings.find().fetch()[0]\n    const HomestayHandle = Meteor.subscribe('homestayDetail', bookingDetail.roomId);\n    let searchIndex = { city:Session.get('homestayCity'),status:\"active\" }\n    if(bookingDetail.searchIndex){\n      searchIndex     = JSON.parse(bookingDetail.searchIndex);\n    }\n    \n    searchIndex[\"_id\"] = { $ne: bookingDetail.roomId}\n    searchIndex[\"dailyPrice\"] = { $gte: 1}\n    searchIndex[\"weeklyPrice\"] = { $gte: 1}\n    const HomestaySearchHandle = Meteor.subscribe('homestaySearch', searchIndex, Session.get(\"limit\"), 0)\n    return {\n        currentUser     : Meteor.user(),\n        bookingLoading  : !BookingHandle.ready() && !HomestayHandle.ready() && !HomestaySearchHandle.ready(),\n        homestay        : Homestays.find({_id:bookingDetail.roomId}).fetch()[0],\n        bookingDetail   : Bookings.find({_id:bookingId}).fetch()[0],\n        searchResult    : Homestays.find(searchIndex).fetch(),\n        homestayCount   : Counts.get('homestaySearch-count')\n    }\n  } else {\n    return {\n        currentUser     : Meteor.user(),\n        bookingLoading  : !BookingHandle.ready()\n    }\n  }\n}, ConfirmBooking);\n\n// React Component for BookRoom form\nexport class MultipleHomestay extends Component {\n\trender() {\n    return (\n        <div></div>\n    )\n  }\n}","import React, {Component, PropTypes} from 'react';\nimport Blaze from 'meteor/gadicc:blaze-react-component';\n\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { createHomestay } from './../../api/admin/homestays/methods.js';\nimport { updateHomestay } from './../../api/admin/homestays/methods.js';\nimport { CountryList } from './../../helper/constants.js';\nimport { CityList } from './../../helper/constants.js';\nimport { FoodRestrictions } from './../../helper/constants.js';\nimport { PetTypes } from './../../helper/constants.js';\nimport { Meals } from './../../helper/constants.js';\n\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\n// Extend Validation with custom rules\nValidation.extendErrors({\n\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom\n        message: 'should be email'\n    },\n    isNumber : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[0-9\\s]+$/));\n        }\n    },\n    isMinLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length >=4);\n      }\n    },\n    isHomeNumber : {\n      rule: function(value) {\n        if (!value) {\n          return true\n        } else {\n          if (Boolean(validator.trim(value).match(/^[0-9\\s]+$/)) && Boolean(validator.trim(value).length >=4)) {\n            return true\n          } else {\n            return false\n          }\n        }\n      }\n    },\n    isMaxLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length <=10);\n      }\n    },\n    isYoutubeUrl : {\n      rule: function(value) {\n        if (validator.trim(value)) {\n          return Boolean(validator.trim(value).match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/));\n        } else {\n          return true\n        }\n      }\n    },\n    imageValidation : {\n      rule : function (value) {\n        if (validator.trim(value)) {\n          var imageArray = validator.trim(value).split('.');\n          var imageArrayLength = imageArray.length;\n          var extension = imageArray[imageArrayLength-1]\n          return extension.match( new RegExp( /^png|jpe?g|gif/ ) );\n        } else {\n          return true\n        }\n      }\n    },\n    isValidPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).match(/^\\d*(?:\\.\\d{1,2})?$/));\n      }\n    },\n    isMinPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value) >= 1);\n      }\n    }\n});\n\nexport default class CreateHomestay extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      homestayId          : '',\n      isHomestay          : false,\n      error               : \"\",\n      success             : \"\" ,\n      country             : \"Canada\",\n      aboutLength         : 360,\n      aboutPetLength      : 360,\n      hobbiesLength       : 360,\n      members_count       : 0,\n      memebers            : []\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n  //   $('#checkinDate').datetimepicker({\n  //     format : 'YYYY-MM-DD'\n  // }).on('dp.change', function (selected) {\n  //   console.log(\"hereeeeee222222222\")\n  //   if ($('#checkinDate').val()){\n  //     if(new Date($('#checkinDate').val()) > new Date($('#checkoutDate').val()) ){\n  //       $('#checkoutDate').data(\"DateTimePicker\").date(new Date($('#checkinDate').val()));\n  //       $('#checkoutDate').data(\"DateTimePicker\").minDate(new Date($('#checkinDate').val()));\n  //     }\n  //   }\n  //     // var minDate = new Date(selected.date.valueOf());\n  // });\n  // initialise end date timepicker\n  $('#birthDate').datetimepicker({\n      format : 'YYYY-MM-DD',\n      minDate: '2016-01-01'\n  }); \n\n    if(Roles.subscription.ready()) {\n      if (! Roles.userIsInRole(Meteor.userId(), ['Admin','Homestay','University residence'])) {\n        FlowRouter.go('noaccess')\n      }\n      if(Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n        if (FlowRouter.getRouteName() !== \"admin-createHomestay\") {\n          FlowRouter.go('noaccess')\n        }\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n        if (FlowRouter.getRouteName() !== \"homestay\") {\n          FlowRouter.go('noaccess')\n        }\n      }\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    if(!$(event.currentTarget).find('#aboutHomestay').val() || !$(event.currentTarget).find('#address').val() \n        || !$(event.currentTarget).find('#aboutPets').val() || !$(event.currentTarget).find('#hobbies').val())  {\n      if(!$(event.currentTarget).find('#aboutHomestay').val()){\n          $(event.currentTarget).find('#aboutError').html('Please add description about your homestay.')\n          $(event.currentTarget).find('#aboutHomestay').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      if (!$(event.currentTarget).find('#address').val()) {\n          $(event.currentTarget).find('#addressError').html('Please add homestay address.')\n          $(event.currentTarget).find('#address').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      if(!$(event.currentTarget).find('#aboutPets').val()){\n        $(event.currentTarget).find('#aboutPetsError').html('Please add description about your pets.')\n        $(event.currentTarget).find('#aboutPets').addClass('ui-input_state_invalid');\n        $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      if(!$(event.currentTarget).find('#hobbies').val()){\n        $(event.currentTarget).find('#hobbiesError').html('Please add description about your hobbies.')\n        $(event.currentTarget).find('#hobbies').addClass('ui-input_state_invalid');\n        $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      return false\n    } else {\n      $(event.currentTarget).find('#createHomestayBtn').prop('disabled',false)\n      $(event.currentTarget).find('#addressError').html('')\n      $(event.currentTarget).find('#aboutError').html('')\n      $(event.currentTarget).find('#hobbiesError').html('')\n      $(event.currentTarget).find('#aboutPetsError').html('')\n      $(event.currentTarget).find('#address').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#aboutHomestay').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#aboutPets').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#hobbies').removeClass('ui-input_state_invalid');\n\n      var name        = $(event.currentTarget).find('#name').val().trim(),\n        first_name    = $(event.currentTarget).find('#first_name').val().trim(),\n        last_name     = $(event.currentTarget).find('#last_name').val().trim(),\n        country       = $(event.currentTarget).find('#country').val().trim(),\n        city          = $(event.currentTarget).find('#city').val().trim(),\n        email         = $(event.currentTarget).find('#email').val().trim(),\n        phone         = $(event.currentTarget).find('#phone').val().trim(),\n        home          = $(event.currentTarget).find('#home').val().trim(),\n        roomsNumber   = $(event.currentTarget).find('#roomsNumber').val().trim(),\n        peopleLiving  = $(event.currentTarget).find('#peopleLiving').val().trim(),\n        smoker        = $(event.currentTarget).find(\"input.smoker[type=radio]:checked\").val(),\n        pets          = $(event.currentTarget).find(\"input.pets[type=radio]:checked\").val(),\n        address       = $(event.currentTarget).find('#address').val().trim(),\n        aboutHomestay = $(event.currentTarget).find('#aboutHomestay').val().trim(),\n        aboutPets     = $(event.currentTarget).find('#aboutPets').val().trim(),\n        hobbies       = $(event.currentTarget).find('#hobbies').val().trim(),\n        postalCode    = $(event.currentTarget).find('#postalCode').val().trim(),\n        aboutHomestay = $(event.currentTarget).find('#aboutHomestay').val().trim(),\n        tenant_gender = $(event.currentTarget).find(\"input.tenant_gender[type=radio]:checked\").val(),\n        tenant_smoker = $(event.currentTarget).find(\"input.tenant_smoker[type=radio]:checked\").val()\n        status        = 'inactive';\n        var foodRestrictions = [];\n        var petTypes         = [];\n        var mealsOptions     = [];\n        $(event.currentTarget).find(\"input.restrictions[type=checkbox]:checked\").each(function() {\n          foodRestrictions.push($(this).val());\n        });\n        $(event.currentTarget).find(\"input.pettypes[type=checkbox]:checked\").each(function() {\n          petTypes.push($(this).val());\n        });\n        $(event.currentTarget).find(\"input.meals[type=checkbox]:checked\").each(function() {\n          mealsOptions.push($(this).val());\n        });\n        if (!tenant_gender) {\n          tenant_gender = null\n        }\n        if (!tenant_smoker) {\n          tenant_smoker = null\n        }\n        var homestay = {\n          type              : 'homestay',\n          name              : name,\n          first_name        : first_name,\n          last_name         : last_name,\n          country           : country,\n          city              : city,\n          email             : email,\n          phone             : Number(phone),\n          home              : Number(home),\n          roomsNumber       : Number(roomsNumber),\n          peopleLiving      : Number(peopleLiving),\n          smoker            : smoker,\n          pets              : pets,\n          address           : address,\n          postalCode        : postalCode,\n          aboutHomestay     : aboutHomestay,\n          aboutPets         : aboutPets,\n          hobbies           : hobbies,\n          tenant_gender     : tenant_gender,\n          tenant_smoker     : tenant_smoker,\n          ownerId           : Meteor.userId(),\n          created_at        : new Date(),\n          status            : status,\n          image             : [],\n          videoUrl          : \"\",\n          dailyPrice        : 0,\n          weeklyPrice       : 0,\n          services          : [],\n          foodRestrictions  : foodRestrictions,\n          petTypes          : petTypes,\n          mealsOptions      : mealsOptions\n        }\n        if(Roles.userIsInRole(Meteor.userId(), ['Homestay'])) {\n          homestay[\"type\"] = \"homestay\"\n          homestay[\"userId\"] = Meteor.userId();\n          homestay[\"userName\"] = Meteor.user().profile.name;\n        } else if (Roles.userIsInRole(Meteor.userId(), ['University residence'])) {\n          homestay[\"type\"] = \"university residence\"\n          homestay[\"userId\"] = Meteor.userId();\n          homestay[\"userName\"] = Meteor.user().profile.name;\n        }\n        if (this.state.homestayId && this.state.isHomestay) {\n          let updateHomestay_args = {\n            homestayId : this.state.homestayId,\n            options    : homestay\n          }\n          updateHomestay.call(updateHomestay_args, (error, res) => {\n            if (error) {\n                self.setState({'error':error.reason});\n                document.getElementById('dLabel').scrollIntoView();\n            } else {\n                self.setState({'country': country})\n                self.setState({'success':'Successfully updated homestay'});\n                document.getElementById('dLabel').scrollIntoView();\n            }\n          })\n        } else {\n          createHomestay.call(homestay, (error, response) => {\n              if (error) {\n                  self.setState({'error':error.reason});\n                  document.getElementById('dLabel').scrollIntoView();\n              } else {\n                  self.setState({'country': country})\n                  self.setState({'success':'Successfully created homestay'});\n                  document.getElementById('dLabel').scrollIntoView();\n                  self.setState({'homestayId': response})\n                  self.setState({'isHomestay': true})\n                  Session.set('homestayId',response)\n              }\n          });\n        }\n    }\n  }\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return  (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n  homeNumberValidation(event) {\n    let number = $(event.currentTarget).val();\n    if (!number) {\n      $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',false)\n      return true\n    } else {\n      if (Boolean(validator.trim(number).match(/^[0-9\\s]+$/)) && Boolean(validator.trim(number).length >=4)) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n        $(event.currentTarget).removeClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',false)\n        return true\n      } else {\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('Enter a valid contact number')\n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',true)\n        return false\n      }\n    }\n  }\n  textareaValidation(event) {\n    let text = $(event.currentTarget).val();\n    if (!text) {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please add description about your homestay.')\n      } else if($(event.currentTarget).hasClass('address')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Please add homestay address')\n      } else if($(event.currentTarget).hasClass('aboutPets')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutPetsError').html('Please add description about your pets.')\n      } else if($(event.currentTarget).hasClass('hobbies')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#hobbiesError').html('Please add description about your hobbies.')\n      }\n\n      $(event.currentTarget).addClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',true)\n      return false\n    } else if(text.length >360) {\n        if($(event.currentTarget).hasClass('aboutHomestay')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please enter a description within 360 characters')\n        } else if($(event.currentTarget).hasClass('address')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Only 360 characters permitted')\n        } else if($(event.currentTarget).hasClass('aboutPets')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#aboutPetsError').html('Please enter a description within 360 characters')\n        } else if($(event.currentTarget).hasClass('hobbies')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#hobbiesError').html('Please enter a description within 360 characters')\n        }\n        \n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',true)\n        return false\n    } else {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('')\n      } else if($(event.currentTarget).hasClass('address')) {\n         $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('')\n      } else if($(event.currentTarget).hasClass('aboutPets')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutPetsError').html('')\n      } else if($(event.currentTarget).hasClass('hobbies')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#hobbiesError').html('')\n      }\n\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      if($(event.currentTarget).parents('#form-basicDetail').find('#aboutHomestay').val() && $(event.currentTarget).parents('#form-basicDetail').find('#address').val() \n          && $(event.currentTarget).parents('#form-basicDetail').find('#aboutPets').val() && $(event.currentTarget).parents('#form-basicDetail').find('#hobbies').val()) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',false)\n      }\n      return true\n    }\n  }\n  lengthCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'aboutLength' : 360 - charLength})\n  }\n  lengthPetsCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'aboutPetLength' : 360 - charLength})\n  }\n  lengthHobbiesCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'hobbiesLength' : 360 - charLength})\n  }\n  renderMembersForm() {\n    console.log('harut',this.state.members_count)\n    if(this.state.members_count > 0) {\n      console.log(\"renderMembersForm\", this.state.members_count)\n      return (\n        <div>\n        <div className=\"form-group\">\n          <label htmlFor=\"member_first_name\" className=\"col-sm-4 control-label\">First Name <i className=\"semi\">:</i></label><br/>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"members\"\n              name=\"member_first_name\"\n              ref=\"member_first_name\"\n              placeholder=\"Enter First Name of Member\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter first name of member'\n                }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n        <label htmlFor=\"member_last_name\" className=\"col-sm-4 control-label\">Last Name <i className=\"semi\">:</i></label><br/>\n        <div className=\"col-sm-8\">\n          <Validation.Input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"members\"\n            name=\"memberlastt_name\"\n            ref=\"member_last_name\"\n            placeholder=\"Enter Last Name of Member\"\n            validations={[\n              {\n                rule: 'isRequired',\n                errorMessage: 'Please enter last name of member'\n              }\n            ]}/>\n        </div>\n      </div>\n      </div>\n      )\n    }\n  }\n  handleMembersChange(event) {\n    console.log(\"event.target.value\", event.target.value)\n    console.log(\"members_count\", this.state.members_count);\n    let difference = event.target.value - this.state.members_count;\n    console.log(\"difference\", difference);\n    if(difference > 0) {\n      while(difference !== 0) {\n        console.log(\"difference111111\", difference);\n        difference--;\n        this.state.memebers.push({ first_name: \"\",last_name: \"\" })\n      }\n    } else {\n      while(difference !== 0){\n        console.log(\"difference222222222\", difference);\n        difference++;\n        this.state.memebers.pop();\n      }\n    }\n    this.setState({'members_count': event.target.value});\n    console.log(\"this.members array\", this.state.memebers)\n  }\n  renderBasicForm() {\n      let self = this;\n      let options = CountryList.map(function (country,index){\n        return (\n            <option key={index} value={country}>{country}</option>\n        )\n      });\n      let city_options = CityList.map(function (city, index){\n        return (\n            <option key={index} value={city}>{city}</option>\n        )\n      })\n      let food_restrictions = FoodRestrictions.map(function (restriction,index){\n        if (index >=1) {\n          return (\n            <div>\n              <label className=\"col-sm-4 control-label\"></label>\n              <div className=\"col-sm-8\">\n                <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                  <label className=\"\">\n                    <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={restriction} ref=\"restrictions\" defaultChecked=\"\"/> {restriction}\n                  </label>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      })\n      let pet_types = PetTypes.map(function (pet,index){\n        if (index >=1) {\n          return (\n            <div>\n              <label className=\"col-sm-4 control-label\"></label>\n              <div className=\"col-sm-8\">\n                <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                  <label className=\"\">\n                    <input type=\"checkbox\" className=\"pettypes\" name=\"pettypes\" value={pet} ref=\"restrictions\" defaultChecked=\"\"/> {pet}\n                  </label>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      })\n      let meals_options = Meals.map(function (meal,index){\n        if (index >=1) {\n          return (\n            <div>\n              <label className=\"col-sm-4 control-label\"></label>\n              <div className=\"col-sm-8\">\n                <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                  <label className=\"\">\n                    <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={meal} ref=\"meals\" defaultChecked=\"\"/> {meal}\n                  </label>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      })\n      return (\n        <Validation.Form className=\"form-horizontal\" id=\"form-basicDetail\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n          {this.getErrorMessage()}\n        </div>\n        <h2 className=\"profile-category\">homestay specifications</h2>\n        <div className=\"form-group\">\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\" className=\"col-sm-4 control-label\">Name of Homestay <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"name\"\n              ref=\"name\"\n              name=\"name\"\n              placeholder=\"Eg:- Adams Homestay\"\n              blocking=\"input\"\n              validations={[\n              {\n                rule: 'isRequired',\n                errorMessage: 'Please enter Name Of Homestay'\n              }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"first_name\" className=\"col-sm-4 control-label\">First Name <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"first_name\"\n              ref=\"first_name\"\n              name=\"first_name\"\n              placeholder=\"Eg:- Adam\"\n              blocking=\"input\"\n              validations={[\n              {\n                rule: 'isRequired',\n                errorMessage: 'Please enter First Name'\n              }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"last_name\" className=\"col-sm-4 control-label\">Last Name <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"last_name\"\n              ref=\"last_name\"\n              name=\"last_name\"\n              placeholder=\"Eg:- Levine\"\n              blocking=\"input\"\n              validations={[\n              {\n                rule: 'isRequired',\n                errorMessage: 'Please enter Last Name'\n              }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\" className=\"col-sm-4 control-label\">Email Address <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            ref=\"email\"\n            name=\"email\"\n            validations={[\n            {\n              rule: 'isRequired',\n              errorMessage: 'Please enter Email Address'\n            },\n            {\n              rule : 'isEmail',\n              errorMessage: \"Enter a valid Email\"\n            }\n            ]}\n            placeholder=\"Eg:- adamshomestay@mail.com\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"phone\" className=\"col-sm-4 control-label\">Phone Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"phone\"\n              ref=\"phone\"\n              name=\"phone\"\n              placeholder=\"Eg:-  XXX-XXX-XXXX \"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter contact number'\n                },\n                {\n                  rule: 'isMinLength',\n                  errorMessage: 'Enter a valid contact number'\n                },\n                {\n                  rule: 'isNumber',\n                  errorMessage: 'Enter a valid contact number'\n                }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"home\" className=\"col-sm-4 control-label\">Home Phone Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"home\"\n              ref=\"home\"\n              name=\"home\"\n              placeholder=\"Eg:-  XXX-XXX-XXXX \"\n              onChange={this.homeNumberValidation.bind(this)} />\n              <span className=\"ui-hint\" id=\"homeError\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"numberRooms\" className=\"col-sm-4 control-label\">Number of Rooms/Beds <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              ref=\"roomsNumber\"\n              name=\"roomsNumber\"\n              id=\"roomsNumber\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter number of rooms'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              placeholder={2} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"peopleLiving\" className=\"col-sm-4 control-label\">Number of People Living <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"peopleLiving\"\n              ref=\"peopleLiving\"\n              name=\"peopleLiving\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Number of people living'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              placeholder={4} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className=\"active\" onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" defaultValue=\"No\" ref=\"smoker\" className=\"smoker\" defaultChecked=\"checked\" /> No\n                </label>\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" ref=\"smoker\" className=\"smoker\" defaultValue=\"Yes\" /> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Has Pets <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className=\"active\" onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" className=\"pets\" name=\"pets\" defaultValue=\"No\" defaultChecked=\"checked\"/> No\n                </label>\n                <label  onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" name=\"pets\" className=\"pets\" defaultValue=\"Yes\" /> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"foodRestrictions\" className=\"col-sm-4 control-label\">Pet Types <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className=\"\">\n                <input type=\"checkbox\" className=\"pettypes\" name=\"pettypes\" value={PetTypes[0]} ref=\"pettypes\" defaultChecked=\"\" /> {PetTypes[0]}\n              </label>\n            </div>\n          </div>\n          {pet_types}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"aboutPets\" className=\"col-sm-4 control-label\">About Pets <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control aboutPets\" id=\"aboutPets\" ref=\"aboutPets\" name=\"aboutPets\" placeholder=\"Add description about your pets\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthPetsCount.bind(this)} maxLength={360} />\n            <span className=\"ui-hint\" id=\"aboutPetsError\"></span>\n            <p >{this.state.aboutPetLength} characters remaining</p>\n          </div>\n        </div> <br />\n        <div className=\"form-group\">\n          <label htmlFor=\"foodRestrictions\" className=\"col-sm-4 control-label\">Offers Food Options <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className=\"\">\n                <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={FoodRestrictions[0]} ref=\"restrictions\" defaultChecked=\"\" /> {FoodRestrictions[0]}\n              </label>\n            </div>\n          </div>\n          {food_restrictions}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"meals\" className=\"col-sm-4 control-label\">Meals Offered <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className=\"\">\n                <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={Meals[0]} ref=\"meals\" defaultChecked=\"\"/> {Meals[0]}\n              </label>\n            </div>\n          </div>\n          {meals_options}\n        </div><br />\n        <div className=\"form-group\">\n          <label htmlFor=\"address\" className=\"col-sm-4 control-label\">Address <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control\" id=\"address\" ref=\"address\" name=\"address\" placeholder=\"Please give full address details here\" defaultValue={\"\"} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"Location\" className=\"col-sm-4 control-label\">Name of Location <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Select\n              value={this.state.country}\n              id=\"country\"\n              className=\"form-control\"\n              ref=\"country\"\n              name=\"country\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select Country'\n                }\n              ]}>\n              {options}\n            </Validation.Select>\n            <Validation.Select\n              id=\"city\"\n              className=\"form-control mt-md-nw\"\n              ref=\"city\"\n              name=\"city\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select City'\n                }\n              ]}>\n                <option value=\"\"> Select City </option>\n                {city_options}\n            </Validation.Select>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"postalCode\" className=\"col-sm-4 control-label\">Postal Code <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"postalCode\"\n              name=\"postalCode\"\n              ref=\"postalCode\"\n              placeholder=\"Enter Postal Code\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Postal Code'\n                }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"aboutHomestay\" className=\"col-sm-4 control-label\">About Homestay <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control aboutHomestay\" id=\"aboutHomestay\" ref=\"aboutHomestay\" name=\"aboutHomestay\" placeholder=\"Add description about your homestay\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthCount.bind(this)} maxLength={360} />\n            <span className=\"ui-hint\" id=\"aboutError\"></span>\n            <p >{this.state.aboutLength} characters remaining</p>\n          </div>\n        </div> <br />\n        <div className=\"form-group\">\n          <label htmlFor=\"hobbies\" className=\"col-sm-4 control-label\">Hobbies <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control hobbies\" id=\"hobbies\" ref=\"hobbies\" name=\"hobbies\" placeholder=\"Add description about your hobbies\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthHobbiesCount.bind(this)} maxLength={360} />\n            <span className=\"ui-hint\" id=\"hobbiesError\"></span>\n            <p >{this.state.hobbiesLength} characters remaining</p>\n          </div>\n        </div> <br />\n        <div className=\"form-group\">\n          <label htmlFor=\"members\" className=\"col-sm-4 control-label\">How many additional members are living in your household <i className=\"semi\">:</i></label><br/>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"members\"\n              name=\"members\"\n              ref=\"members\"\n              placeholder=\"Enter Number of Members\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter number of members'\n                }\n              ]}\n              onChange={this.handleMembersChange.bind(this)}/>\n          </div>\n        </div><br/>\n        {/* {this.renderMembersForm()} */}\n        {this.state.memebers.map((member,index) => (\n        <div>\n          <p>Additional member {index+1} </p>\n          <div className=\"form-group\">\n            <label htmlFor=\"member_first_name\" className=\"col-sm-4 control-label\">First Name <i className=\"semi\">:</i></label>\n            <div className=\"col-sm-8\">\n              <Validation.Input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"members\"\n                name=\"member_first_name\"\n                ref=\"member_first_name\"\n                placeholder=\"Enter First Name of Member\"\n                validations={[\n                  {\n                    rule: 'isRequired',\n                    errorMessage: 'Please enter first name of member'\n                  }\n                ]}/>\n            </div>\n          </div><br/>\n          <div className=\"form-group\">\n            <label htmlFor=\"member_last_name\" className=\"col-sm-4 control-label\">Last Name <i className=\"semi\">:</i></label>\n            <div className=\"col-sm-8\">\n              <Validation.Input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"members\"\n                name=\"memberlastt_name\"\n                ref=\"member_last_name\"\n                placeholder=\"Enter Last Name of Member\"\n                validations={[\n                  {\n                    rule: 'isRequired',\n                    errorMessage: 'Please enter last name of member'\n                  }\n                ]}/>\n            </div>\n          </div><br/>\n          <div className=\"form-group\">\n            <label htmlFor=\"member_last_name\" className=\"col-sm-4 control-label\">Date Of Birth <i className=\"semi\">:</i></label>\n            <div className=\"col-sm-8\">\n              <input type=\"text\" placeholder=\"DATE OF BIRTH\" id=\"birthDate\" ref=\"birthDate\" className=\"form-control avail-date\" />\n            </div>\n          </div><br/>\n          {/* <div className=\"col-sm-2\">\n            <input type=\"text\" placeholder=\"CHECK-OUT DATE\" id=\"checkoutDate\" ref=\"checkoutDate\" className=\"form-control avail-date\" />\n          </div> */}\n          {/* <div className=\"input-group datetimepicker\" id=\"checkindate\">\n            <span className=\"input-group-addon\"><i className=\"glyphicon glyphicon-calendar\"></i></span>\n            <input className=\"set-due-date form-control\" type=\"text\"/>\n          </div> */}\n          <div className=\"form-group\">\n            <label htmlFor=\"member_last_name\" className=\"col-sm-4 control-label\">Reletionship To Host <i className=\"semi\">:</i></label>\n            <div className=\"col-sm-8\">\n              <Validation.Input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"members\"\n                name=\"memberlastt_name\"\n                ref=\"member_last_name\"\n                placeholder=\"Enter Reletionship To Host\"\n                validations={[\n                  {\n                    rule: 'isRequired',\n                    errorMessage: 'Please enter reletionship to host'\n                  }\n                ]}/>\n            </div>\n          </div><br/>\n        </div>\n        ))}\n        <h2 className=\"profile-category\">tenant requirements</h2>\n        <p>Adding more stratification will result in a limiting number of available hosts</p>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Gender <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" defaultValue=\"Male\" ref=\"tenant_gender\" id=\"tenant_gender\" className=\"tenant_gender\" /> Male\n                </label>\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Female\" className=\"tenant_gender\" /> Female\n                </label>\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Both\" className=\"tenant_gender\" /> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label onClick={this.radioSwitch.bind(this)}  >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" defaultValue=\"No\" ref=\"tenant_smoker\" className=\"tenant_smoker\" /> No\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Yes\" className=\"tenant_smoker\" /> Yes\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Both\" className=\"tenant_smoker\" /> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button id=\"createHomestayBtn\" type=\"submit\" className=\"btn primary-btn lg\"  value={(this.state.homestayId && this.state.isHomestay)?\"Update Homestay\":\"Create Homestay\"} />\n            </div>\n        </div>\n          </Validation.Form>\n      )\n  }\n\n  render() {\n\n    let profileCompleteDiv = '';\n    let mediaElement = '';\n    if (!this.state.isHomestay) {\n      profileCompleteDiv = <ul className=\"nav nav-tabs\" role=\"tablist\">\n              <li role=\"presentation\" className=\"active\">\n                <a href=\"#basicSettings\" aria-controls=\"basicSettings\" role=\"tab\" data-toggle=\"tab\">Basic Settings</a>\n              </li>\n            </ul>\n      mediaElement = <div></div>\n    } else {\n      profileCompleteDiv = <ul className=\"nav nav-tabs\" role=\"tablist\">\n              <li role=\"presentation\" className=\"active\">\n                <a href=\"#basicSettings\" aria-controls=\"basicSettings\" role=\"tab\" data-toggle=\"tab\">Basic Settings</a>\n              </li>\n              <li role=\"presentation\">\n                  <a href=\"#media\" aria-controls=\"media\" role=\"tab\" data-toggle=\"tab\">Media</a>\n                </li>\n                <li role=\"presentation\">\n                  <a href=\"#priceSettings\" aria-controls=\"priceSettings\" role=\"tab\" data-toggle=\"tab\">Price Settings</a>\n                </li>\n                <li role=\"presentation\">\n                  <a href=\"#services\" aria-controls=\"services\" role=\"tab\" data-toggle=\"tab\">Services</a>\n                </li>\n            </ul>\n      mediaElement = <Blaze template=\"media\"/>\n    }\n\n    return (\n      <section className=\"dashboard-content-wrapper view-profile\">\n        <section className=\"view-profile-wrapper\">\n          <div className=\"header-wrap\">Create Homestay</div>\n          {/* Nav tabs */}\n          <div className=\"primary-tabs\">\n\n              {profileCompleteDiv}\n\n            {/* Tab panes */}\n            <div className=\"tab-content\">\n\n              <div role=\"tabpanel\" className=\"tab-pane  active\" id=\"basicSettings\">\n                {this.renderBasicForm()}\n\n              </div>\n               <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"media\">\n                  {mediaElement}\n\n                </div>\n                <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"priceSettings\">\n                  < PriceForm homestayId={this.state.homestayId}/>\n                </div>\n                <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"services\">\n                  <ServiceForm homestayId={this.state.homestayId} />\n                </div>\n            </div>\n          </div>\n        </section>\n      </section>\n    );\n  }\n};\nCreateHomestay.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nexport default createContainer(() => {\n    console.log(Session.get('homestayId'))\n    if(Session.get('homestayId'))\n      Meteor.subscribe('homestayById',Session.get('homestayId'));\n\n    return {}\n\n\n}, CreateHomestay);\n\n/*CreateHomestay.propTypes = {\n    user: PropTypes.array.isRequired\n};\n\nexport default createContainer(() => {\n    return {\n        user : Users.find({},{limit: 5}).fetch()\n    }\n}, CreateHomestay);*/\n\nexport class PriceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event){\n    event.preventDefault();\n    console.log(\"price form submit\")\n    var self = this;\n    this.setState({'error':''});\n    this.setState({'success':''});\n\n    // var dailyPrice = ReactDOM.findDOMNode(this.refs.dailyPrice).value.trim(),\n    //     weeklyPrice = ReactDOM.findDOMNode(this.refs.weeklyPrice).value.trim();\n    var dailyPrice  = $(event.currentTarget).find('#dailyPrice').val().trim(),\n        weeklyPrice = $(event.currentTarget).find('#weeklyPrice').val().trim();\n    if(!dailyPrice && !weeklyPrice) {\n      self.setState({'error':'No data entered'});\n    } else {\n      var options = {\n        dailyPrice    : Number(dailyPrice),\n        weeklyPrice   : Number(weeklyPrice)\n      }\n      let updateHomestay_args = {\n        homestayId : this.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated homestay'});\n        }\n      })\n    }\n  }\n  getErrorMessage(){\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                      <div className=\"error-message\">{this.state.error} </div>\n                    </div>\n              )\n    }\n    if (this.state.success) {\n      return(  <div className=\"col-sm-8\">\n                      <div className=\"success-message\">{this.state.success}</div>\n                    </div>\n            )\n    }\n  }\n\n  renderPriceForm () {\n    return (\n       <Validation.Form className=\"form-horizontal\" id=\"form-price\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n        {this.getErrorMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"dailyPrice\" className=\"col-sm-4 control-label\">Daily Price ($)<i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"dailyPrice\"\n              ref=\"dailyPrice\"\n              id=\"dailyPrice\"\n              placeholder=\"Eg:- 225\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid daily price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage:'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"weeklyPrice\" className=\"col-sm-4 control-label\">Weekly Price ($)<i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"weeklyPrice\"\n              name=\"weeklyPrice\"\n              ref=\"weeklyPrice\"\n              placeholder=\"Eg:- 550\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid weekly price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage:'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]} />\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button className=\"btn primary-btn lg\" type=\"submit\" value=\"Update Changes\" />\n          </div>\n        </div>\n      </Validation.Form>\n    )\n  }\n  render() {\n    return this.renderPriceForm()\n  }\n}\n\nexport class ServiceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    var serviceArray = [];\n\n    $(event.currentTarget).find(\"input.services[type=checkbox]:checked\").each(function() {\n      serviceArray.push($(this).val());\n    });\n    if(serviceArray.length <=0) {\n      self.setState({'error':'Please select any services'});\n    } else {\n      var options = {\n        services      : serviceArray\n      }\n      let updateHomestay_args = {\n        homestayId : self.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated homestay'});\n        }\n      })\n    }\n  }\n\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n\n  renderServiceForm() {\n    return (\n      <form className=\"form-horizontal\" id=\"form-services\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n         {this.getErrorMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Weekly Cleaning of Bedroom <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Weekly Cleaning of Bedroom\" ref=\"services\" /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Will do Laundry for Student <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Will do Laundry for Student\" ref=\"services\" /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Free WiFi <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label >\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Free Wifi\" ref=\"services\"   /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Luggage Storage <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Luggage Storage\" ref=\"services\" /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Travel to campus with student on their first day by public transportation <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Travel to campus with student on their first day by public transportation\" ref=\"services\" /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Tour of city in the first week <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Tour of city in the first week\" ref=\"services\" /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\"><button className=\"btn primary-btn lg\" disabled={this.state.servicesBtnDisable} type=\"submit\">Update Changes</button></div>\n        </div>\n      </form>\n    )\n  }\n  render() {\n    return this.renderServiceForm()\n  }\n}\n\nexport class MembersForm extends Component {\n  // function to show error message\ngetErrorMessage () {\n  let error = Session.get('error');\n  let success = Session.get('success');\n\n  Session.set('success', null);\n  Session.set('error', null) ;\n\n  if(error) {\n    return   (<div className=\"row\">\n                            <div className=\"col-sm-12\">\n                              <div className=\"error-message\">\n                                {error}\n                              </div>\n                            </div>\n                    </div>)\n  }\n}\n\nrender() {\n  // var children =[];\n  // console.log(\"this.props\", this.props)\n  // var modalOpen = this.props.modalOpen;\n  // let startIndex = 0;\n  // if(FlowRouter.getQueryParam('page')) {\n  //   startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*10;\n  // }\n  // var homestayNodes = this.props.data.map(function (homestay, index) {\n  //   startIndex = startIndex +1;\n  //   //Render each homestay row\n  //   return (\n  //     <Homestay key={homestay._id} homestayId={homestay._id} index={startIndex} name={homestay.name} email={homestay.email} status={homestay.status} ownerId={homestay.ownerId} userId={homestay.userId} userName={homestay.userName} modalOpen={modalOpen}/>\n  //   )\n  // });\n\n  return(\n    <div>\n    {this.getErrorMessage ()}\n    <div className=\"form-group\">\n      <label htmlFor=\"member_fist_name\" className=\"col-sm-4 control-label\">First Name <i className=\"semi\">:</i></label><br/>\n        <div className=\"col-sm-8\">\n          <Validation.Input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"member_fist_name\"\n              name=\"memember_fist_namembers\"\n              ref=\"member_fist_name\"\n              placeholder=\"Enter Fist Name of Member\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter fist name of member'\n                }\n          ]}/>\n        </div>\n    </div>\n    </div>\n  );\n}\n};\n","import React, {Component, PropTypes} from 'react';\nimport Blaze from 'meteor/gadicc:blaze-react-component';\n\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress';\n\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { createHomestay } from './../../api/admin/homestays/methods.js';\nimport { updateHomestay } from './../../api/admin/homestays/methods.js';\nimport { CountryList } from './../../helper/constants.js';\nimport { CityList } from './../../helper/constants.js';\nimport { FoodRestrictions } from './../../helper/constants.js';\nimport { Meals } from './../../helper/constants.js';\n\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\n// Extend Validation with custom rules\nValidation.extendErrors({\n\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom\n        message: 'should be email'\n    },\n    isNumber : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[0-9\\s]+$/));\n        }\n    },\n    isMinLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length >=4);\n      }\n    },\n    isHomeNumber : {\n      rule: function(value) {\n        if (!value) {\n          return true\n        } else {\n          if (Boolean(validator.trim(value).match(/^[0-9\\s]+$/)) && Boolean(validator.trim(value).length >=4)) {\n            return true\n          } else {\n            return false\n          }\n        }\n      }\n    },\n    isMaxLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length <=10);\n      }\n    },\n    isYoutubeUrl : {\n      rule: function(value) {\n        if (validator.trim(value)) {\n          return Boolean(validator.trim(value).match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/));\n        } else {\n          return true\n        }\n      }\n    },\n    imageValidation : {\n      rule : function (value) {\n        if (validator.trim(value)) {\n          var imageArray = validator.trim(value).split('.');\n          var imageArrayLength = imageArray.length;\n          var extension = imageArray[imageArrayLength-1]\n          return extension.match( new RegExp( /^png|jpe?g|gif/ ) );\n        } else {\n          return true\n        }\n      }\n    },\n    isValidPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).match(/^\\d*(?:\\.\\d{1,2})?$/));\n      }\n    },\n    isMinPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value) >= 1);\n      }\n    }\n});\n\nexport default class CreateResidence extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      homestayId          : '',\n      isHomestay          : false,\n      error               : \"\",\n      success             : \"\" ,\n      country             : \"Canada\",\n      aboutLength         : 360\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n    if(Roles.subscription.ready()) {\n      console.log(!(Roles.userIsInRole(Meteor.userId(), 'Admin') || Roles.userIsInRole(Meteor.userId(), 'University residence')))\n      if (! Roles.userIsInRole(Meteor.userId(), ['Admin','University residence'])) {\n        FlowRouter.go('noaccess')\n      }\n      if(Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n        if (FlowRouter.getRouteName() !== \"admin-createResidence\") {\n          FlowRouter.go('noaccess')\n        }\n      } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n        if (FlowRouter.getRouteName() !== \"universityresidence\") {\n          FlowRouter.go('noaccess')\n        }\n      }\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    if(!$(event.currentTarget).find('#aboutHomestay').val() || !$(event.currentTarget).find('#address').val())  {\n      if(!$(event.currentTarget).find('#aboutHomestay').val()){\n          $(event.currentTarget).find('#aboutError').html('Please add description about your homestay.')\n          $(event.currentTarget).find('#aboutHomestay').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      if (!$(event.currentTarget).find('#address').val()) {\n          $(event.currentTarget).find('#addressError').html('Please add homestay address.')\n          $(event.currentTarget).find('#address').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      return false\n    } else {\n      $(event.currentTarget).find('#createHomestayBtn').prop('disabled',false)\n      $(event.currentTarget).find('#addressError').html('')\n      $(event.currentTarget).find('#aboutError').html('')\n      $(event.currentTarget).find('#address').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#aboutHomestay').removeClass('ui-input_state_invalid');\n      var name        = $(event.currentTarget).find('#name').val().trim(),\n        country       = $(event.currentTarget).find('#country').val().trim(),\n        city          = $(event.currentTarget).find('#city').val().trim(),\n        email         = $(event.currentTarget).find('#email').val().trim(),\n        phone         = $(event.currentTarget).find('#phone').val().trim(),\n        home          = $(event.currentTarget).find('#home').val().trim(),\n        roomsNumber   = $(event.currentTarget).find('#roomsNumber').val().trim(),\n        peopleLiving  = $(event.currentTarget).find('#peopleLiving').val().trim(),\n        smoker        = $(event.currentTarget).find(\"input.smoker[type=radio]:checked\").val(),\n        pets          = $(event.currentTarget).find(\"input.pets[type=radio]:checked\").val(),\n        address       = $(event.currentTarget).find('#address').val().trim(),\n        aboutHomestay = $(event.currentTarget).find('#aboutHomestay').val().trim(),\n        postalCode    = $(event.currentTarget).find('#postalCode').val().trim(),\n        aboutHomestay = $(event.currentTarget).find('#aboutHomestay').val().trim(),\n        tenant_gender = $(event.currentTarget).find(\"input.tenant_gender[type=radio]:checked\").val(),\n        tenant_smoker = $(event.currentTarget).find(\"input.tenant_smoker[type=radio]:checked\").val()\n        status        = 'inactive';\n        var foodRestrictions = [];\n        var mealsOptions     = [];\n        $(event.currentTarget).find(\"input.restrictions[type=checkbox]:checked\").each(function() {\n          foodRestrictions.push($(this).val());\n        });\n        $(event.currentTarget).find(\"input.meals[type=checkbox]:checked\").each(function() {\n          mealsOptions.push($(this).val());\n        });\n        if (!tenant_gender) {\n          tenant_gender = null\n        }\n        if (!tenant_smoker) {\n          tenant_smoker = null\n        }\n        var homestay = {\n          type              : 'university residence',\n          name              : name,\n          country           : country,\n          city              : city,\n          email             : email,\n          phone             : Number(phone),\n          home              : Number(home),\n          roomsNumber       : Number(roomsNumber),\n          peopleLiving      : Number(peopleLiving),\n          smoker            : smoker,\n          pets              : pets,\n          address           : address,\n          postalCode        : postalCode,\n          aboutHomestay     : aboutHomestay,\n          tenant_gender     : tenant_gender,\n          tenant_smoker     : tenant_smoker,\n          ownerId           : Meteor.userId(),\n          created_at        : new Date(),\n          status            : status,\n          image             : [],\n          videoUrl          : \"\",\n          dailyPrice        : 0,\n          weeklyPrice       : 0,\n          services          : [],\n          foodRestrictions  : foodRestrictions,\n          mealsOptions      : mealsOptions\n        }\n\n        if (Roles.userIsInRole(Meteor.userId(), ['University residence'])) {\n          homestay[\"userId\"] = Meteor.userId();\n          homestay[\"userName\"] = Meteor.user().profile.name;\n        }\n        if (this.state.homestayId && this.state.isHomestay) {\n          let updateHomestay_args = {\n            homestayId : this.state.homestayId,\n            options    : homestay\n          }\n          updateHomestay.call(updateHomestay_args, (error, res) => {\n            if (error) {\n                self.setState({'error':error.reason});\n                document.getElementById('dLabel').scrollIntoView();\n            } else {\n                self.setState({'country': country})\n                self.setState({'success':'Successfully updated residence'});\n                document.getElementById('dLabel').scrollIntoView();\n            }\n          })\n        } else {\n          createHomestay.call(homestay, (error, response) => {\n              if (error) {\n                  self.setState({'error':error.reason});\n                  document.getElementById('dLabel').scrollIntoView();\n              } else {\n                  self.setState({'country': country})\n                  self.setState({'success':'Successfully created residence'});\n                  document.getElementById('dLabel').scrollIntoView();\n                  self.setState({'homestayId': response})\n                  self.setState({'isHomestay': true})\n                  Session.set('homestayId',response)\n              }\n          });\n        }\n    }\n  }\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return  (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n  homeNumberValidation(event) {\n    let number = $(event.currentTarget).val();\n    if (!number) {\n      $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',false)\n      return true\n    } else {\n      if (Boolean(validator.trim(number).match(/^[0-9\\s]+$/)) && Boolean(validator.trim(number).length >=4)) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n        $(event.currentTarget).removeClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',false)\n        return true\n      } else {\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('Enter a valid contact number')\n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',true)\n        return false\n      }\n    }\n  }\n  textareaValidation(event) {\n    let text = $(event.currentTarget).val();\n    if (!text) {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please add description about your homestay.')\n      } else if($(event.currentTarget).hasClass('address')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Please add homestay address')\n      }\n      $(event.currentTarget).addClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',true)\n      return false\n    } else if(text.length >360) {\n        if($(event.currentTarget).hasClass('aboutHomestay')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please enter a description within 360 characters')\n        } else if($(event.currentTarget).hasClass('address')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Only 360 characters permitted')\n        }\n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',true)\n        return false\n    } else {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('')\n      } else if($(event.currentTarget).hasClass('address')) {\n         $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('')\n      }\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      if($(event.currentTarget).parents('#form-basicDetail').find('#aboutHomestay').val() && $(event.currentTarget).parents('#form-basicDetail').find('#address').val() ) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#createHomestayBtn').prop('disabled',false)\n      }\n      return true\n    }\n  }\n  lengthCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'aboutLength' : 360 - charLength})\n  }\n  renderBasicForm() {\n      let self = this;\n      let options = CountryList.map(function (country,index){\n        return (\n            <option key={index} value={country}>{country}</option>\n        )\n      });\n      let city_options = CityList.map(function (city, index){\n        return (\n            <option key={index} value={city}>{city}</option>\n        )\n      })\n      let food_restrictions = FoodRestrictions.map(function (restriction,index){\n        if (index >=1) {\n          return (\n            <div>\n              <label className=\"col-sm-4 control-label\"></label>\n              <div className=\"col-sm-8\">\n                <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                  <label className=\"\">\n                    <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={restriction} ref=\"restrictions\" defaultChecked=\"\"/> {restriction}\n                  </label>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      })\n      let meals_options = Meals.map(function (meal,index){\n        if (index >=1) {\n          return (\n            <div>\n              <label className=\"col-sm-4 control-label\"></label>\n              <div className=\"col-sm-8\">\n                <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                  <label className=\"\">\n                    <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={meal} ref=\"meals\" defaultChecked=\"\"/> {meal}\n                  </label>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      })\n      return (\n        <Validation.Form className=\"form-horizontal\" id=\"form-basicDetail\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n          {this.getErrorMessage()}\n        </div>\n        <h2 className=\"profile-category\">University residence specifications</h2>\n        <div className=\"form-group\">\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\" className=\"col-sm-4 control-label\">Name of residence <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"name\"\n              ref=\"name\"\n              name=\"name\"\n              placeholder=\"Eg:- Adams Residence\"\n              blocking=\"input\"\n              validations={[\n              {\n                rule: 'isRequired',\n                errorMessage: 'Please enter Name Of residence'\n              }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\" className=\"col-sm-4 control-label\">Email ID <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            ref=\"email\"\n            name=\"email\"\n            validations={[\n            {\n              rule: 'isRequired',\n              errorMessage: 'Please enter Email ID'\n            },\n            {\n              rule : 'isEmail',\n              errorMessage: \"Enter a valid Email\"\n            }\n            ]}\n            placeholder=\"Eg:- adamsresidence@mail.com\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"phone\" className=\"col-sm-4 control-label\">Phone Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"phone\"\n              ref=\"phone\"\n              name=\"phone\"\n              placeholder=\"Eg:-  +1 250-418-6812 \"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter contact number'\n                },\n                {\n                  rule: 'isMinLength',\n                  errorMessage: 'Enter a valid contact number'\n                },\n                {\n                  rule: 'isNumber',\n                  errorMessage: 'Enter a valid contact number'\n                }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"home\" className=\"col-sm-4 control-label\">Residence Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"home\"\n              ref=\"home\"\n              name=\"home\"\n              placeholder=\"Eg:-  +1 250-418-6812 \"\n              onChange={this.homeNumberValidation.bind(this)} />\n              <span className=\"ui-hint\" id=\"homeError\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"numberRooms\" className=\"col-sm-4 control-label\">Number of Rooms/Beds <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              ref=\"roomsNumber\"\n              name=\"roomsNumber\"\n              id=\"roomsNumber\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter number of rooms'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              placeholder={2} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"peopleLiving\" className=\"col-sm-4 control-label\">Number of People Living <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"peopleLiving\"\n              ref=\"peopleLiving\"\n              name=\"peopleLiving\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Number of people living'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              placeholder={4} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className=\"active\" onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" defaultValue=\"No\" ref=\"smoker\" className=\"smoker\" defaultChecked=\"checked\" /> No\n                </label>\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" ref=\"smoker\" className=\"smoker\" defaultValue=\"Yes\" /> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Pets <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className=\"active\" onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" className=\"pets\" name=\"pets\" defaultValue=\"No\" defaultChecked=\"checked\"/> No\n                </label>\n                <label  onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" name=\"pets\" className=\"pets\" defaultValue=\"Yes\" /> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"foodRestrictions\" className=\"col-sm-4 control-label\">Food Restrictions <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className=\"\">\n                <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={FoodRestrictions[0]} ref=\"restrictions\" defaultChecked=\"\" /> {FoodRestrictions[0]}\n              </label>\n            </div>\n          </div>\n          {food_restrictions}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"meals\" className=\"col-sm-4 control-label\">Meals Offered <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className=\"\">\n                <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={Meals[0]} ref=\"meals\" defaultChecked=\"\"/> {Meals[0]}\n              </label>\n            </div>\n          </div>\n          {meals_options}\n        </div><br />\n        <div className=\"form-group\">\n          <label htmlFor=\"address\" className=\"col-sm-4 control-label\">Address <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control\" id=\"address\" ref=\"address\" name=\"address\" placeholder=\"Please give full address details here\" defaultValue={\"\"} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"Location\" className=\"col-sm-4 control-label\">Name of Location <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Select\n              value={this.state.country}\n              id=\"country\"\n              className=\"form-control\"\n              ref=\"country\"\n              name=\"country\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select Country'\n                }\n              ]}>\n              {options}\n            </Validation.Select>\n            <Validation.Select\n              id=\"city\"\n              className=\"form-control mt-md-nw\"\n              ref=\"city\"\n              name=\"city\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select City'\n                }\n              ]}>\n                <option value=\"\"> Select City </option>\n                {city_options}\n            </Validation.Select>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"postalCode\" className=\"col-sm-4 control-label\">Postal Code <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"postalCode\"\n              name=\"postalCode\"\n              ref=\"postalCode\"\n              placeholder=\"Enter Postal Code\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Postal Code'\n                }\n              ]}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"aboutHomestay\" className=\"col-sm-4 control-label\">About Homestay <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control aboutHomestay\" id=\"aboutHomestay\" ref=\"aboutHomestay\" name=\"aboutHomestay\" placeholder=\"Add description about your homestay\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthCount.bind(this)} maxLength={360} />\n            <span className=\"ui-hint\" id=\"aboutError\"></span>\n            <p >{this.state.aboutLength} characters remaining</p>\n          </div>\n        </div> <br />\n        <h2 className=\"profile-category\">tenant requirements</h2>\n        <p>Adding more stratification will result in a limiting number of available hosts</p>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Gender <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" defaultValue=\"Male\" ref=\"tenant_gender\" id=\"tenant_gender\" className=\"tenant_gender\" /> Male\n                </label>\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Female\" className=\"tenant_gender\" /> Female\n                </label>\n                <label onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Both\" className=\"tenant_gender\" /> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label onClick={this.radioSwitch.bind(this)}  >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" defaultValue=\"No\" ref=\"tenant_smoker\" className=\"tenant_smoker\" /> No\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Yes\" className=\"tenant_smoker\" /> Yes\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Both\" className=\"tenant_smoker\" /> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button type=\"submit\" className=\"btn primary-btn lg\"  value={(this.state.homestayId && this.state.isHomestay)?\"Update Residence\":\"Create Residence\"} />\n            </div>\n        </div>\n          </Validation.Form>\n      )\n  }\n\n  render() {\n\n    let profileCompleteDiv = '';\n    let mediaElement = '';\n    if (!this.state.isHomestay) {\n      profileCompleteDiv = <ul className=\"nav nav-tabs\" role=\"tablist\">\n              <li role=\"presentation\" className=\"active\">\n                <a href=\"#basicSettings\" aria-controls=\"basicSettings\" role=\"tab\" data-toggle=\"tab\">Basic Settings</a>\n              </li>\n            </ul>\n      mediaElement = <div></div>\n    } else {\n      profileCompleteDiv = <ul className=\"nav nav-tabs\" role=\"tablist\">\n              <li role=\"presentation\" className=\"active\">\n                <a href=\"#basicSettings\" aria-controls=\"basicSettings\" role=\"tab\" data-toggle=\"tab\">Basic Settings</a>\n              </li>\n              <li role=\"presentation\">\n                  <a href=\"#media\" aria-controls=\"media\" role=\"tab\" data-toggle=\"tab\">Media</a>\n                </li>\n                <li role=\"presentation\">\n                  <a href=\"#priceSettings\" aria-controls=\"priceSettings\" role=\"tab\" data-toggle=\"tab\">Price Settings</a>\n                </li>\n                <li role=\"presentation\">\n                  <a href=\"#services\" aria-controls=\"services\" role=\"tab\" data-toggle=\"tab\">Services</a>\n                </li>\n            </ul>\n      mediaElement = <Blaze template=\"media\"/>\n    }\n\n    return (\n      <section className=\"dashboard-content-wrapper view-profile\">\n        <section className=\"view-profile-wrapper\">\n          <div className=\"header-wrap\">Create University residence</div>\n          {/* Nav tabs */}\n          <div className=\"primary-tabs\">\n\n              {profileCompleteDiv}\n\n            {/* Tab panes */}\n            <div className=\"tab-content\">\n\n              <div role=\"tabpanel\" className=\"tab-pane  active\" id=\"basicSettings\">\n                {this.renderBasicForm()}\n\n              </div>\n               <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"media\">\n                  {mediaElement}\n\n                </div>\n                <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"priceSettings\">\n                  < PriceForm homestayId={this.state.homestayId}/>\n                </div>\n                <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"services\">\n                  <ServiceForm homestayId={this.state.homestayId} />\n                </div>\n            </div>\n          </div>\n        </section>\n      </section>\n    );\n  }\n};\nCreateResidence.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nexport default createContainer(() => {\n    console.log(Session.get('homestayId'))\n    if(Session.get('homestayId'))\n      Meteor.subscribe('homestayById',Session.get('homestayId'));\n\n    return {}\n\n\n}, CreateResidence);\n\n/*CreateHomestay.propTypes = {\n    user: PropTypes.array.isRequired\n};\n\nexport default createContainer(() => {\n    return {\n        user : Users.find({},{limit: 5}).fetch()\n    }\n}, CreateHomestay);*/\n\nexport class PriceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event){\n    event.preventDefault();\n    console.log(\"price form submit\")\n    var self = this;\n    this.setState({'error':''});\n    this.setState({'success':''});\n\n    // var dailyPrice = ReactDOM.findDOMNode(this.refs.dailyPrice).value.trim(),\n    //     weeklyPrice = ReactDOM.findDOMNode(this.refs.weeklyPrice).value.trim();\n    var dailyPrice  = $(event.currentTarget).find('#dailyPrice').val().trim(),\n        weeklyPrice = $(event.currentTarget).find('#weeklyPrice').val().trim();\n    if(!dailyPrice && !weeklyPrice) {\n      self.setState({'error':'No data entered'});\n    } else {\n      var options = {\n        dailyPrice    : Number(dailyPrice),\n        weeklyPrice   : Number(weeklyPrice)\n      }\n      let updateHomestay_args = {\n        homestayId : this.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated homestay'});\n        }\n      })\n    }\n  }\n  getErrorMessage(){\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                      <div className=\"error-message\">{this.state.error} </div>\n                    </div>\n              )\n    }\n    if (this.state.success) {\n      return(  <div className=\"col-sm-8\">\n                      <div className=\"success-message\">{this.state.success}</div>\n                    </div>\n            )\n    }\n  }\n\n  renderPriceForm () {\n    return (\n       <Validation.Form className=\"form-horizontal\" id=\"form-price\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n        {this.getErrorMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"dailyPrice\" className=\"col-sm-4 control-label\">Daily Price ($)<i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"dailyPrice\"\n              ref=\"dailyPrice\"\n              id=\"dailyPrice\"\n              placeholder=\"Eg:- 225\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid daily price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage:'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"weeklyPrice\" className=\"col-sm-4 control-label\">Weekly Price ($)<i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"weeklyPrice\"\n              name=\"weeklyPrice\"\n              ref=\"weeklyPrice\"\n              placeholder=\"Eg:- 550\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid weekly price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage:'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]} />\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button className=\"btn primary-btn lg\" type=\"submit\" value=\"Update Changes\" />\n          </div>\n        </div>\n      </Validation.Form>\n    )\n  }\n  render() {\n    return this.renderPriceForm()\n  }\n}\n\nexport class ServiceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    var serviceArray = [];\n\n    $(event.currentTarget).find(\"input.services[type=checkbox]:checked\").each(function() {\n      serviceArray.push($(this).val());\n    });\n    if(serviceArray.length <=0) {\n      self.setState({'error':'Please select any services'});\n    } else {\n      var options = {\n        services      : serviceArray\n      }\n      let updateHomestay_args = {\n        homestayId : self.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated homestay'});\n        }\n      })\n    }\n  }\n\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n\n  renderServiceForm() {\n    return (\n      <form className=\"form-horizontal\" id=\"form-services\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n         {this.getErrorMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Luggage Storage <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Luggage Storage\" ref=\"services\" /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Free WiFi <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label >\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Free Wifi\" ref=\"services\"   /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Lockers <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label >\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Lockers\" ref=\"services\" /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\"><button className=\"btn primary-btn lg\" disabled={this.state.servicesBtnDisable} type=\"submit\">Update Changes</button></div>\n        </div>\n      </form>\n    )\n  }\n  render() {\n    return this.renderServiceForm()\n  }\n}\n","import React, {Component} from 'react';\n\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\n\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom \n        message: 'should be email'\n    }\n});\n\n\nexport default class Login extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\n\tthis.state = {\n      error : \"\",\n      success : \"\"\n    };\n\t}\n\tcomponentDidMount () {\n\t\tif(Meteor.userId()){\n\t\t\tif(Roles.subscription.ready()) {\n\t            if (Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n\t                FlowRouter.go('/admin/homestays')\n\t            } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n\t                FlowRouter.go('/homestay')\n\t            } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n\t                FlowRouter.go('/universityresidence')\n\t            } else if (Roles.userIsInRole(Meteor.userId(), 'Accounting')) {\n                    FlowRouter.go('/account/orders')\n                } else {\n\t                if (Meteor.user().profile.status == 'active') {       \n\t                    if (Roles.userIsInRole(Meteor.userId(), 'Student')) {\n\t                        FlowRouter.go('/')\n\t                    } else if (Roles.userIsInRole(Meteor.userId(), 'Agency')) {\n\t\t\t\t            // FlowRouter.go('/agency')\n\t\t\t\t            FlowRouter.go('/')\n\t\t\t\t        } \n\t                } else {\n\t                    Meteor.logout()\n\t                    Session.set('log-error', 'Account is not enabled');\n\t                }\n\t            } \n\t        }\n        }\n\t}\n\thandleSubmit(event){\n\t\tevent.preventDefault();\n\t\tconst email    = $(event.currentTarget).find('#userEmail').val().trim().toLowerCase();\n\t\tvar self = this;\n\t\tthis.setState({'error' : ''})\n  \t\tthis.setState({'success' : ''})\n\t\tAccounts.forgotPassword({email: email}, function (e) {\n\t\t\tif (e) {\n\t\t\t\tconsole.log(e.reason);\n\t\t\t\tself.setState({'error':'Invalid email, '+e.reason});\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Password reset requested succesfully!\")\n\t\t\t\tself.setState({'success':'Password reset requested succesfully'});\n\t\t\t}\n\t\t}); \n\t}\n\n\tcustomCheckbox (event){\n        event.preventDefault();\n        $(event.currentTarget).find('label').toggleClass('active'); \n        if($(event.currentTarget).find('label').hasClass('active')){\n            $(event.currentTarget).find('input').prop('checked', true);\n        }else{\n            $(event.currentTarget).find('input').prop('checked', false);\n        }\n    }\n\n getMessage() {\n    if(this.state.error) {\n      return(\n            <div className=\"error-message\">{this.state.error} </div>\n            )\n    }\n    if (this.state.success) {\n      return (\n          <div className=\"success-message\">{this.state.success}</div>\n      )\n    }\n  }\n\n    getLoginForm () {\n    \treturn (\n    \t\t\t<section className=\"main-content-wrapper login\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"user-accounts-wrapper\">\n\t\t\t\t\t\t<div className=\"user-logo\"><a href=\"/\"><img src=\"../images/logo.png\" alt /></a></div>\n\t\t\t\t\t\t<div className=\"header-wrap\">Forgot Password</div>\n\t\t\t\t\t\t<Validation.Form id=\"form-login\" className=\"user-form-wrap\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t{this.getMessage()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"userEmail\" className=\"control-label\">User Email</label>\n\t\t\t\t\t\t\t\t<Validation.Input\n                        \t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trule: 'isRequired',\n\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please enter your Email ID'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trule : 'isEmail',\n\t\t\t\t\t\t\t\t\t\terrorMessage: \"Enter a valid Email\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Email\"\n                        \t\t\tname='userEmail'\n                        \t\t\tref='email'\n                        \t\t\tid='userEmail'\n                        \t\t\ttype='text'/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/*  <div class=\"form-group middle-block\">\n\t\t\t\t\t\t\t<div class=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input id=\"newsUpdates\" type=\"checkbox\"> Remember me \n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a class=\"forgot-password\" href=\"#\">Forgot my password?</a>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"form-group text-center\">\n\t\t\t\t\t\t\t\t<Validation.Button type=\"submit\" className=\"btn primary-btn lg btn-block\" value=\"RESET MY PASSWORD\" />\n\t\t\t\t\t\t\t\t<a className=\"option-for-user user-register\" href=\"/login\">Back to login</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Validation.Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\t\t\n    \t)\n    }\n\trender () {\n\t\treturn this.getLoginForm()\n\t}\n};","import React, {Component, PropTypes} from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport {FlowRouter} from 'meteor/kadira:flow-router';\n\nimport CircularProgress from 'material-ui/CircularProgress';\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\n\nimport { Homestays } from './../../api/homestays/homestays.js';\n\n// Homepage component - represents the whole app\nexport default class Homepage extends Component {\n    componentDidMount() {\n      if(Roles.subscription.ready()) {\n        console.log(1)\n        if (Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n            console.log('admin')\n            FlowRouter.go('/')\n        } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n          if(Meteor.user().profile.homestayId)\n            FlowRouter.go('/homestay/'+Meteor.user().profile.homestayId)\n          else \n            FlowRouter.go('/homestay/')\n        } else if (Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n            FlowRouter.go('/universityResidence')\n        } else if (Roles.userIsInRole(Meteor.userId(), 'Accounting')) {\n            FlowRouter.go('/account/orders')\n        } \n      }\n      Session.set('homestayCount', 1)\n    }\n    getChildContext() {\n        return { muiTheme: getMuiTheme(baseTheme) };\n    }\n    renderHomestays(){\n      if (this.props.homestayLoading) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n      } else {\n        if (this.props.homestayCount === 0) {\n            <p>No Homestays found</p>\n        } else {\n          for (var i = 0; i < this.props.homestays.length - 1; i++) {\n            var j = i + Math.floor(Math.random() * (this.props.homestays.length - i));\n            var temp = this.props.homestays[j];\n            this.props.homestays[j] = this.props.homestays[i];\n            this.props.homestays[i] = temp;\n          }\n          var homestayNodes = this.props.homestays.map(function (homestay, index) {\n              let homestayUrl = \"/homestay/\"+homestay._id;\n              return(\n                  <aside className=\"col-sm-4\" key={homestay._id}>\n                    <div className=\"list-block\">\n                      <a href={homestayUrl}><figure><img src={(homestay.hasOwnProperty(\"image\") && homestay.image.length)?homestay.image[0].url:\"../images/homes/05.jpg\"} alt={homestay.name} /></figure></a>\n                      <div className=\"list-block-content\">\n                        <a href={homestayUrl}><span className=\"home-name\">{homestay.name}</span></a>\n                        <a href={homestayUrl}><span className=\"home-location\">{homestay.city}, {homestay.country}</span></a>\n                      </div>\n                    </div>\n                  </aside>\n              )\n          });\n          let loadMore = \"\";\n          if((Session.get('homestayCount')*6) < this.props.homestayCount) {\n            loadMore = <div className=\"text-center\">\n                          <button className=\"btn secondary-btn about-rooms-btn\" onClick={this.loadMoreHomestays.bind(this)}>Load More</button>\n                        </div>\n          }\n          return ( <div>\n                    <div className=\"row\" >\n                      {homestayNodes}\n                    </div>\n                    {/*{loadMore}*/}\n                  </div>\n                  )\n        }\n      }\n    }\n    //function to load more homestays\n    loadMoreHomestays(event) {\n      let pageCount = Session.get('homestayCount')\n      if(pageCount) {\n        pageCount = pageCount+1;\n        Session.set('homestayCount', pageCount)\n      } \n    }\n    getHomePage () {\n    \n      return (\n          <div>\n              <section className=\"main-banner\">\n                <div className=\"media-wrapper\">\n                  <img src=\"../images/banner.jpg\" />\n                </div>\n                <div className=\"banner-content\">\n                  <div className=\"container\">\n                    <h1>Finding your home away from home.</h1>\n                    <p>ourHomestay is designed to connect students and homestay all over the world.</p>\n                    <a href=\"/moredetails\" target=\"_blank\" className=\"btn default-btn\">more details!</a>\n                  </div>\n                </div>\n              </section>\n              {/*Banner Closed*/}\n              <section className=\"main-content-wrapper\">\n                <div className=\"container\">\n                  <article className=\"homestay-lists\">\n                    <h2 className=\"main-head-txt\">Available Home Stays</h2>\n                    {this.renderHomestays()}\n                  </article>\n                </div>\n              </section>\n            </div>\n      )\n    }\n    render() {\n        return this.getHomePage()\n    }\n}\nHomepage.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nexport default createContainer(() => {\n    const HomestayHandle = Meteor.subscribe('homestayList', Session.get('homestayCount'), 0);\n    return {\n        currentUser     : Meteor.user(),\n        homestayLoading : !HomestayHandle.ready(),\n        homestays       : Homestays.find({}).fetch(),\n        homestayCount   : Counts.get('homestayList-count')\n    }\n}, Homepage);","import React, {Component, PropTypes} from 'react';\nimport Blaze from 'meteor/gadicc:blaze-react-component';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { Comments } from './../../api/comments/comments.js';\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { Ratings } from './../../api/ratings/ratings.js';\nimport { createComment,deleteComment } from './../../api/comments/methods.js';\nimport { createRate,updateRate } from './../../api/ratings/methods.js';\nimport { createBooking, updateBooking } from './../../api/booking/methods.js';\nimport { Bookings } from './../../api/booking/bookings.js';\n\n\nexport default class HomestayProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error           : '',\n      success         : ''\n    };\n  }\n\n  componentDidMount() {\n    \n  }\n  // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n\n  getCommentBox() {\n      if(this.props.currentUser && this.props.booking > 0) {\n        return (\n           <CommentBox homestay={this.props.homestay} comments={this.props.comments} currentUser={this.props.currentUser} commentsCount={this.props.commentsCount}/>\n        )\n      }\n    }\n  getRating() {\n      if(this.props.booking > 0 && this.props.currentUser && Roles.userIsInRole(this.props.currentUser._id, ['Student','Agency'])) {\n        return (\n            <Ratting homestay={this.props.homestay} userRate={this.props.userRate} rateLoading = {this.props.rateLoading}/>\n        )\n      }\n  }\n  //render base html\n  renderHtml () {\n    // Loader template\n    if (this.props.homestayLoading) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    }else {\n      return (\n      <div>\n        <ImageSlider homestay={this.props.homestay}/>\n        <section className=\"main-content-wrapper\">\n          <div className=\"container\">\n            <div className=\"details-wrapper\">\n              <AboutRoom homestay={this.props.homestay} />\n              <Conditions homestay={this.props.homestay} />\n            </div>\n              <Requirements homestay={this.props.homestay} />\n              <GoogleMap homestay={this.props.homestay} />\n            {this.getRating()}\n           {this.getCommentBox()}\n          </div>\n        </section>\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return this.renderHtml()\n  }\n};\n\n// To set theme for material-ui components\nHomestayProfile.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\n// meteor container\n// subscribe homestay data & comment details\nexport default createContainer(() => {\n  let homestayId = FlowRouter.getParam('homestayId');\n  const bookingHomeStay  = Meteor.subscribe('bookingDetailForRatings', homestayId, Meteor.userId());\n  const HomestayHandle = Meteor.subscribe('homestayDetail', homestayId);\n  const CommentHandle = Meteor.subscribe('comments', homestayId,Session.get('comment-page'));\n  const RateHandle = Meteor.subscribe('user.rating',homestayId);\n  console.log(bookingHomeStay,\"bookingHomeStay\")\n  return {\n      currentUser     : Meteor.user(),\n      homestayLoading : !bookingHomeStay.ready() && !HomestayHandle.ready() && !CommentHandle.ready() && !RateHandle.ready(),\n      homestay : Homestays.find({_id:homestayId}).fetch()[0],\n      comments : Comments.find({homestay_id:homestayId},{sort:{'created_at':-1}}).fetch(),\n      commentsCount : Counts.get('comments-count'),\n      rateLoading : !RateHandle.ready(),\n      userRate : Ratings.findOne({homestay_id:homestayId,user_id:Meteor.userId()}),\n      booking : Bookings.find({}).count()\n  }\n}, HomestayProfile);\n\n// Render Image Slider\nexport class ImageSlider extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n  componentDidMount() {\n      //slider\n       $.getScript('/js/owl.carousel.min.js').done(function() {\n          $(\"#detailSlider\").owlCarousel({\n                navigation : true,\n                navigationText: [\"<i class='icon-left-arrow'></i>\",\"<i class='icon-right-arrow'></i>\"],\n                slideSpeed : 300,\n                paginationSpeed : 300,\n                singleItem : true,\n                pagination: false,\n                autoHeight : true\n            });\n        }).fail(function() {\n          // do something here\n        });\n\n        //popup\n        $('.video-play-btn').click(function(){\n           $('.overlay').fadeIn(100);\n            $('#videoPopup').delay(100).fadeIn(400);\n        });\n        //close popup\n        $('.close-btn, .overlay').click(function(){\n            //video stop\n            var video = $(\"#videoPopup iframe\").attr(\"src\");\n            $(\"#videoPopup iframe\").attr(\"src\",\"\");\n            $(\"#videoPopup iframe\").attr(\"src\",video);\n\n            $('.popup-box').fadeOut(100);\n            $('.overlay').delay(100).fadeOut(300);\n        });\n\n\n  }\n\n  starRating(){\n    let stars = []\n\n    let rate = this.props.homestay.avg_rating || 0\n    for(var i = 1;i<=5;i++){\n      if(rate >= 1){\n        stars.push(<span className=\"star-full\" />)\n      }else {\n        if(rate > 0)\n          stars.push(<span className=\"star-half\" />)\n        else\n          stars.push(<span className=\"star-empty\" />)\n      }\n      rate = rate-1\n    }\n    return (<div className=\"star-rating\">{stars}</div>)\n  }\n  getYoutubeThumb(url){\n    var regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/;\n    var match = url.match(regExp);\n    if (match && match[2].length == 11) {\n      // return match[2];\n      return \"http://img.youtube.com/vi/\"+match[2]+\"/hqdefault.jpg\"\n    } else {\n      //error\n    }\n  }\n\n  getVideoPopup(){\n    let self =this\n    if(this.props.homestay.videoUrl) {\n      return (<div><span className=\"overlay\" />\n        <div id=\"videoPopup\" className=\"popup-box\">\n          <span className=\"close-btn\"><i className=\"icon-close\" /></span>\n          <iframe allowFullScreen src={self.props.homestay.videoUrl} />\n        </div> </div>)\n    }\n  }\n\n  getSlider(){\n\n   let video = \"\",\n       images = \"\",\n       self = this;\n    if(this.props.homestay.videoUrl) {\n      let videothumb = this.getYoutubeThumb(this.props.homestay.videoUrl)\n      video = <div className=\"item\">\n          <section className=\"main-banner video-banner\">\n            <div className=\"media-wrapper\">\n              <img alt={self.props.homestay.name} src={videothumb} />\n            </div>\n            <div className=\"banner-content\">\n              <div className=\"container\">\n                <h1>{self.props.homestay.name}</h1>\n                <p>{self.props.homestay.city}, {self.props.homestay.country}</p>\n                <button className=\"video-play-btn\"><span className=\"icon-play\" /></button>\n                {self.starRating()}\n              </div>\n            </div>\n          </section>\n        </div>\n\n    }\n    if(this.props.homestay.image) {\n      images = this.props.homestay.image.map(function (image, index){\n        return (\n            <div className=\"item\">\n          <section className=\"main-banner\">\n            <div className=\"media-wrapper\">\n              <img alt={self.props.homestay.name} src={image.url}  />\n            </div>\n            <div className=\"banner-content\">\n              <div className=\"container\">\n                <h1>{self.props.homestay.name}</h1>\n                <p>{self.props.homestay.city}, {self.props.homestay.country}</p>\n                {self.starRating()}\n              </div>\n            </div>\n          </section>\n        </div>\n        )\n      })\n    }\n    return (<div><div className=\"owl-carousel\" id=\"detailSlider\">{video}{images}</div>{this.getVideoPopup()}</div>)\n  }\n\n  renderImageSlider () {\n    return (\n\n        <div>\n        {this.getSlider()}\n        </div>\n    );\n  }\n  render () {\n    return this.renderImageSlider()\n  }\n}\n// Render About Room\nexport class AboutRoom extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error     : \"\",\n      success   : \"\",\n      startDate : \"\"\n    };\n  }\n\n  componentDidMount() {\n      //datepicker\n      let dateAfterTwoWeeks = new Date(+new Date + 18144e5);\n      // initialise start date and arrival date timepicker\n      /* $('#startDate,#arrivalDate').datetimepicker({\n          format : 'YYYY-MM-DD',\n          daysOfWeekDisabled: [0,1,2,3,4,6], // enable only fridays\n          minDate : dateAfterTwoWeeks // enable only dates 2 weeks after current date\n      }).on('changeDate', function (selected) {\n          var minDate = new Date(selected.date.valueOf());\n          console.log(minDate)\n          minDate.setDate(minDate.getDate() + 1);\n          $('#endDate').datetimepicker('setStartDate', minDate);\n      });*/\n\n      // initialise start date timepicker\n      $('#startDate').datetimepicker({\n          format : 'YYYY-MM-DD',\n          //daysOfWeekDisabled: [0,1,2,3,4,6], // enable only fridays\n          minDate : dateAfterTwoWeeks // enable only dates 2 weeks after current date\n      }).on('dp.change', function (selected) {\n        var minDate = new Date(selected.date.valueOf());\n            minDate.setDate(minDate.getDate() + 1);\n        if ($('#startDate').val()){\n          $('#endDate').data(\"DateTimePicker\").minDate(minDate);\n        }\n          // var minDate = new Date(selected.date.valueOf());\n      });\n      // initialise start date and arrival date timepicker\n      $('#arrivalDate').datetimepicker({\n          format : 'YYYY-MM-DD',\n          //daysOfWeekDisabled: [0,1,2,3,4,6], // enable only fridays\n          minDate : dateAfterTwoWeeks // enable only dates 2 weeks after current date\n      });\n      let nextDate = new Date($('#startDate').val());\n      nextDate.setDate(nextDate.getDate() + 1);\n      // initialise end date timepicker\n      $('#endDate').datetimepicker({\n          format : 'YYYY-MM-DD',\n          minDate : nextDate // enable date after start date only\n      });\n        if($('#searchStartDate').val()){\n          $('#startDate').val($('#searchStartDate').val());\n        }\n        if($('#searchEndDate').val()){\n          $('#endDate').val($('#searchEndDate').val());\n        }\n        if($('#searchStartDate').val()){\n          $('#arrivalDate').val($('#searchStartDate').val());\n        }\n  }\n\n  radioLabel(event) {\n    $('.daily-price-card .custom-radio label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  dailyPriceDate(event) {\n    if($(event.currentTarget).prop('checked')) {\n        $('#weeklyPriceAd .text-field').slideUp(400);\n        $('#dailyPriceDate .text-field').slideDown(400);\n    }\n    this.refs.dailyPriceData.value = $(event.currentTarget).prop('checked');\n    this.refs.weeklyPriceData.value = false;\n  }\n\n  weeklyPriceDate(event) {\n    if($(event.currentTarget).prop('checked')) {\n        $('#dailyPriceDate .text-field').slideUp(400);\n        $('#weeklyPriceAd .text-field').slideDown(400);\n    }\n    this.refs.weeklyPriceData.value = $(event.currentTarget).prop('checked');\n    this.refs.dailyPriceData.value = false;\n  }\n\n  bookRoomHandle (event) {\n    event.preventDefault();\n    this.setState({'error': ''})\n    let bookRoomData = {\n      roomId      : this.props.homestay._id,\n      roomType    : \"homestay\",\n      dailyPrice  : Number(this.props.homestay.dailyPrice),\n      weeklyPrice : Number(this.props.homestay.weeklyPrice),\n      ownerId     : Meteor.userId(),\n      ownerRole   : Meteor.user().roles[0]\n    };\n\n    console.log(\"dailyPriceData\")\n    console.log(this.refs.dailyPriceData.value)\n    console.log(\"weeklyPriceData\")\n    console.log(this.refs.weeklyPriceData.value)\n    console.log($('#weeklyPriceAd').find('label').hasClass('active'))\n    console.log($('#dailyPriceDate').find('label').hasClass('active'))\n\n\n    if(this.refs.dailyPriceData.value === \"true\" && $('#dailyPriceDate').find('label').hasClass('active') ){\n      if (!this.refs.startDate.value) {\n        this.setState({'error': 'Enter your arrival date'})\n      } else if (!this.refs.endDate.value) {\n        this.setState({'error': 'Enter your leaving date'})\n      } else {\n        let checkinDate = new Date(this.refs.startDate.value);\n        let checkoutDate = new Date(this.refs.endDate.value);\n        let oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds\n        let diffDays = Math.round(Math.abs((checkinDate.getTime() - checkoutDate.getTime())/(oneDay)));\n\n        bookRoomData['bookingType'] = \"dayBooking\";\n        bookRoomData['checkinDate'] = checkinDate;\n        bookRoomData['checkoutDate']= checkoutDate;\n        bookRoomData['lengthOfStay']  = Number(diffDays);\n        bookRoomData['paymentAmount'] = Number(diffDays*this.props.homestay.dailyPrice);\n      }\n    } else if(this.refs.weeklyPriceData.value === \"true\" && $('#weeklyPriceAd').find('label').hasClass('active')) {\n      if (!this.refs.arrivalDate.value) {\n        this.setState({'error': 'Enter arrival date'})\n      } else if (!this.refs.totalWeeks.value) {\n        this.setState({'error': 'Enter number of weeks you intend to stay'})\n      } else if(!this.refs.totalWeeks.value.match(/^[0-9\\s]+$/)){\n        this.setState({'error': 'Enter valid number of weeks'})\n      } else if(this.refs.totalWeeks.value <= 0){\n        this.setState({'error': 'Enter number of weeks you intend to stay'})\n      } else {\n        let checkinDate   = new Date(this.refs.arrivalDate.value);\n        let totalDays     = this.refs.totalWeeks.value*7;\n        let now           = new Date(this.refs.arrivalDate.value);\n        let checkoutDate  = new Date(now.setDate(now.getDate()+totalDays));\n\n        bookRoomData['bookingType']   = \"weekBooking\";\n        bookRoomData['checkinDate']   = checkinDate;\n        bookRoomData['checkoutDate']  = checkoutDate;\n        bookRoomData['lengthOfStay']  = Number(this.refs.totalWeeks.value);\n        bookRoomData['paymentAmount'] = Number(this.refs.totalWeeks.value*this.props.homestay.weeklyPrice);\n      }\n    }\n      var self = this;\n      console.log(\"bookRoomData\")\n      console.log(bookRoomData)\n      if(bookRoomData.hasOwnProperty('bookingType')) {\n        console.log(3)\n        console.log(bookRoomData)\n        if(FlowRouter.getQueryParam('sid')){\n          updateBooking.call({bookingId:FlowRouter.getQueryParam('sid'), bookingDetail:bookRoomData}, (error, response) => {\n            if(error){\n              self.setState({'error':error.reason});\n            } else {\n              console.log(response)\n              FlowRouter.go(\"/bookroom/\"+FlowRouter.getQueryParam('sid'));\n            }\n          })\n        } else {\n          bookRoomData['searchIndex'] =\"\";\n          bookRoomData['bookingStatus'] =-1;\n          createBooking.call(bookRoomData, (error, response) => {\n            if(error) {\n              console.log(error)\n              self.setState({'error':error.reason});\n            } else {\n              console.log(response)\n              FlowRouter.go(\"/bookroom/\"+response);\n            }\n          })\n        }\n      } else {\n        console.log(4)\n      }\n  }\n  renderBookRoomForm (){\n    let bookRoomButton = \"\"\n    if (Meteor.userId()){\n        bookRoomButton = <a className=\"btn primary-btn lg\" onClick={this.bookRoomHandle.bind(this)}>Request Booking</a>\n    }\n    if (this.props.homestay.dailyPrice >0 || this.props.homestay.weeklyPrice >0) {\n      if (Meteor.userId() && !Roles.userIsInRole(Meteor.userId(), ['Homestay', 'Admin', 'University residence'])){\n        return ( <div>\n            <div id=\"dailyPriceDate\" className=\"daily-price-card\">\n              <div className=\"custom-radio\">\n                <label className=\"active\" onClick={this.radioLabel.bind(this)}>\n                  <input type=\"radio\" defaultValue=\"true\" name=\"dailyPriceData\" id=\"dailyPriceData\" ref=\"dailyPriceData\" onClick={this.dailyPriceDate.bind(this)}/> daily Price CAD {this.props.homestay.dailyPrice}</label>\n              </div>\n              <div className=\"text-field\" style={{display: 'block'}}>\n                <input type=\"text\" className=\"form-control avail-date\" placeholder=\"start date\" id=\"startDate\" ref=\"startDate\" />\n                <input type=\"text\" className=\"form-control avail-date\" placeholder=\"end date\" id=\"endDate\" ref=\"endDate\" />\n              </div>\n            </div>\n            <div id=\"weeklyPriceAd\" className=\"daily-price-card\">\n              <div className=\"custom-radio\">\n                <label onClick={this.radioLabel.bind(this)}>\n                <input type=\"radio\" ref=\"weeklyPriceData\" defaultValue=\"true\" name=\"weeklyPriceData\"  id=\"weeklyPriceData\" onClick={this.weeklyPriceDate.bind(this)}/> weekly Price CAD {this.props.homestay.weeklyPrice}</label>\n              </div>\n              <div className=\"text-field\">\n                <input type=\"text\" className=\"form-control avail-date\" name= \"arrivalDate\" id=\"arrivalDate\" ref=\"arrivalDate\" placeholder=\"arrival date\" />\n                <input type=\"text\" className=\"form-control\" id=\"totalWeeks\" ref=\"totalWeeks\" name=\"totalWeeks\" placeholder=\"Number of weeks\"/>\n              </div>\n            </div>\n            {bookRoomButton}\n          </div>\n        )\n      } else {\n        return ( <div>\n            <div id=\"dailyPriceDate\" className=\"daily-price-card\">\n              <div className=\"custom-radio\">\n                <label className=\"active\" >\n                  <input type=\"radio\" defaultValue=\"true\" name=\"dailyPriceData\" id=\"dailyPriceData\" ref=\"dailyPriceData\" onClick={this.dailyPriceDate.bind(this)}/> daily Price CAD {this.props.homestay.dailyPrice}</label>\n              </div>\n            </div>\n            <div id=\"weeklyPriceAd\" className=\"daily-price-card\">\n              <div className=\"custom-radio\">\n                <label className=\"active\">\n                <input type=\"radio\" ref=\"weeklyPriceData\" defaultValue=\"true\" name=\"weeklyPriceData\" id=\"weeklyPriceData\" onClick={this.weeklyPriceDate.bind(this)}/> weekly Price CAD {this.props.homestay.weeklyPrice}</label>\n              </div>\n            </div>\n          </div>\n        )\n      }\n    } else {\n      return(<div></div>)\n    }\n  }\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n  }\n  renderAboutRoom () {\n    let bookRoomForm = \"\"\n    return (\n      <article className=\"about-content\">\n        <h2 className=\"content-head\">About homestay</h2>\n        <p>{this.props.homestay.aboutHomestay}</p>\n        <div className=\"specifications\">\n          <span>Rooms/Beds <i>{this.props.homestay.roomsNumber}</i></span>\n          <span>People Living <i>{this.props.homestay.peopleLiving}</i></span>\n          <span>Smoker  <i>{this.props.homestay.smoker}</i></span>\n          <span>Pets <i>{this.props.homestay.pets}</i></span>\n        </div>\n        <address>\n          <span>Contact</span>\n          {this.props.homestay.postalCode?'Postal Code : '+this.props.homestay.postalCode:''}\n          {/*Phone       : {this.props.homestay.phone} <br />\n          Email       : {this.props.homestay.email}*/}\n        </address>\n        {this.getErrorMessage()}\n        {this.renderBookRoomForm()}\n      </article>\n    );\n  }\n  render () {\n    return this.renderAboutRoom()\n  }\n}\n// Render conditions\nexport class Conditions extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n  componentDidMount() {\n  }\n\n  renderConditions () {\n    return (\n      <article className=\"conditions-content\">\n        <h2 className=\"content-head\">CONDITIONS</h2>\n        <ul className=\"green-list\">\n          <li>All placement and booking fees are non-refundable.</li>\n          <li>Payment must be made immediately to ensure homestay availability.</li>\n          <li>In the event of a host cancellation you will have the option to select a new homestay.</li>\n          <li>You will have 5 days after your move-in date to decide whether to commit to your homestay or change homestay free of charge.</li>\n          <li>Booking in advance is the best way to ensure that you will get your homestay of choice.</li>\n          <li>In the event of early departure please inform us and we will work to return any remaining funds in your account.</li>\n        </ul>\n      </article>\n    );\n  }\n  render () {\n    return this.renderConditions()\n  }\n}\n// Render Requirements\nexport class Requirements extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n  componentDidMount() {\n  }\n\n  getRequirements(){\n    if(this.props.homestay.services) {\n\n      let services = this.props.homestay.services.map(function (service, index){\n        return (\n            <li>{service}</li>\n        )\n      })\n      return (<ul>{services}</ul>)\n    } else{\n      return (<ul>\n              <li>No services</li>\n              </ul>)\n    }\n  }\n\n  renderRequirements () {\n    return (\n      <article className=\"requirements-wrapper\">\n        <aside className=\"services-block\">\n          <h2 className=\"content-head\">Services</h2>\n          {this.getRequirements()}\n        </aside>\n        <aside className=\"tenant-block\">\n          <h2 className=\"content-head\">tenant requirements</h2>\n          <div className=\"specifications\">\n            <span>Smoker  <i>{(this.props.homestay.tenant_smoker)?this.props.homestay.tenant_smoker : \"All\"}</i></span>\n            <span>Gender <i>{(this.props.homestay.tenant_gender)?this.props.homestay.tenant_gender : \"All\"}</i></span>\n          </div>\n        </aside>\n      </article>\n    );\n  }\n  render () {\n    return this.renderRequirements()\n  }\n}\n\n\n\n\n\n// Render googleMap\nexport class GoogleMap extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  geocodeAddress(address) {\n    var lat = '';\n    var lng = '';\n    var geocoder = new google.maps.Geocoder();\n    geocoder.geocode( { 'address': address}, function(results, status) {\n      if (status == google.maps.GeocoderStatus.OK) {\n        lat = results[0].geometry.location.lat();\n        lng = results[0].geometry.location.lng();\n        latAndLng();\n      }\n    });\n    function latAndLng(){\n      var uluru = {lat: lat, lng: lng};\n      var map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 13,\n        center: uluru\n      });\n      var marker = new google.maps.Marker({\n        position: uluru,\n        map: map\n      });\n    }\n  }\n\n  componentDidMount() {\n\n  }\n\n  getGoogleMap(){\n    if(this.props.homestay.postalCode) {\n      let postalCode = this.props.homestay.postalCode;\n      this.geocodeAddress(postalCode);\n      return (<div id=\"map\"></div>)\n    }else{\n      this.geocodeAddress(\"canada\");\n      return (<div id=\"map\"></div>)\n    }\n  }\n\n  renderGoogleMap () {\n    return (\n\n      <div className=\"commentbox-wrapper\">\n        <h3 className=\"content-head\">Homestay Location</h3>\n        {this.getGoogleMap()}\n      </div>\n    );\n  }\n  render () {\n    return this.renderGoogleMap()\n  }\n}\n\n// Render Ratting\nexport class Ratting extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n   // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n    let self = this\n\n    setTimeout(function(){\n      $('.rateit').rateit();\n      // tooltip fot rate it\n      $(\".rateit\").bind('over', function (event,value) { $(this).attr('title', value); });\n     /*   // conformation before rating\n    $('.rateit').on('beforerated', function (e, value) {\n          if (!confirm('Are you sure you want to rate this homestay: ' +  value + ' stars?')) {\n              e.preventDefault();\n          }\n      });*/\n    // rated event\n    $('.rateit').on('rated', function() {\n      self.rateHomestay($('.rateit').rateit('value'))\n    })\n    // prefill user rate\n        if(self.props.userRate)\n          $('.rateit').rateit('value',self.props.userRate.rate)\n    }, 1000)\n\n  }\n\n  starRating(){\n    let stars = []\n\n    let rate = this.props.homestay.avg_rating || 0\n    for(var i = 1;i<=5;i++){\n      if(rate >= 1){\n        stars.push(<span className=\"star-full\" />)\n      }else {\n        if(rate > 0)\n          stars.push(<span className=\"star-half\" />)\n        else\n          stars.push(<span className=\"star-empty\" />)\n      }\n      rate = rate-1\n    }\n    return (<div className=\"star-rating\">{stars}</div>)\n  }\n\n  // for homestay rating\n  rateHomestay(value){\n    var self = this;\n    // if user already rated update\n    // else create new entry\n\n    if(this.props.userRate){\n      let rate = this.props.userRate;\n      rate['newRate'] = value\n\n      updateRate.call(rate, (error, response) => {\n            if (error) {\n                self.setState({'error':error.reason});\n            } else {\n                self.setState({'success':'Successfully rated homestay'});\n            }\n        });\n    } else {\n      let rate = {\n          rate     : value,\n          homestay_id : self.props.homestay._id,\n          user_id     : Meteor.userId()\n        }\n\n        createRate.call(rate, (error, response) => {\n            if (error) {\n                self.setState({'error':error.reason});\n            } else {\n                self.setState({'success':'Successfully rated homestay'});\n            }\n        });\n    }\n\n  }\n\n  renderRatting () {\n    console.log(\"rateLoading\")\n    console.log(this.props.rateLoading)\n    if (this.props.rateLoading) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    }else {\n      return (\n        <div className=\"commentbox-wrapper\">\n          <h3 className=\"content-head\">Rate Homestay</h3>\n\n          <div className=\"rateit bigstars\" data-rateit-resetable=\"false\"></div>\n        </div>\n      );\n    }\n  }\n  render () {\n      return this.renderRatting()\n  }\n}\n\n// To set theme for material-ui components\nRatting.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n// Render commentBox\nexport class CommentBox extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n  componentDidMount() {\n  }\n   // handle comment form submit\n   // add new comment\n   handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"comment submit\")\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    var message        = $(event.currentTarget).find('#message').val().trim();\n\n    var comment = {\n          message     : message,\n          homestay_id : self.props.homestay._id,\n          user_id     : Meteor.userId(),\n          name        : Meteor.user().profile.name\n        }\n    createComment.call(comment, (error, response) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            $('#form-comment')[0].reset();\n            self.setState({'success':'Successfully added comment'});\n        }\n    });\n\n  }\n\n  renderCommentBox () {\n    return (\n    <div className=\"commentbox-wrapper\">\n        <h2 className=\"content-head\">Comments</h2>\n        <form className=\"comment-form\" id=\"form-comment\" onSubmit={this.handleSubmit.bind(this)}>\n          <textarea placeholder=\"Write a comment...\" className=\"form-control\" defaultValue={\"\"} id=\"message\"/>\n          <input type=\"submit\" className=\"btn primary-btn\" defaultValue=\"submit\" />\n        </form>\n        <CommentsList comments={this.props.comments} homestay={this.props.homestay} currentUser={this.props.currentUser} commentsCount={this.props.commentsCount}/>\n      </div>\n    );\n  }\n  render () {\n    return this.renderCommentBox()\n  }\n}\n// Render commentsList\nexport class CommentsList extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n  componentDidMount() {\n    Session.set('comment-page',1)\n  }\n  // for delete comment\n  removeMessage(comment,event){\n    let self = this\n    comment['isOwner'] = this.props.homestay.isOwner(this.props.currentUser._id)\n    deleteComment.call(comment, (error, response) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully added comment'});\n        }\n    });\n  }\n  // for check logged user have permission to delete comments\n  canDelete(comment){\n    let self = this\n    if(Roles.userIsInRole(this.props.currentUser._id, ['Admin']) || this.props.homestay.isOwner(this.props.currentUser._id) || comment.user_id == this.props.currentUser._id){\n      return (<button className=\"btn delete\" onClick={self.removeMessage.bind(self,comment)}>Delete</button>)\n    }\n  }\n  // for check more comments\n  hasMoreComment(){\n    let self = this\n    if(this.props.commentsCount > (Session.get('comment-page')*5)){\n      return (<button className=\"btn loadmore-comments\" onClick={self.loadMoreComment.bind(self)}>Load More </button>)\n    }\n  }\n  // load next set og comments\n  loadMoreComment(){\n    Session.set('comment-page',Session.get('comment-page')+1)\n  }\n  // render comment list\n  getCommentsList(){\n    let self = this\n    if(this.props.comments.length > 0){\n      let comments = this.props.comments.map(function (comment, index){\n        return (\n          <li>\n              <div className=\"comment-header\">\n                <span className=\"username\">{comment.name}</span>\n                <div className=\"date\">{moment(comment.created_at).format('DD MMM YYYY HH:mm')}</div>\n              </div>\n              <p>{comment.message}</p>\n              {self.canDelete(comment)}\n            </li>\n        )\n      })\n      return (<ul>{comments}</ul>)\n    } else {\n      return (<ul>\n              <li>No Comments</li>\n              </ul>)\n    }\n  }\n\n  renderCommentsList () {\n    return (\n        <div className=\"comments-items-wrapper\">\n          {this.getCommentsList()}\n          {this.hasMoreComment()}\n        </div>\n    );\n  }\n  render () {\n    return this.renderCommentsList()\n  }\n}\n","import React, {Component, PropTypes} from 'react';\n\nimport { createContainer } from 'meteor/react-meteor-data';\nvar createFragment = require('react-addons-create-fragment');\n\nimport CircularProgress from 'material-ui/CircularProgress'\nimport baseTheme        from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme      from 'material-ui/styles/getMuiTheme';\nimport Sidebar          from './../shared/Sidebar.jsx';\nimport PaginationBar    from './../components/PaginationBar.jsx';\n\nimport { Bookings } from './../../api/booking/bookings.js';\nimport { sendHomestayBooking } from './../../api/homestays/methods.js';\n\nimport { updateStatus } from './../../api/booking/methods.js';\nimport { updateBooking } from '/imports/api/booking/methods.js';\n\n\n\nexport default class ListOrders extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: '',\n      success:'',\n      currentPage : 1,\n      skip: ''\n    };\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  componentDidMount() {\n    Session.set('order-filter',null)\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage' : Number(FlowRouter.getQueryParam('page'))} )\n    }\n  }\n\n  renderOrder () {\n    if (this.props.orderLoading && this.props.orderCount == 0) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    } else {\n      if(this.props.orderCount > 0) {\n        return (\n          <div>\n           <OrderList data={this.props.orders} canChangeStatus={this.props.canChangeStatus}/>\n           <PaginationBar currentPage={this.state.currentPage} totalCount={this.props.orderCount} />\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"col-sm-12\">\n             <h5> Seems that there is no order right now!..</h5>\n          </div>\n        )\n      }\n    }\n  }\n\n  render() {\n    return (\n       <section className=\"dashboard-content-wrapper\">\n        <aside className=\"order-list\">\n          <div className=\"dashboard-content\">\n            <OrderFilter />\n            {this.renderOrder()}\n          </div>\n        </aside>\n      </section>\n    );\n  }\n};\nListOrders.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\nListOrders.propTypes = {\n    orders: PropTypes.array.isRequired,\n    orderCount: PropTypes.number.isRequired\n};\n\nexport default createContainer(() => {\n\n    const OrderHandle = Meteor.subscribe('all-bookings', 5, FlowRouter.getQueryParam('page'),Session.get('order-filter'));\n    return {\n        canChangeStatus : Roles.userIsInRole(Meteor.userId(), ['Admin','Homestay','Accounting','University residence']),\n        currentUser     : Meteor.user(),\n        orderLoading    : !OrderHandle.ready(),\n        orders          : Bookings.find({},{sort:{'creationDate':-1},limit: 5}).fetch(),\n        orderCount      : Counts.get('booking-count')\n    }\n}, ListOrders);\n\nexport class OrderList extends Component {\n  render() {\n    let self=this,\n        startIndex = 0;\n    if(FlowRouter.getQueryParam('page')) {\n      startIndex = (Number(FlowRouter.getQueryParam('page'))-1)*5;\n    }\n    var orderNodes = this.props.data.map(function (order, index) {\n      console.log(order)\n      startIndex=startIndex+1;\n      return (\n        <Order key={order._id} order={order} index={startIndex} canChangeStatus={self.props.canChangeStatus}/>\n      )\n    });\n\n    return(\n      <table className=\"table db-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Order ID</th>\n            <th>Amount</th>\n            <th>Type</th>\n            <th>Checkin Date</th>\n            <th>Checkout Date</th>\n            <th>Homestay</th>\n            <th>Agent</th>\n            <th>Student</th>\n            <th>Payment</th>\n            <th>Status</th>\n            <th>Booking Cancellation</th>\n          </tr>\n        </thead>\n        <tbody>\n         {orderNodes}\n        </tbody>\n      </table>\n    );\n  }\n};\n\nexport class Order extends Component {\n  changeStatus(status,event){\n    let data ={}\n    data['status']        = status\n    data['_id']           = this.props.order._id\n    let pre_homestayName  = this.props.order.homestay().name\n    updateStatus.call(data, (error, response) => {\n            if (error) {\n            } else {\n              console.log(this.props.order)\n              console.log(response)\n              if(status == 1) {\n                let email_options ={}         \n                console.log(\"test test test\")       \n                email_options['subject'] = 'OurHomeStay - Booking Accepted'\n                email_options['message'] = 'Accepted '+this.props.order.roomType+ ' '+ pre_homestayName+'.'+' For further enquiry contact : '+ response.homestayData.phone+', '+response.homestayData.email+'.'\n                email_options['mail_template'] = \"notification\";\n\n                // send email to student\n                if(this.props.order.student()){\n                  email_options['recipient'] = this.props.order.student().emails[0].address;\n                  params  = {\n                    recipient_name : this.props.order.student().profile.name, \n                    link : \"http://52.42.62.56:3000/\"\n                  };\n                  email_options['params'] = params;\n                  Meteor.call('sendMail',email_options)\n                }\n                // send email to agent\n                if(this.props.order.agent()){\n                  email_options['email'] = this.props.order.agent().emails[0].address\n                  email_options['recipient'] = this.props.order.agent().emails[0].address\n                  params  = {\n                    recipient_name : this.props.order.agent().profile.name, \n                    link : \"http://52.42.62.56:3000/\"\n                  };\n                  email_options['params'] = params;\n                  Meteor.call('sendMail',email_options)\n                }\n              }\n              if(status == 2) {\n                let email_options ={}                \n                email_options['subject'] = 'OurHomeStay - Booking Rejected'\n                email_options['message'] = 'Rejected '+this.props.order.roomType+ ' '+ pre_homestayName\n                email_options['mail_template'] = \"notification\";\n\n                // send email to student\n                if(this.props.order.student()){\n                  email_options['recipient'] = this.props.order.student().emails[0].address;\n                  params  = {\n                    recipient_name : this.props.order.student().profile.name, \n                    link : \"http://52.42.62.56:3000/\"\n                  };\n                  email_options['params'] = params;\n                  Meteor.call('sendMail',email_options)\n                }\n                // send email to agent\n                if(this.props.order.agent()){\n                  email_options['email'] = this.props.order.agent().emails[0].address\n                  email_options['recipient'] = this.props.order.agent().emails[0].address\n                  params  = {\n                    recipient_name : this.props.order.agent().profile.name, \n                    link : \"http://52.42.62.56:3000/\"\n                  };\n                  email_options['params'] = params;\n                  Meteor.call('sendMail',email_options)\n                }\n                // check homestay alternative choice then send mail\n                 if(this.props.order.multipleChoice){\n                      console.log(\"mulipleChoice client\")\n                      if(this.props.order.currentChoice == 2){\n                        let homestay_choice = {\n                          homestayId: this.props.order.choice2\n                       }\n                      sendHomestayBooking.call(homestay_choice, (error, response) => {})\n\n                      } else if(this.props.order.currentChoice == 3 && this.props.order.bookingStatus == 0){\n                        let homestay_choice = {\n                            homestayId: this.props.order.choice3\n                         }\n                        sendHomestayBooking.call(homestay_choice, (error, response) => {})\n                      }\n\n                     \n                  } \n              } \n            }\n        });\n\n  }\n  canChangeStatus(){\n    let self = this\n    if(this.props.order.paymentStatus == 0 ) {\n      if(this.props.canChangeStatus){\n        return (\n           <div className=\"btn-group\">\n          <button type=\"button\" className=\"btn status-warning\">Pending</button>\n          <button type=\"button\" className=\"btn status-warning dropdown-toggle\" data-toggle=\"dropdown\">\n            <span className=\"caret\" />\n          </button>\n            <ul className=\"dropdown-menu\" role=\"menu\">\n              <li><a href=\"#\" onClick={self.changeStatus.bind(self,1)}>Accept</a></li>\n              <li><a href=\"#\" onClick={self.changeStatus.bind(self,2)}>Reject</a></li>\n            </ul>\n        </div>\n          )\n      } else {\n        return (<button className=\"btn status-warning\">Pending</button>)\n      }\n    } else {\n      return (<button className=\"btn status-warning\">Pending</button>)\n    }\n  }\n\n  getOrderStatus(){\n    let self = this\n    if(this.props.order.bookingStatus == 0){\n      return (\n        <td>\n        {self.canChangeStatus()}\n      </td>\n      );\n    } else if (this.props.order.bookingStatus == 1){\n      return (\n        <td><button className=\"btn status-active\">Accepted</button></td>\n      );\n    } else if (this.props.order.bookingStatus == 2){\n      return (\n        <td><button className=\"btn status-inactive\">Rejected</button></td>\n        )\n    }\n  }\n\n  bookingCancellation(id,event){\n  let paymentArg = \"\";\n            paymentArg = { bookingStatus: -1 };\n            updateBooking.call({ bookingId: id, bookingDetail: paymentArg }, (error, data) => {\n          if (error) {\n            console.log(error)\n          } else {\n            console.log(data)\n          }\n        })\n  }\n\n  render() {\n    return(\n        <tr>\n          <td>{this.props.index}</td> \n          <td>{this.props.order._id}</td>\n          <td>{this.props.order.paymentAmount}</td>\n          <td>{(this.props.order.bookingType == 'dayBooking')? 'Daily' : 'Weekly'}</td>\n          <td>{moment(this.props.order.checkinDate).format('DD MMM YYYY')}</td>\n          <td>{moment(this.props.order.checkoutDate).format('DD MMM YYYY')}</td>\n          <td>{this.props.order.homestay()? this.props.order.homestay().name : ''}</td>\n          <td>{this.props.order.agent()? this.props.order.agent().profile.name : ''}</td>\n          <td>{this.props.order.student()? this.props.order.student().profile.name : ''}</td>\n          <td><button className={(this.props.order.paymentStatus < 0 || this.props.order.paymentStatus == -2 )? \"btn status-inactive\": \"btn status-active\"} >{(this.props.order.paymentStatus < 0)? \"Not Paid\": (this.props.order.paymentStatus == 0)?\"Pending\":(this.props.order.paymentStatus == 1)?\"Success\":\"Failed\"}</button></td>\n          {this.getOrderStatus()}\n          <td>{(this.props.order.ownerRole == \"Student\" || this.props.order.ownerRole == \"Agency\" )&& (this.props.order.bookingStatus == 0 || this.props.order.bookingStatus == 1) && (this.props.order.paymentStatus != 1 ) ? <button className=\"btn status-inactive\"  onClick={this.bookingCancellation.bind(this,this.props.order._id)}>cancel</button>:\"\"}</td>\n        </tr>\n    );\n  }\n}\n\nexport class OrderFilter extends Component {\n  componentDidMount() {\n    //dropdown list\n    $('body').click(function(){\n        $('.custom-select .drop-down-list:visible').slideUp();\n    });\n    $('.custom-select .active-list').click(function(){\n        $(this).parent().find('.drop-down-list').stop( true, true ).delay(10).slideToggle();\n    }); \n\n    //datepicker\n     let endDate = new Date().setFullYear(new Date().getFullYear() + 1);\n\n    // initialise start date and arrival date timepicker\n    $('#checkinDate').datetimepicker({\n        format : 'YYYY-MM-DD'\n    }).on('dp.change', function (selected) {\n      if ($('#checkinDate').val()){\n        if(new Date($('#checkinDate').val()) > new Date($('#checkoutDate').val()) ){\n          $('#checkoutDate').data(\"DateTimePicker\").date(new Date($('#checkinDate').val()));\n          $('#checkoutDate').data(\"DateTimePicker\").minDate(new Date($('#checkinDate').val()));\n        }\n      }\n        // var minDate = new Date(selected.date.valueOf());\n    });\n    // initialise end date timepicker\n    $('#checkoutDate').datetimepicker({\n        format : 'YYYY-MM-DD',\n        minDate: '2016-01-01'\n    }); \n  }\n\n  dropDownClick(value,event){\n        var parent = $(event.currentTarget).parent().parent();\n        parent.find('.active-list').addClass('added');\n        parent.find('.active-list').text( $(event.currentTarget).text() ).removeClass('opened');\n        // parent.find('input.list-field').attr('value', value );\n        parent.find('input.list-field').val(value);\n  }\n\n\n  \n  applyFilter(event){\n    FlowRouter.setQueryParams({page: 1});\n\n    let status = $('#filter-status').val() || 'all',\n        type = $('#filter-type').val() || 'all',\n        checkin = this.refs.checkinDate.value || null,\n        checkout = this.refs.checkoutDate.value || null,\n        filter_data = {};\n    // booking status filtering\n    if(status == 'all')\n      filter_data['bookingStatus'] = { $ne: -1 }\n    else\n      filter_data['bookingStatus'] = parseInt(status)\n   \n   // booking type filtering\n   if(type == 'all')\n      delete filter_data.bookingType\n    else\n      filter_data['bookingType'] = type\n\n  // filter by date\n  if(checkin && checkout)\n   filter_data['$and'] = [ { \"checkinDate\": {\"$gte\": new Date(checkin)}},{\"checkoutDate\": {\"$lte\": new Date(checkout)}}]\n  else if(checkin )\n    filter_data['checkinDate'] =  new Date(checkin)\n  else if(checkout )\n    filter_data['checkoutDate'] = new Date(checkout)\n  else    \n    delete filter_data['$and']\n  console.log(\"filter_data\")\n  console.log(filter_data)\n   Session.set('order-filter',filter_data)\n\n  }\n\n  render () {\n    return (\n      <div>\n        <div className=\"row top-strip-db\">\n          <div className=\"col-sm-2\">\n            <div className=\"custom-select\">\n              <div className=\"active-list\">Please select</div>\n              <input type=\"text\" id=\"filter-status\" className=\"list-field\"/>\n              <ul className=\"drop-down-list\">\n                <li data-value = \"all\" onClick={this.dropDownClick.bind(this,'all')}>All</li>\n                <li data-value =\"0\" onClick={this.dropDownClick.bind(this,'0')}>Pending</li>\n                <li data-value = \"1\" onClick={this.dropDownClick.bind(this,'1')}>Accepted</li>\n                <li data-value = \"2\" onClick={this.dropDownClick.bind(this,'2')}>Rejected</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"col-sm-2\">\n            <div className=\"custom-select\">\n              <div className=\"active-list\">Please select</div>\n              <input type=\"text\" id=\"filter-type\" className=\"list-field\"/>\n              <ul className=\"drop-down-list\">\n                <li data-value = \"all\" onClick={this.dropDownClick.bind(this,'all')}>All</li>\n                <li data-value =\"0\" onClick={this.dropDownClick.bind(this,'dayBooking')}>Daily</li>\n                <li data-value = \"1\" onClick={this.dropDownClick.bind(this,'weekBooking')}>Weekly</li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"col-sm-2\">\n           <input type=\"text\" placeholder=\"CHECK-IN DATE\" id=\"checkinDate\" ref=\"checkinDate\" className=\"form-control avail-date\" />\n          </div>\n          <div className=\"col-sm-2\">\n            <input type=\"text\" placeholder=\"CHECK-OUT DATE\" id=\"checkoutDate\" ref=\"checkoutDate\" className=\"form-control avail-date\" />\n          </div>\n          <div className=\"col-sm-2\">\n            <button className=\"btn primary-btn std-height\" onClick={this.applyFilter.bind(this)}>Search Order</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React, {Component} from 'react';\n\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\n\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom \n        message: 'should be email'\n    }\n});\n\n\nexport default class Login extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessage : \"\"     \n\t\t};\n\t}\n\tcomponentDidMount () {\n\t\tif(Meteor.userId()){\n\t\t\tif(Roles.subscription.ready()) {\n\t            if (Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n\t                FlowRouter.go('/admin/homestays')\n\t            } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n\t                FlowRouter.go('/homestay')\n\t            } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n\t                FlowRouter.go('/universityresidence')\n\t            } else if (Roles.userIsInRole(Meteor.userId(), 'Accounting')) {\n                    FlowRouter.go('/account/orders')\n                } else {\n\t                if (Meteor.user().profile.status == 'active') {       \n\t                    if (Roles.userIsInRole(Meteor.userId(), 'Student')) {\n\t                        FlowRouter.go('/')\n\t                    } else if (Roles.userIsInRole(Meteor.userId(), 'Agency')) {\n\t\t\t\t            // FlowRouter.go('/agency')\n\t\t\t\t            FlowRouter.go('/')\n\t\t\t\t        } \n\t                } else {\n\t                    Meteor.logout()\n\t                    Session.set('log-error', 'Account is not enabled');\n\t                }\n\t            } \n\t        }\n        }\n\t}\n\thandleSubmit(event){\n\t\tevent.preventDefault();\n\t\t\tconst email    = $(event.currentTarget).find('#userEmail').val().trim(),\n\t\t\t      password = $(event.currentTarget).find('#Password').val().trim();\n\n\t        var self = this;\n\t        Meteor.loginWithPassword(email.toLowerCase(), password, function(error){\n\t            if (error){\n\t                self.setState({'message': 'Your username/password combo was incorrect, please try again!'});\n\t            } else {\n\t                if (Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n\t                \tFlowRouter.go('/admin/homestays')\n\t                    // Router.go('admin-dashboard')\n\t                } else if (Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n\t                \tFlowRouter.go('/homestay')\n\t                } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n\t\t                FlowRouter.go('/universityresidence')\n\t\t            }else if (Roles.userIsInRole(Meteor.userId(), 'Accounting')) {\n                    \tFlowRouter.go('/account/orders')\n                    } else {\n\t                    if (Meteor.user().profile.status == 'active') {                \n\t                        self.setState({'message':'Successfully loged in'});\n\t                        if (Roles.userIsInRole(Meteor.userId(), 'Student')) {\n\t                        \tFlowRouter.go('/')\n\t                        } else if (Roles.userIsInRole(Meteor.userId(), 'Agency'))  {\n\t                        \t// FlowRouter.go('/agency')\n\t                        \tFlowRouter.go('/')\n\t                        } \n\t                    } else {\n\t                        Meteor.logout()\n\t                        self.setState({'message': 'Account is not enabled'});\n\t                    }\n\t                }                \n\t            }\n\t        });\n\t\t// }\n\t}\n\n\tcustomCheckbox (event){\n        event.preventDefault();\n        $(event.currentTarget).find('label').toggleClass('active'); \n        if($(event.currentTarget).find('label').hasClass('active')){\n            $(event.currentTarget).find('input').prop('checked', true);\n        }else{\n            $(event.currentTarget).find('input').prop('checked', false);\n        }\n    }\n\n    getMessage() {\n\t\tif(this.state.message) {\n\t\t\treturn (\n\t\t\t\t<div className=\"error-message\">\n\t\t\t\t\t{this.state.message}\t\n\t\t\t\t</div>\n\t\t\t)\n\t\t}  \n    } \n\n    getLoginForm () {\n    \treturn (\n    \t\t\t<section className=\"main-content-wrapper login\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"user-accounts-wrapper\">\n\t\t\t\t\t\t<div className=\"user-logo\"><a href=\"/\"><img src=\"../images/logo.png\" alt /></a></div>\n\t\t\t\t\t\t<div className=\"header-wrap\">Login Account</div>\n\t\t\t\t\t\t<Validation.Form id=\"form-login\" className=\"user-form-wrap\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t{this.getMessage()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"userEmail\" className=\"control-label\">User Email</label>\n\t\t\t\t\t\t\t\t<Validation.Input\n                        \t\t\tclassName='form-control'\n                        \t\t\tblocking='input'\n\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trule: 'isRequired',\n\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please enter your Email ID'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trule : 'isEmail',\n\t\t\t\t\t\t\t\t\t\terrorMessage: \"Enter a valid Email\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Email\"\n                        \t\t\tname='userEmail'\n                        \t\t\tref='email'\n                        \t\t\tid='userEmail'\n                        \t\t\ttype='text'/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"Password\" className=\"control-label\">Password</label>\n\t\t\t\t\t\t\t\t<Validation.Input \n\t\t\t\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\t\t\t\tname=\"password\" \n\t\t\t\t\t\t\t\t\tref=\"password\" \n\t\t\t\t\t\t\t\t\tblocking='input'\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\tid=\"Password\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Password\" \n\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trule: 'isRequired', \n\t\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please enter your password'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]} />\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t{/*  <div class=\"form-group middle-block\">\n\t\t\t\t\t\t\t<div class=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input id=\"newsUpdates\" type=\"checkbox\"> Remember me \n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a class=\"forgot-password\" href=\"#\">Forgot my password?</a>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"form-group text-center\">\n\t\t\t\t\t\t\t\t<Validation.Button type=\"submit\" className=\"btn primary-btn lg btn-block\" value=\"Sign in\" />\n\t\t\t\t\t\t\t\t<a className=\"option-for-user user-register\" href=\"/register\">Create an account?</a>\n\t\t\t\t\t\t\t\t<a className=\"option-for-user forgot-password\" href=\"/forgot-password\">Forgot my password?</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Validation.Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\t\t\n    \t)\n    }\n\trender () {\n\t\treturn this.getLoginForm()\n\t}\n};","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\n// import {Meteor} from 'meteor/meteor';\n\nexport default class MoreDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error   : \"\",\n      success : \"\"      \n    };\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    return (\n      <section className=\"main-content-wrapper signup\">\n        <div className=\"container\">\n          <div className=\"user-accounts-wrapper\">\n            <div className=\"user-logo\"><a href=\"/\"><img src=\"../images/logo.png\" alt /></a></div>\n            <div className=\"header-wrap\">More About ourHomestay</div>\n            <div className=\"user-form-wrap\">\n                <div className=\"row\">\n                  <div className=\"col-sm-12\">\n                    \n                    <p>OurHomestay is the best way to find a great homestay in the city you plan to study in. All homestays on OurHomestay have been inspected and are rated by the actual students who have stayed in them.</p>\n                      <p>  Simply enter your search terms and you will receive a list of homestays that meet your needs. The homestay you may select may have several students looking at it so be sure to respond to homestay enquiries quickly and select backup options when prompted.</p>\n\n                    \n                  </div>\n                </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n  };\n  ","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress'\nimport Dialog           from 'material-ui/Dialog';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { Payments } from './../../api/payment/payments.js';\nimport { Bookings } from './../../api/booking/bookings.js';\nimport { MonthList } from './../../helper/constants.js';\nimport { YearList } from './../../helper/constants.js';\nimport { createNewUser, findUser } from './../../api/user/methods.js';\nimport { updatePayment } from './../../api/payment/methods.js';\nimport { newPayment } from './../../api/payment/methods.js';\nimport { updateBooking } from './../../api/booking/methods.js';\n\n// Extend Validation with custom rules\nValidation.extendErrors({\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isCardNumber : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[x0-9\\s]+$/));\n        }\n    }\n});\n\nexport default class PaymentPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error           : '',\n      success         : ''\n    };\n  }\n\n  // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  renderStudentDetail () {\n  \tif( this.props.student) {\n  \t\treturn (\n  \t\t\t<div className=\"details-students\">\n                <div className=\"header-wrap\">Students Details</div>\n                <div className=\"details-wrap-stays\">\n                  <h4>{this.props.student.profile.name}</h4>\n                  <p><b>Phone:</b> {this.props.student.profile.mobile}</p>\n                  <p><b>Email:</b> {this.props.student.emails[0].address}</p>\n                  <p><b>Length of Stay:</b> {this.props.bookingDetail.lengthOfStay} {(this.props.bookingDetail.bookingType===\"dayBooking\")?\"Days\":\"Weeks\"}</p>\n                  <p><b>Location:</b> {this.props.student.profile.country}</p>\n                </div>\n            </div>\n  \t\t)\n  \t} else {\n  \t\treturn (\n            <div>\n                <center>\n                    <CircularProgress size={1.5} color=\"#272b35\" />\n                </center>\n            </div>\n        )\n  \t}\n  }\n  renderHomestayDetail (){\n  \tif(this.props.homestay) {\n  \t\treturn (\n  \t\t\t<div className=\"details-homestay\">\n\t            <div className=\"header-wrap\">Homestay Details</div>\n\t            <figure className=\"homestay-details-image\">\n\t              <img src={(this.props.homestay.hasOwnProperty(\"image\") && this.props.homestay.image.length)?this.props.homestay.image[0].url:\"../images/homes/05.jpg\"} alt={this.props.homestay.name} />\n\t            </figure>\n\t            <div className=\"details-wrap-stays\">\n\t              <h4>{this.props.homestay.name}</h4>\n\t              <p><b>Phone:</b> {this.props.homestay.phone}</p>\n\t              <p><b>Email:</b> {this.props.homestay.email}</p>\n\t              <p><b>Number of Rooms/Beds:</b> {this.props.homestay.roomsNumber}</p>\n\t              <p><b>Location:</b> {this.props.homestay.city}, {this.props.homestay.country}</p>\n\t              <p><b>Amount:</b> CAD {this.props.bookingDetail.paymentAmount}/-</p>\n\t            </div>\n          \t</div>\n  \t\t)\n  \t}else {\n  \t\treturn (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n  \t}\n  }\n  renderPaymentPage () {\n  \tif(this.props.bookingLoading) {\n  \t\treturn (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n  \t} else {\n  \t\tconsole.log(this.props.bookingLoading)\n  \t\tconsole.log(this.props.student)\n  \t\treturn (\n\t  \t\t<section className=\"main-content-wrapper common-layout-box\">\n\t\t        <div className=\"two-col-layout\">\n\t\t          <div className=\"row\">\n\t\t            <div className=\"col-sm-7\">\n\t\t              {this.renderHomestayDetail()}\n\t\t            </div>\n\t\t            <div className=\"col-sm-5\">\n\t\t              {this.renderStudentDetail()}\n\t\t            </div>\n\t\t          </div>\n\t\t        </div>\n\t\t        < PaymentForm studentDetail={this.props.student} bookingDetail={this.props.bookingDetail} card={this.props.card} cardLoading={this.props.cardLoading} currentUser={this.props.currentUser} homestay={this.props.homestay}/>\n\t\t    </section>\n\t\t)\n  \t}\n  }\n  render() {\n  \treturn this.renderPaymentPage()\n  }\n}\n// To set theme for material-ui components\nPaymentPage.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport default createContainer(() => {\n  let bookingId = FlowRouter.getParam('bookingId');\n\n  const BookingHandle  = Meteor.subscribe('bookingDetail', bookingId);\n  if (BookingHandle.ready()) {\n\n    const bookingDetail = Bookings.find().fetch()[0];\n    const HomestayHandle = Meteor.subscribe('homestayDetail', bookingDetail.roomId);\n    const StudentHandle = Meteor.subscribe('users', bookingDetail.studentId);\n    const CardHandler = Meteor.subscribe('cards')\n    const userHandler = Meteor.subscribe('userDetail')\n    console.log(\"bookingDetail\")\n    console.log(bookingDetail)\n    return {\n        currentUser     : Meteor.user(),\n        bookingLoading  : !BookingHandle.ready() && !HomestayHandle.ready() && !StudentHandle.ready(),\n        homestay        : Homestays.find({_id:bookingDetail.roomId}).fetch()[0],\n        bookingDetail   : Bookings.find({_id:bookingId}).fetch()[0],\n        studentLoading  : !StudentHandle.ready(),\n        student         : Meteor.users.find({_id: bookingDetail.studentId}).fetch()[0],\n        card            : Cards.findOne(),\n        cardLoading     : !CardHandler.ready()\n    }\n  } else {\n    return {\n        currentUser     : Meteor.user(),\n        bookingLoading  : !BookingHandle.ready()\n    }\n  }\n}, PaymentPage);\n\n// React Component for BookRoom form\nexport class PaymentForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terror           : '',\n\t\t\tsuccess         : ''\n\t\t};\n\t}\n\t// set theme to material-ui components\n\tgetChildContext() {\n\t  return { muiTheme: getMuiTheme(baseTheme) };\n\t}\n\thandleSubmit(event) {\n\t\tevent.preventDefault();\n\t    this.setState({'error':''});\n\t    this.setState({'success':''});\n\t    $(event.currentTarget).find('#paymentButton').prop('disabled',true)\n\t    var currentElement = $(event.currentTarget)\n\t    var self = this;\n\t    let cardName \t= $(event.currentTarget).find('#cardName').val().trim(),\n\t      cardNumber    = $(event.currentTarget).find('#cardNumber').val().trim(),\n\t      cvv        \t= $(event.currentTarget).find('#cvv').val().trim(),\n\t      expMonth    \t= $(event.currentTarget).find(\"#expMonth\").val().trim(),\n\t      expYear     \t= $(event.currentTarget).find('#expYear').val().trim();\n\t    let cardDetails = {\n\t    \tcardName,\n\t    \tcardNumber,\n\t    \tcvv,\n\t    \texpMonth,\n\t    \texpYear\n\t    };\n\t    let options ={};\n\t    let email_options={};\n\t    let today = \"\";\n\t    let processStartTime = \"\";\n\t    let userId = this.props.studentDetail._id;\n        let paymentData = {\n        \torderId         : this.props.bookingDetail._id,\n        \troomId \t\t\t: this.props.bookingDetail.roomId,\n        \troomType \t\t: this.props.bookingDetail.roomType,\n        \tuserId   \t\t: this.props.bookingDetail.ownerId,\n        \tuserRole \t\t: Meteor.user().roles[0],\n        \tpaymentAmount \t: this.props.bookingDetail.paymentAmount,\n        \tpaymentStatus   : -1\n        }\n\t    var card_exist = this.props.card;\n        if(card_exist){\n        \tconsole.log(this.props.currentUser)\n        \ttoday = new Date();\n\t\t\tprocessStartTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), today.getHours(), today.getMinutes(), 0, 0);\n        \tlet bookingArg = {\n        \t\tcustomerId : self.props.currentUser.stripe.customerId,\n        \t\tpaymentStatus : 0,\n        \t\tprocessStartTime\n        \t}\n        \tupdateBooking.call({bookingId:self.props.bookingDetail._id, bookingDetail:bookingArg}, (error, response) => {\n\t\t\t\tif(error){\n\t\t            self.setState({'error':error.reason});\n\t          \t} else {\n\t          \t\toptions ={}\n\n\t                options['subject'] = 'OurHomeStay - Booking Successfull'\n\t\t\t\t\toptions['message'] = 'Booking Successfull. Your booking for '+self.props.homestay.name+' is successfull. Wait fo confirmation message after proccessing is completed'\n\n\t\t\t\t\toptions['recipient'] =  self.props.currentUser.emails[0].address;\n\t\t\t\t\tparams  = {\n\t\t\t\t\t\trecipient_name :  self.props.currentUser.profile.name,\n\t\t\t\t\t\tlink : \"http://52.42.62.56:3000/\"\n\t\t\t\t\t};\n\t\t\t\t\toptions['params'] = params;\n\t\t\t\t\toptions['mail_template'] = \"notification\";\n\n\n\n\t                // Method for send email\n\t                Meteor.call(\"sendMail\", options, function (error) {\n\t                  if(error){\n\t                    console.log(error)\n\t                  }\n\t                })\n\n\t                options['subject'] = 'OurHomeStay - User Booked'\n\t\t\t\t\toptions['message'] = 'Booking Successfull. '+self.props.currentUser.profile.name+' has made a booking. Check your profile for more details.'\n\n\t\t\t\t\toptions['recipient'] = self.props.homestay.email;\n\t\t\t\t\tparams  = {\n\t\t\t\t\t\trecipient_name : self.props.homestay.name,\n\t\t\t\t\t\tlink : \"http://52.42.62.56:3000/\"\n\t\t\t\t\t};\n\t\t\t\t\toptions['params'] = params;\n\t\t\t\t\toptions['mail_template'] = \"notification\";\n\n\t                // Method for send email\n\t                Meteor.call(\"sendMail\", options, function (error) {\n\t                  if(error){\n\t                    console.log(error)\n\t                  }\n\t                })\n\t                paymentData[\"customerId\"] = self.props.currentUser.stripe.customerId;\n\t                newPayment.call(paymentData, (error, data) => {\n\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\tself.setState({'error':error.reason});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\temail_options['subject'] = 'OurHomeStay - Payment'\n\t\t\t\t\t\t\temail_options['message'] = 'Payment will be processed one week before arrival date.'\n\n\t\t\t\t\t\t\temail_options['recipient'] = self.props.currentUser.emails[0].address;\n\t\t\t\t\t\t\tparams  = {\n\t\t\t\t\t\t\t\trecipient_name : self.props.currentUser.profile.name,\n\t\t\t\t\t\t\t\tlink : \"http://52.42.62.56:3000/\"\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\temail_options['params'] = params;\n\t\t\t\t\t\t\temail_options['mail_template'] = \"notification\";\n\t\t\t\t\t\t\tMeteor.call(\"sendMail\", email_options, function (error) {\n\t\t\t                  if(error){\n\t\t\t                    console.log(error)\n\t\t\t                  }\n\t\t\t                })\n\t\t\t\t\t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t\t\t\t\tFlowRouter.go('/bookingcompleted')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t\t// // call meteor method for direct stripe payment\n\t\t\t// // input: user stripeid,amount,paymane data (for payment collection)\n\n\t\t\t// Meteor.call('stripeDirectPayment',self.props.currentUser.stripe.customerId,paymentData.paymentAmount,paymentData,this.props.homestay.userId,function (error, res) {\n\t\t\t//   \tif (error) {\n\t\t\t//   \t\tconsole.log(error)\n\t\t\t//   \t\tself.setState({'error':error.reason})\n\t\t\t//   \t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t//     } else {\n\t\t\t//     \tconsole.log(res)\n\t\t\t//     \tif(res.error){\n\t\t\t//     \t\tself.setState({'error':res.message})\n\t\t\t//   \t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t//     \t}else {\n\t\t\t// \t    \tlet paymentArg = \"\";\n\t\t\t// \t    \tlet bookingArg = \"\";\n\t\t\t// \t\t    if(res.res.paid) {\n\t\t\t// \t\t    \tpaymentArg = {paymentStatus : 1};\n\t\t\t// \t\t    \tbookingArg = {paymentStatus : true};\n\t\t\t// \t\t    } else {\n\t\t\t// \t\t    \tpaymentArg = {paymentStatus : 0};\n\t\t\t// \t\t    \tbookingArg = {paymentStatus : false};\n\t\t\t// \t\t    }\n\t\t\t// \t\t    updateBooking.call({bookingId:self.props.bookingDetail._id, bookingDetail:bookingArg}, (error, response) => {\n\t\t\t// \t\t\t\tif(error){\n\t\t\t// \t\t            self.setState({'error':error.reason});\n\t\t\t// \t          \t} else {\n\t\t\t// \t\t\t\t    updatePayment.call({paymentId:res.payment, options:paymentArg}, (error, data) => {\n\t\t\t// \t\t\t\t\t\tif(error){\n\t\t\t// \t\t\t\t\t\t\tconsole.log(error)\n\t\t\t// \t\t\t\t\t\t\tself.setState({'error':error.reason});\n\t\t\t// \t\t\t\t\t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t// \t\t\t\t\t\t} else {\n\t\t\t// \t\t\t\t\t\t\tconsole.log(data)\n\t\t\t// \t\t\t\t\t\t\tvar options = {}\n\n\t\t\t// \t\t\t                options['subject'] = 'OurHomeStay - Payment Successfull'\n\t\t\t// \t\t\t                options['message'] = 'Payment Successfull. Thank You for booking through OurHomeStay.'\n\t\t\t// \t\t\t                options['email']   = self.props.currentUser.emails[0].address\n\t\t\t// \t\t\t                // Method for send email\n\t\t\t// \t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t// \t\t\t                  if(error){\n\t\t\t// \t\t\t                    console.log(error)\n\t\t\t// \t\t\t                  }\n\t\t\t// \t\t\t                })\n\t\t\t// \t\t\t                options['subject'] = 'OurHomeStay - Booking Successfull'\n\t\t\t// \t\t\t                options['message'] = 'Booking Successfull. Your booking for '+self.props.homestay.name+' is successfull. Wait fo confirmation message after proccessing is completed'\n\t\t\t// \t\t\t                options['email']   = self.props.currentUser.emails[0].address\n\t\t\t// \t\t\t                // Method for send email\n\t\t\t// \t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t// \t\t\t                  if(error){\n\t\t\t// \t\t\t                    console.log(error)\n\t\t\t// \t\t\t                  }\n\t\t\t// \t\t\t                })\n\t\t\t// \t\t\t                options['subject'] = 'OurHomeStay - User Booked'\n\t\t\t// \t\t\t                options['message'] = 'Booking Successfull. '+self.props.currentUser.profile.name+' has made a booking. Check your profile for more details.'\n\t\t\t// \t\t\t                options['email']   = self.props.homestay.email\n\t\t\t// \t\t\t                // Method for send email\n\t\t\t// \t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t// \t\t\t                  if(error){\n\t\t\t// \t\t\t                    console.log(error)\n\t\t\t// \t\t\t                  }\n\t\t\t// \t\t\t                })\n\t\t\t// \t\t\t\t\t\t\tFlowRouter.go('/bookingcompleted')\n\t\t\t// \t\t\t\t\t\t}\n\t\t\t// \t\t\t\t\t});\n\t\t\t// \t\t\t\t}\n\t\t\t// \t\t\t})\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// })\n\n\n\n        } else {\n            // get card deatils\n            var Card = {\n                number: cardNumber,\n                exp_month: expMonth,\n                exp_year: expYear,\n                cvc: cvv,\n                name: cardName\n            };\n            // generate stripe token\n            STRIPE.getToken(Card, function (card) {\n            \tconsole.log(card)\n                if (card.error) {\n                \tself.setState({'error': card.error.message})\n                \t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n                } else {\n                    let token = card.id;\n                    let cardId = card.card.id\n                    // call function to create a new stripe customer\n                \tMeteor.call('stripeCreateCustomer', token, cardId, function (error, response) {\n                \t\tif(error) {\n\n                \t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n                \t\t} else {\n                \t\t\ttoday = new Date();\n\t\t\t\t\t\t\tprocessStartTime = new Date(today.getFullYear(), today.getMonth(), today.getDate(), today.getHours(), today.getMinutes(), 0, 0);\n                \t\t\tlet bookingArg = {\n\t\t\t\t        \t\tcustomerId : response.id,\n\t\t\t\t        \t\tpaymentStatus : 0,\n\t\t\t\t        \t\tprocessStartTime\n\t\t\t\t        \t}\n\t\t\t\t        \tupdateBooking.call({bookingId:self.props.bookingDetail._id, bookingDetail:bookingArg}, (error, booking) => {\n\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t            self.setState({'error':error.reason});\n\t\t\t\t\t\t            $(event.currentTarget).find('#paymentButton').prop('disabled',false);\n\t\t\t\t\t          \t} else {\n\t\t\t\t\t          \t\toptions ={}\n\n\t\t\t\t\t                options['subject'] = 'OurHomeStay - Booking Successfull'\n\t\t\t\t\t\t\t\t\toptions['message'] = 'Booking Successfull. Your booking for '+self.props.homestay.name+' is successfull. Wait for confirmation message after proccessing is completed'\n\n\t\t\t\t\t\t\t\t\toptions['recipient'] = self.props.currentUser.emails[0].address;\n\t\t\t\t\t\t\t\t\tparams  = {\n\t\t\t\t\t\t\t\t\t\trecipient_name : self.props.currentUser.profile.name,\n\t\t\t\t\t\t\t\t\t\tlink : \"http://52.42.62.56:3000/\"\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\toptions['params'] = params;\n\t\t\t\t\t\t\t\t\toptions['mail_template'] = \"notification\";\n\n\t\t\t\t\t                // Method for send email\n\t\t\t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t\t\t                  if(error){\n\t\t\t\t\t                    console.log(error)\n\t\t\t\t\t                  }\n\t\t\t\t\t                })\n\n\t\t\t\t\t                options['subject'] = 'OurHomeStay - User Booked'\n\t\t\t\t\t\t\t\t\toptions['message'] = 'Booking Successfull. '+self.props.currentUser.profile.name+' has made a booking. Check your profile for more details.'\n\n\t\t\t\t\t\t\t\t\toptions['recipient'] = self.props.homestay.email;\n\t\t\t\t\t\t\t\t\tparams  = {\n\t\t\t\t\t\t\t\t\t\trecipient_name : self.props.homestay.name,\n\t\t\t\t\t\t\t\t\t\tlink : \"http://52.42.62.56:3000/\"\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\toptions['params'] = params;\n\t\t\t\t\t\t\t\t\toptions['mail_template'] = \"notification\";\n\n\t\t\t\t\t                // Method for send email\n\t\t\t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t\t\t                  if(error){\n\t\t\t\t\t                    console.log(error)\n\t\t\t\t\t                  }\n\t\t\t\t\t                })\n\t\t\t\t\t                paymentData[\"customerId\"] = response.id;\n\t\t\t\t\t                newPayment.call(paymentData, (error, data) => {\n\t\t\t\t\t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\t\t\t\t\tself.setState({'error':error.reason});\n\t\t\t\t\t\t\t\t\t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\temail_options['subject'] = 'OurHomeStay - Payment'\n\t\t\t\t\t\t\t\t\t\t\temail_options['message'] = 'Payment will be processed one week before arrival date.'\n\n\t\t\t\t\t\t\t\t\t\t\temail_options['recipient'] = self.props.currentUser.emails[0].address;\n\t\t\t\t\t\t\t\t\t\t\tparams  = {\n\t\t\t\t\t\t\t\t\t\t\t\trecipient_name : self.props.currentUser.profile.name,\n\t\t\t\t\t\t\t\t\t\t\t\tlink : \"http://52.42.62.56:3000/\"\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\temail_options['params'] = params;\n\t\t\t\t\t\t\t\t\t\t\temail_options['mail_template'] = \"notification\";\n\t\t\t\t\t\t\t\t\t\t\tMeteor.call(\"sendMail\", email_options, function (error) {\n\t\t\t\t\t\t\t                  if(error){\n\t\t\t\t\t\t\t                    console.log(error)\n\t\t\t\t\t\t\t                  }\n\t\t\t\t\t\t\t                })\n\t\t\t\t\t\t\t\t\t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t\t\t\t\t\t\t\t\tFlowRouter.go('/bookingcompleted')\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\n\t\t\t\t\t\t\t// // call meteor method for direct stripe payment\n\t\t\t\t\t\t\t// // input: user stripeid,amount,paymane data (for payment collection)\n\t\t\t\t\t\t\t// Meteor.call('stripeDirectPayment',response.id,paymentData.paymentAmount,paymentData,function (error, res) {\n\t\t\t\t\t\t\t//   \tif (error) {\n\t\t\t\t\t\t\t//   \t\tconsole.log(error)\n\t\t\t\t\t\t\t//   \t\tself.setState({'error': error.message})\n\t\t\t\t\t\t\t//   \t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t\t\t\t\t//         // newCustomer.return(error);\n\t\t\t\t\t\t\t//     } else {\n\t\t\t\t\t\t\t//     \tif(res.error){\n\t\t\t\t\t\t\t//     \t\tself.setState({'error':res.message})\n\t\t\t\t\t\t\t//   \t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t\t\t\t\t//     \t}else {\n\t\t\t\t\t\t\t// \t\t    let paymentArg = \"\";\n\t\t\t\t\t\t\t// \t\t    let bookingArg = \"\";\n\t\t\t\t\t\t\t// \t\t    if(res.res.paid) {\n\t\t\t\t\t\t\t// \t\t    \tpaymentArg = {paymentStatus : 1};\n\t\t\t\t\t\t\t// \t\t    \tbookingArg = {paymentStatus : true};\n\t\t\t\t\t\t\t// \t\t    } else {\n\t\t\t\t\t\t\t// \t\t    \tpaymentArg = {paymentStatus : 0};\n\t\t\t\t\t\t\t// \t\t    \tbookingArg = {paymentStatus : true};\n\t\t\t\t\t\t\t// \t\t    }\n\t\t\t\t\t\t\t// \t\t    updateBooking.call({bookingId:self.props.bookingDetail._id, bookingDetail:bookingArg}, (error, response) => {\n\t\t\t\t\t\t\t// \t\t\t\tif(error){\n\t\t\t\t\t\t\t// \t\t            self.setState({'error':error.reason});\n\t\t\t\t\t\t\t// \t          \t} else {\n\t\t\t\t\t\t\t// \t\t\t\t    updatePayment.call({paymentId:res.payment, options:paymentArg}, (error, data) => {\n\t\t\t\t\t\t\t// \t\t\t\t\t\tif(error){\n\t\t\t\t\t\t\t// \t\t\t\t\t\t\tself.setState({'error':error.reason});\n\t\t\t\t\t\t\t// \t\t\t\t\t\t\t$(event.currentTarget).find('#paymentButton').prop('disabled',false)\n\t\t\t\t\t\t\t// \t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// \t\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\t\t// \t\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\t\t// \t\t\t\t\t\t\tvar options = {}\n\n\t\t\t\t\t\t\t// \t\t\t                options['subject'] = 'OurHomeStay - Payment Successfull'\n\t\t\t\t\t\t\t// \t\t\t                options['message'] = 'Payment Successfull. Thank You for booking through OurHomeStay.'\n\t\t\t\t\t\t\t// \t\t\t                options['email']   = self.props.currentUser.emails[0].address\n\t\t\t\t\t\t\t// \t\t\t                // Method for send email\n\t\t\t\t\t\t\t// \t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t\t\t\t\t// \t\t\t                  if(error){\n\t\t\t\t\t\t\t// \t\t\t                    console.log(error)\n\t\t\t\t\t\t\t// \t\t\t                  }\n\t\t\t\t\t\t\t// \t\t\t                })\n\t\t\t\t\t\t\t// \t\t\t                options['subject'] = 'OurHomeStay - Booking Successfull'\n\t\t\t\t\t\t\t// \t\t\t                options['message'] = 'Booking Successfull. Your booking for '+self.props.homestay.name+' is successfull. Wait fo confirmation message after proccessing is completed'\n\t\t\t\t\t\t\t// \t\t\t                options['email']   = self.props.currentUser.emails[0].address\n\t\t\t\t\t\t\t// \t\t\t                // Method for send email\n\t\t\t\t\t\t\t// \t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t\t\t\t\t// \t\t\t                  if(error){\n\t\t\t\t\t\t\t// \t\t\t                    console.log(error)\n\t\t\t\t\t\t\t// \t\t\t                  }\n\t\t\t\t\t\t\t// \t\t\t                })\n\t\t\t\t\t\t\t// \t\t\t                options['subject'] = 'OurHomeStay - User Booked'\n\t\t\t\t\t\t\t// \t\t\t                options['message'] = 'Booking Successfull. '+self.props.currentUser.profile.name+' has made a booking. Check your profile for more details.'\n\t\t\t\t\t\t\t// \t\t\t                options['email']   = self.props.homestay.email\n\t\t\t\t\t\t\t// \t\t\t                // Method for send email\n\t\t\t\t\t\t\t// \t\t\t                Meteor.call(\"sendMail\", options, function (error) {\n\t\t\t\t\t\t\t// \t\t\t                  if(error){\n\t\t\t\t\t\t\t// \t\t\t                    console.log(error)\n\t\t\t\t\t\t\t// \t\t\t                  }\n\t\t\t\t\t\t\t// \t\t\t                })\n\t\t\t\t\t\t\t// \t\t\t\t\t\t\tFlowRouter.go('/bookingcompleted')\n\t\t\t\t\t\t\t// \t\t\t\t\t\t}\n\t\t\t\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t\t\t\t// \t\t\t\t}\n\t\t\t\t\t\t\t// \t\t\t})\n\t\t\t\t\t\t\t// \t\t}\n\t\t\t\t\t\t //        }\n\t\t\t\t\t\t\t// })\n\n\n\n                \t\t}\n                \t})\n                }\n            })\n        }\n\t}\n\t// Function to show error message\n\tgetErrorMessage() {\n\t\tif(this.state.error) {\n\t\t  return (<div className=\"col-sm-8\">\n\t\t                        <div className=\"error-message\">{this.state.error} </div>\n\t\t                      </div>)\n\t\t}\n\t\tif (this.state.success) {\n\t\t  return (<div className=\"col-sm-8\">\n\t\t                        <div className=\"success-message\">{this.state.success}</div>\n\t\t                      </div>)\n\t\t}\n\t}\n\trenderPaymentForm() {\n\t\tlet months = MonthList.map(function (month,index){\n\t\t\tif(month!==\"Month\") {\n\t\t        return (\n\t\t            <option key={index} value={month}>{month}</option>\n\t\t        )\n\t\t    } else {\n\t\t    \treturn (\n\t\t            <option key={index} value=\"\">{month}</option>\n\t\t        )\n\t\t    }\n\t    });\n\t    let years = YearList.map(function (year,index){\n\t    \tif(year!==\"Year\") {\n\t\t        return (\n\t\t            <option key={index} value={year}>{year}</option>\n\t\t        )\n\t\t    } else {\n\t\t    \treturn (\n\t\t            <option key={index} value=\"\">{year}</option>\n\t\t        )\n\t\t    }\n\t    });\n\t\tif (this.props.cardLoading) {\n\t\t\treturn (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n\t\t}else {\n\t\t\tif(this.props.card) {\n\t\t\t\treturn(\n\t\t\t\t\t<section className=\"common-layout-box-wrap\">\n\t\t\t          <div className=\"header-wrap\">Credit Card Details</div>\n\t\t\t          <article className=\"common-layout-content students-form\">\n\t\t\t            <Validation.Form className=\"form-horizontal\" role=\"form\" id=\"paymentForm\" onSubmit={this.handleSubmit.bind(this)}>\n\t\t\t              <div className=\"form-group\">\n\t\t\t              \t{this.getErrorMessage()}\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"Name\" className=\"col-sm-3 control-label\">Name <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t                <fieldset disabled=\"disabled\" >\n\t\t\t                  <Validation.Input\n\t\t\t                  \ttype=\"text\"\n\t\t\t                  \tclassName=\"form-control\"\n\t\t\t                  \tname = \"cardName\"\n\t\t\t                  \tid=\"cardName\"\n\t\t\t                  \tref= \"cardName\"\n\t\t\t                  \tvalue={this.props.card.name}\n\t\t\t                  \tvalidations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter Card Name'\n\t\t\t                      }\n\t\t\t                    ]}\n\t\t\t                  \tplaceholder=\"Enter Card Name\" />\n\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"number\" className=\"col-sm-3 control-label\">Card Number <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t\t                <fieldset disabled=\"disabled\"  >\n\t\t\t\t                  <Validation.Input\n\t\t\t\t                  \ttype=\"text\"\n\t\t\t\t                  \tclassName=\"form-control\"\n\t\t\t\t                  \tid=\"cardNumber\"\n\t\t\t\t                  \tname=\"cardNumber\"\n\t\t\t\t                  \tref=\"cardNumber\"\n\t\t\t\t                  \tvalue={\"xxxx xxxx xxxx \"+this.props.card.last4}\n\t\t\t\t                  \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please enter card number'\n\t\t\t\t                      },\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isCardNumber',\n\t\t\t\t                        errorMessage: 'Enter a valid card number'\n\t\t\t\t                      }\n\t\t\t\t                    ]}\n\t\t\t\t                  \tplaceholder=\"Enter Card Number\" />\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"cvv\" className=\"col-sm-3 control-label\">CVV <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-2\">\n\t\t\t                <fieldset disabled=\"disabled\" >\n\t\t\t                  <Validation.Input\n\t\t\t\t                type=\"text\"\n\t\t\t\t                className=\"form-control\"\n\t\t\t\t                id=\"cvv\"\n\t\t\t\t                name=\"cvv\"\n\t\t\t\t                ref=\"cvv\"\n\t\t\t\t                value={\"xxx\"}\n\t\t\t\t                validations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter your cvv'\n\t\t\t                      },\n\t\t\t                      {\n\t\t\t                        rule: 'isCardNumber',\n\t\t\t                        errorMessage: 'Enter a valid cvv'\n\t\t\t                      }\n\t\t\t                    ]}\n\t\t\t\t                placeholder=\"CVV\" />\n\t\t\t\t             </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"valid\" className=\"col-sm-3 control-label\">Valid Thru <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t                \t<fieldset disabled=\"disabled\"  >\n\t\t\t\t                  <Validation.Select\n\t\t\t\t                    value= {this.props.card.exp_month}\n\t\t\t\t                    id=\"expMonth\"\n\t\t\t\t                    className=\"form-control\"\n\t\t\t\t                    ref=\"expMonth\"\n\t\t\t\t                    name=\"expMonth\"\n\t\t\t\t                    validations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please Select valid month'\n\t\t\t\t                      }\n\t\t\t\t                    ]}>\n\t\t\t\t                    {months}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                 </fieldset>\n\t\t\t                </div>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t\t                <fieldset disabled=\"disabled\">\n\t\t\t\t                   <Validation.Select\n\t\t\t\t                    className=\"form-control\"\n\t\t\t\t                   \tvalue= {this.props.card.exp_year}\n\t\t\t\t                   \tid = \"expYear\"\n\t\t\t\t                   \tname = \"expYear\"\n\t\t\t\t                   \tref = \"expYear\"\n\t\t\t\t                   \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please select Exp-Year'\n\t\t\t\t                      }\n\t\t\t\t                    ]}\n\t\t\t\t                   \tplaceholder=\"YY\">\n\t\t\t\t                    {years}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"row\">\n\t\t\t\t              <div className=\"col-sm-12\">\n\t\t\t\t              \t<Validation.Button className=\"btn primary-btn\" id=\"paymentButton\" value=\"Submit Request\" />\n\t\t\t\t              </div>\n\t\t\t\t          </div>\n\t\t\t            </Validation.Form>\n\t\t\t            <br />\n\t\t\t          </article>\n\t\t\t        </section>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn(\n\t\t\t\t<section className=\"common-layout-box-wrap\">\n\t\t\t          <div className=\"header-wrap\">Credit Card Details</div>\n\t\t\t          <article className=\"common-layout-content students-form\">\n\t\t\t            <Validation.Form className=\"form-horizontal\" role=\"form\" id=\"paymentForm\" onSubmit={this.handleSubmit.bind(this)}>\n\t\t\t              <div className=\"form-group\">\n\t\t\t              \t{this.getErrorMessage()}\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"Name\" className=\"col-sm-3 control-label\">Name <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t                <fieldset disabled=\"\" >\n\t\t\t                  <Validation.Input\n\t\t\t                  \ttype=\"text\"\n\t\t\t                  \tclassName=\"form-control\"\n\t\t\t                  \tname = \"cardName\"\n\t\t\t                  \tid=\"cardName\"\n\t\t\t                  \tref= \"cardName\"\n\t\t\t                  \tvalidations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter Card Name'\n\t\t\t                      }\n\t\t\t                    ]}\n\t\t\t                  \tplaceholder=\"Enter Card Name\" />\n\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"number\" className=\"col-sm-3 control-label\">Card Number <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-8\">\n\t\t\t\t                <fieldset disabled=\"\"  >\n\t\t\t\t                  <Validation.Input\n\t\t\t\t                  \ttype=\"text\"\n\t\t\t\t                  \tclassName=\"form-control\"\n\t\t\t\t                  \tid=\"cardNumber\"\n\t\t\t\t                  \tname=\"cardNumber\"\n\t\t\t\t                  \tref=\"cardNumber\"\n\t\t\t\t                  \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please enter card number'\n\t\t\t\t                      },\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isCardNumber',\n\t\t\t\t                        errorMessage: 'Enter a valid card number'\n\t\t\t\t                      }\n\t\t\t\t                    ]}\n\t\t\t\t                  \tplaceholder=\"Enter Card Number\" />\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"cvv\" className=\"col-sm-3 control-label\">CVV <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-2\">\n\t\t\t                <fieldset disabled=\"\"  >\n\t\t\t                  <Validation.Input\n\t\t\t\t                type=\"text\"\n\t\t\t\t                className=\"form-control\"\n\t\t\t\t                id=\"cvv\"\n\t\t\t\t                name=\"cvv\"\n\t\t\t\t                ref=\"cvv\"\n\t\t\t\t                validations={[\n\t\t\t                      {\n\t\t\t                        rule: 'isRequired',\n\t\t\t                        errorMessage: 'Please enter your cvv'\n\t\t\t                      },\n\t\t\t                      {\n\t\t\t                        rule: 'isCardNumber',\n\t\t\t                        errorMessage: 'Enter a valid cvv'\n\t\t\t                      }\n\t\t\t                    ]}\n\t\t\t\t                placeholder=\"CVV\" />\n\t\t\t\t             </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"form-group\">\n\t\t\t                <label htmlFor=\"valid\" className=\"col-sm-3 control-label\">Valid Thru <i className=\"semi\">:</i></label>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t                \t<fieldset disabled=\"\"  >\n\t\t\t\t                  <Validation.Select\n\t\t\t\t                    id=\"expMonth\"\n\t\t\t\t                    className=\"form-control\"\n\t\t\t\t                    ref=\"expMonth\"\n\t\t\t\t                    name=\"expMonth\"\n\t\t\t\t                    validations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please Select valid month'\n\t\t\t\t                      }\n\t\t\t\t                    ]}>\n\t\t\t\t                    {months}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                 </fieldset>\n\t\t\t                </div>\n\t\t\t                <div className=\"col-sm-3\">\n\t\t\t\t                <fieldset disabled=\"\" >\n\t\t\t\t                   <Validation.Select\n\t\t\t\t                    className=\"form-control\"\n\t\t\t\t                   \tid = \"expYear\"\n\t\t\t\t                   \tname = \"expYear\"\n\t\t\t\t                   \tref = \"expYear\"\n\t\t\t\t                   \tvalidations={[\n\t\t\t\t                      {\n\t\t\t\t                        rule: 'isRequired',\n\t\t\t\t                        errorMessage: 'Please select Exp-Year'\n\t\t\t\t                      }\n\t\t\t\t                    ]}\n\t\t\t\t                   \tplaceholder=\"YY\">\n\t\t\t\t                    {years}\n\t\t\t\t                  </Validation.Select>\n\t\t\t\t                </fieldset>\n\t\t\t                </div>\n\t\t\t              </div>\n\t\t\t              <div className=\"row\">\n\t\t\t\t              <div className=\"col-sm-12\">\n\t\t\t\t              \t<Validation.Button className=\"btn primary-btn\" id=\"paymentButton\" value=\"Make Payment\" />\n\t\t\t\t              </div>\n\t\t\t\t          </div>\n\t\t\t            </Validation.Form>\n\t\t\t            <br />\n\t\t\t          </article>\n\t\t\t        </section>\n\t\t\t)\n\t\t\t}\n\n\t\t}\n\t}\n\trender() {\n\t\treturn this.renderPaymentForm()\n\t}\n}\n\n// To set theme for material-ui components\nPaymentForm.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n","import React, {Component} from 'react';\n\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom \n        message: 'should be email'\n    }\n});\n\n\nexport default class Login extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessage : \"\"     \n\t\t};\n\t}\n\tcomponentDidMount () {\n\t\tif(Meteor.userId()){\n\t\t\tif(Roles.subscription.ready()) {\n\t            if (Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n\t                FlowRouter.go('/admin/homestays')\n\t            } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n\t                FlowRouter.go('/homestay')\n\t            } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n\t                FlowRouter.go('/universityresidence')\n\t            } else if (Roles.userIsInRole(Meteor.userId(), 'Accounting')) {\n                    FlowRouter.go('/account/orders')\n                } else {\n\t                if (Meteor.user().profile.status == 'active') {       \n\t                    if (Roles.userIsInRole(Meteor.userId(), 'Student')) {\n\t                        FlowRouter.go('/')\n\t                    } else if (Roles.userIsInRole(Meteor.userId(), 'Agency')) {\n\t\t\t\t            // FlowRouter.go('/agency')\n\t\t\t\t            FlowRouter.go('/')\n\t\t\t\t        } \n\t                } else {\n\t                    Meteor.logout()\n\t                    Session.set('log-error', 'Account is not enabled');\n\t                }\n\t            } \n\t        }\n        }\n\t}\n\thandleSubmit(event){\n\t\tvar self = this;\n\t\tevent.preventDefault();\n\t\tself.setState({'message':''});\n\t\tpassword = $(event.currentTarget).find('#Password').val();\n\t\tconfirmPassword = $(event.currentTarget).find('#confirmPassword').val();\n\t\tif(confirmPassword != password){\n\t\t\tself.setState({'message':'Your password and confirmation password do not match'});\n\t\t\t// confirmPassword.focus();return false;\n\t\t\treturn false;\n\t\t}else{\n\t\t\tif(FlowRouter.current().params._resetPasswordToken){\n\t\t\t\t Accounts.resetPassword(FlowRouter.current().params._resetPasswordToken, password, function (err, response) {\n\t\t\t\t\tconsole.log(\"err, response\");\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\tself.setState({'message':'We are sorry but something went wrong!'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('Your password has been changed. Welcome back!');\n\t\t\t\t\t\tFlowRouter.go('/')\n\t\t\t\t\t}\n            \t});\n\t\t\t}else{\n\t\t\t\tself.setState({'message':'We are sorry but something went wrong!'});\n\t\t\t}\n\t\t}\n\t}\n\n\tcustomCheckbox (event){\n        event.preventDefault();\n        $(event.currentTarget).find('label').toggleClass('active'); \n        if($(event.currentTarget).find('label').hasClass('active')){\n            $(event.currentTarget).find('input').prop('checked', true);\n        }else{\n            $(event.currentTarget).find('input').prop('checked', false);\n        }\n    }\n\n    getMessage() {\n\t\tif(this.state.message) {\n\t\t\treturn (\n\t\t\t\t<div className=\"error-message\">\n\t\t\t\t\t{this.state.message}\t\n\t\t\t\t</div>\n\t\t\t)\n\t\t}  \n    } \n\n    getLoginForm () {\n    \treturn (\n    \t\t\t<section className=\"main-content-wrapper login\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"user-accounts-wrapper\">\n\t\t\t\t\t\t<div className=\"user-logo\"><a href=\"/\"><img src=\"../images/logo.png\" alt /></a></div>\n\t\t\t\t\t\t<div className=\"header-wrap\">Reset Password</div>\n\t\t\t\t\t\t<Validation.Form id=\"form-login\" className=\"user-form-wrap\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t{this.getMessage()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"Password\" className=\"control-label\">Password</label>\n\t\t\t\t\t\t\t\t<Validation.Input \n\t\t\t\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\t\t\t\tname=\"password\" \n\t\t\t\t\t\t\t\t\tref=\"password\" \n\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\tid=\"Password\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter password\" \n\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trule: 'isRequired', \n\t\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please enter your password'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]} />\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"confirmPassword\" className=\"control-label\">Confirm Password</label>\n\t\t\t\t\t\t\t\t<Validation.Input \n\t\t\t\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\t\t\t\tname=\"confirmPassword\" \n\t\t\t\t\t\t\t\t\tref=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\tid=\"confirmPassword\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"Retype your password\" \n\t\t\t\t\t\t\t\t\tvalidations={[\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trule: 'isRequired', \n\t\t\t\t\t\t\t\t\t\t\terrorMessage: 'Please retype your password'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]} />\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t{/*  <div class=\"form-group middle-block\">\n\t\t\t\t\t\t\t<div class=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input id=\"newsUpdates\" type=\"checkbox\"> Remember me \n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a class=\"forgot-password\" href=\"#\">Forgot my password?</a>\n\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t<div className=\"form-group text-center\">\n\t\t\t\t\t\t\t\t<Validation.Button type=\"submit\" className=\"btn primary-btn lg btn-block\" value=\"Reset My Password\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Validation.Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\t\t\n    \t)\n    }\n\trender () {\n\t\treturn this.getLoginForm()\n\t}\n};","import React, { Component } from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\n//import { Motion, spring } from 'react-motion';\nimport Blaze from 'meteor/gadicc:blaze-react-component';\nimport Modal from '../shared/Modal.jsx';\nimport Panel from '../shared/Panel.jsx';\n\n\n// Homepage component - represents the whole app\nexport default class SearchResult extends Component {\n   \n    render() {\n        return <Blaze template=\"SearchResult\"/>\n    }\n}\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { CountryList } from './../../helper/constants.js';\n\n\n// Extend Validation with custom rules \nValidation.extendErrors({\n    isRequired: {\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isMinLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length >=4);\n      }\n    },\n    minLengthCheck : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).length >= 6);\n      }\n    },\n    isChecked : {\n      rule : function(value) {\n            console.log(value)\n      }\n    }\n});\n\nexport default class Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error   : \"\",\n      success : \"\"      \n    };\n  }\n\n  componentDidMount() {\n    if(Meteor.userId()){\n      if(Roles.subscription.ready()) {\n        if (Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n            FlowRouter.go('/admin/homestays')\n        } else if (Roles.userIsInRole(Meteor.userId(), 'Student')) {\n            FlowRouter.go('home')\n        } else if (Roles.userIsInRole(Meteor.userId(), 'Homestay')){\n            FlowRouter.go('/homestay')\n        } else if (Roles.userIsInRole(Meteor.userId(), 'Agency')) {\n            FlowRouter.go('/agency/profile')\n        } else if (Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n            FlowRouter.go('/universityresidence')\n        }\n      }\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    var self = this;\n    // console.log($(event.currentTarget).find('label').find(\"input#terms[type=checkbox]:checked\").length)\n    if($(event.currentTarget).find('label').hasClass(\"active\")) {\n      $(event.currentTarget).find('#signUpButton').prop('disabled',true)\n      /*const user_firstname       = ReactDOM.findDOMNode(this.refs.firstName).value.trim(),\n            user_lastname        = ReactDOM.findDOMNode(this.refs.lastName).value.trim(),\n            user_mobile          = ReactDOM.findDOMNode(this.refs.mobile).value.trim(),\n            user_email           = ReactDOM.findDOMNode(this.refs.email).value.trim(),\n            user_password        = ReactDOM.findDOMNode(this.refs.password).value.trim(),\n            user_role            = ReactDOM.findDOMNode(this.refs.role).value.trim(),\n            user_country         = ReactDOM.findDOMNode(this.refs.country).value.trim();*/\n      const user_firstname       = $(event.currentTarget).find('#firstName').val().trim(),\n            user_lastname        = $(event.currentTarget).find('#lastName').val().trim(),\n            user_mobile          = $(event.currentTarget).find('#mobile').val().trim(),\n            user_email           = $(event.currentTarget).find('#email').val().trim(),\n            user_password        = $(event.currentTarget).find('#password').val().trim(),\n            user_role            = $(event.currentTarget).find('#role').val().trim(),\n            user_country         = $(event.currentTarget).find('#country').val().trim();\n      var  status               = '';\n      if (user_role == 'Student') {\n          status          = 'active'\n      } else {\n          status          = 'inactive'\n      }\n      var profile = {\n          firstName : user_firstname,\n          lastName  : user_lastname,\n          name      : user_firstname+' '+user_lastname,\n          mobile    : user_mobile,\n          role      : user_role,\n          country   : user_country,\n          status    : status \n      }\n      // var account = {\n      //     firstName : user_firstname,\n      //     lastName  : user_lastname,\n      //     email     : user_email.toLowerCase(),\n      //     mobile    : user_mobile,\n      //     country   : user_country\n      // }\n       if (user_role == \"Homestay\") {\n        profile[\"homestayId\"] = \"\"\n       }\n      var _this= $(event.currentTarget)\n      // create user\n      Accounts.createUser({\n          email       : user_email.toLowerCase(),\n          password    : user_password,\n          profile     : profile\n      }, function (error) {\n          _this.find('#signUpButton').prop('disabled',false)\n          if (error) {\n              self.setState({'error': error.reason});\n          } else {\n              self.setState({'success': 'Successfully registered'});\n              if (user_role == 'Student')\n                FlowRouter.go('/')\n              else if (user_role == 'Homestay')\n                FlowRouter.go('/homestay')\n              else if (user_role == 'Agency')\n                FlowRouter.go('/agency/profile')\n              else if (user_role == 'University residence')\n                FlowRouter.go('/universityresidence')\n          }\n      });\n    } else {\n      self.setState({'error': \"Please accept terms and conditions\"});\n    }\n  }\n\n  customCheckbox (event){\n      event.preventDefault();\n      console.log($(event.currentTarget))\n      $(event.currentTarget).find('label').toggleClass('active'); \n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('label').find('#terms').prop('checked', true);\n      }else{\n        console.log(2)\n          $(event.currentTarget).find('label').find('#terms').prop('checked', false);\n      }\n  }\n\n  renderRegisterForm() {\n    var errorDiv = '';\n    if(this.state.error) {\n      errorDiv = <div className=\"error-message\">\n                {this.state.error}  \n              </div>\n    } \n    if(this.state.success) {\n      errorDiv = <div className=\"success-message\">\n                  {this.state.success}\n                </div>\n    }\n    let options = CountryList.map(function (country,index){\n      return (\n          <option key={index} value={country}>{country}</option>\n      )\n    });\n    return (\n      <section className=\"main-content-wrapper signup\">\n        <div className=\"container\">\n          <div className=\"user-accounts-wrapper\">\n            <div className=\"user-logo\"><a href=\"/\"><img src=\"../images/logo.png\" alt /></a></div>\n            <div className=\"header-wrap\">Sign up Now</div>\n            <Validation.Form id=\"form-register\" role=\"form\" onSubmit={this.handleSubmit.bind(this)} className=\"user-form-wrap\">\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                 {errorDiv}\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"firstName\" className=\"control-label\">First Name </label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      name=\"firstName\" \n                      ref=\"firstName\" \n                      id=\"firstName\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your First Name'\n                        }\n                      ]}\n                      placeholder=\"Enter First Name\"/>\n                  </div>\n                </div>\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"lastName\" className=\"control-label\">Last Name </label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      name=\"lastName\" \n                      id=\"lastName\" \n                      ref=\"lastName\"\n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your Last Name'\n                        }\n                      ]}\n                      placeholder=\"Enter Last Name\" />\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"mobile\" className=\"control-label\">Mobile</label>\n                    <Validation.Input \n                      type=\"text\" \n                      className=\"form-control\" \n                      id=\"mobile\" \n                      ref=\"mobile\" \n                      name=\"mobile\" \n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your Mobile Number'\n                        },\n                        {\n                          rule: 'isMinLength',\n                          errorMessage: 'Enter a valid contact number'\n                        },\n                        {\n                          rule: 'isNumeric',\n                          errorMessage: 'Enter a valid Mobile Number'\n                        }\n                      ]}\n                      placeholder=\"Enter Mobile\" />\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"email\" className=\"control-label\">Email</label>\n                    <Validation.Input \n                      type=\"email\" \n                      className=\"form-control\" \n                      id=\"email\" \n                      name=\"email\" \n                      ref=\"email\"\n                      blocking='input'\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your Email ID'\n                        },\n                        {\n                          rule : 'isEmail',\n                          errorMessage: \"Enter a valid Email\"\n                        }\n                      ]} \n                      placeholder=\"Enter Email\" />\n                  </div> \n                </div>\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"Password\" className=\"control-label\">Password</label>\n                    <Validation.Input \n                      type=\"password\" \n                      className=\"form-control\" \n                      id=\"password\" \n                      name=\"password\" \n                      ref=\"password\"\n                      maxLength = \"15\"\n                      blocking='input' \n                      validations={[\n                        {\n                          rule: 'isRequired', \n                          errorMessage: 'Please enter your password'\n                        },\n                        {\n                          rule : \"minLengthCheck\",\n                          errorMessage : \"Password should have minimum 6 characters\"\n                        }\n                      ]}\n                      placeholder=\"Enter Password\" \n                      autoComplete=\"off\" />\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"role\" className=\"control-label\">Role</label>\n                    <select id=\"role\" className=\"form-control\" ref=\"role\" name=\"role\">\n                      <option value=\"Student\">Student</option>\n                      <option value=\"Homestay\">Homestay</option>\n                      <option value=\"Agency\">Agency</option>\n                      <option value=\"University residence\">University residence</option>\n                    </select>\n                  </div> \n                </div>\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"country\" className=\"control-label\">Country</label>\n                    <select id=\"country\" defaultValue=\"Canada\" className=\"form-control\" ref=\"country\" name=\"country\">\n                      {options}\n                    </select>\n                  </div> \n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-sm-6\">\n                  <div className=\"form-group middle-block\">\n                    <div className=\"custom-checkbox terms\" onClick={this.customCheckbox.bind(this)}>\n                      <label>\n                        <input \n                          id=\"newsUpdates terms\" \n                          type=\"checkbox\" \n                          ref=\"terms\"\n                          defaultValue = \"true\" \n                          name=\"terms\" /> I Accept Terms and Conditions\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-sm-12\">\n                  <div className=\"form-group text-center\">\n                    <Validation.Button type=\"submit\" id=\"signUpButton\" className=\"btn primary-btn lg btn-block\" value=\"Sign Up\" />\n                    <a className=\"option-for-user user-login\" href=\"/login\">Already have an account?</a>\n                  </div>\n                </div>\n              </div>\n            </Validation.Form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n\n  render() {\n    \n    return this.renderRegisterForm()\n  }\n  };\n  ","import React, {Component} from 'react';\n\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nexport default class ThankYouPage extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"main-content-wrapper common-layout-box\">\n\t\t\t\t<section className=\"common-layout-box-wrap thank-you-page\">\n\t\t\t\t\t<div className=\"header-wrap\">Thank you for your booking</div>\n\t\t\t\t\t<article className=\"common-layout-content\">\n\t\t\t\t\t\t<div className=\"clearfix text-center\">\n\t\t\t\t\t\t\t<a href=\"/\" className=\"btn primary-btn\">Back to Home</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</article>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t)\n\t}\n}\n","import React, {Component} from 'react';\n\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nexport default class UniversityProfile extends Component{\n\tcomponentDidMount() {\n\t\tif(Roles.subscription.ready()) {\n\t\t\tif (!Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n\t\t\t\tFlowRouter.go('noaccess')\n\t\t\t}\n\t\t}\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<section>\n\t\t\t   <h2> ToDo : University Profile </h2>\n\t\t\t</section>\n\t\t);\n\t}\n};","import React, {Component, PropTypes} from 'react';\nimport Blaze from 'meteor/gadicc:blaze-react-component';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { updateHomestay } from './../../api/admin/homestays/methods.js';\nimport { CountryList } from './../../helper/constants.js';\nimport { CityList } from './../../helper/constants.js';\nimport { FoodRestrictions } from './../../helper/constants.js';\nimport { PetTypes } from './../../helper/constants.js';\nimport { Meals } from './../../helper/constants.js';\n// import BasicForm from './BasicForm';\n// import PriceForm from './PriceForm';\n// import ServiceForm from './ServiceForm';\n\n// Extend Validation with custom rules\nValidation.extendErrors({\n\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom\n        message: 'should be email'\n    },\n    isNumber : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[0-9\\s]+$/));\n        }\n    },\n    isMinLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length >=4);\n      }\n    },\n    isMaxLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length <=3);\n      }\n    },\n    isYoutubeUrl : {\n      rule: function(value) {\n        if (validator.trim(value)) {\n          return Boolean(validator.trim(value).match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/));\n        } else {\n          return true\n        }\n      }\n    },\n    imageValidation : {\n      rule : function (value) {\n        if (validator.trim(value)) {\n          var imageArray = validator.trim(value).split('.');\n          var imageArrayLength = imageArray.length;\n          var extension = imageArray[imageArrayLength-1]\n          return extension.match( new RegExp( /^png|jpe?g|gif/ ) );\n        } else {\n          return true\n        }\n      }\n    },\n    isValidPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).match(/^\\d*(?:\\.\\d{1,2})?$/));\n      }\n    },\n    isMinPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value) >= 1);\n      }\n    }\n});\n\nexport default class UpdateHomestay extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error           : '',\n      success         : ''\n    };\n  }\n\n  componentDidMount() {\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), ['Admin','Homestay','University residence'])) {\n        FlowRouter.go('noaccess')\n      }\n      if(Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n        if (FlowRouter.getRouteName() !== \"admin-manageHomestay\") {\n          FlowRouter.go('noaccess')\n        }\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n        if (FlowRouter.getRouteName() !== \"homestay\") {\n          FlowRouter.go('noaccess')\n        }\n      } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n        if (FlowRouter.getRouteName() !== \"universityresidence\") {\n          FlowRouter.go('noaccess')\n        }\n      }\n    }\n  }\n  // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  //render base html\n  renderHtml () {\n    console.log(\"11111--->\", this.props.homestay);\n    // Loader template\n    if (this.props.homestayLoading) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    }else {\n      console.log(\"22222--->\", this.props.homestay);\n      return (\n        <section className=\"dashboard-content-wrapper view-profile\">\n          <section className=\"view-profile-wrapper\">\n            <div className=\"header-wrap\">Manage Homestay</div>\n            {/* Nav tabs */}\n            <div className=\"primary-tabs\">\n\n              <ul className=\"nav nav-tabs\" role=\"tablist\">\n                <li role=\"presentation\" className=\"active\">\n                  <a href=\"#basicSettings\" aria-controls=\"basicSettings\" role=\"tab\" data-toggle=\"tab\">Basic Settings</a>\n                </li>\n                <li role=\"presentation\">\n                    <a href=\"#media\" aria-controls=\"media\" role=\"tab\" data-toggle=\"tab\">Media</a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a href=\"#priceSettings\" aria-controls=\"priceSettings\" role=\"tab\" data-toggle=\"tab\">Price Settings</a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a href=\"#services\" aria-controls=\"services\" role=\"tab\" data-toggle=\"tab\">Services</a>\n                  </li>\n              </ul>\n\n              {/* Tab panes */}\n              <div className=\"tab-content\">\n\n                <div role=\"tabpanel\" className=\"tab-pane active\" id=\"media\">\n                  <BasicForm homestayId={this.props.homestay._id} homestay={this.props.homestay} />\n                </div>\n                 <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"basicSettings\">\n                     <Blaze template=\"media\" data={this}/>\n                  </div>\n                  <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"priceSettings\">\n                    < PriceForm homestayId={this.props.homestay._id} homestay={this.props.homestay} />\n                  </div>\n                  <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"services\">\n                    < ServiceForm homestayId={this.props.homestay._id} homestay={this.props.homestay} />\n                  </div>\n              </div>\n            </div>\n          </section>\n        </section>\n      )\n    }\n  }\n\n  render() {\n    return this.renderHtml()\n  }\n};\n// To set theme for material-ui components\nUpdateHomestay.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n// Import db data\nexport default createContainer(() => {\n  let homestayId = \"\"\n  console.log(\"FlowRouter\", FlowRouter)\n  if(FlowRouter.getQueryParam('homestayId')) {\n    homestayId = FlowRouter.getQueryParam('homestayId');\n  } else {\n    console.log(\"Meteor.user().profile.homestayId\", Meteor.user())\n    homestayId = Meteor.user().profile.homestayId;\n  }\n  const HomestayHandle = Meteor.subscribe('homestayDetail', homestayId);\n  console.log(\"homestayId-->\", homestayId)\n  return {\n      currentUser     : Meteor.user(),\n      homestayLoading : !HomestayHandle.ready(),\n      homestay : Homestays.find({_id:homestayId}).fetch()[0]\n  }\n}, UpdateHomestay);\n\n// Render Basic detail form\nexport class BasicForm extends Component {\n\n  constructor(props) {\n    super(props);\n    if(!this.props.homestay.petTypes) {\n      this.props.homestay.petTypes = [];\n    }    \n    this.state = {\n      error : \"\",\n      success : \"\" ,\n      aboutLength  : 360,\n      aboutPetLength : 360,\n      hobbiesLength  : 360,\n    };\n  }\n  componentDidMount(){\n    this.setState({\"aboutLength\": this.state.aboutLength - this.props.homestay.aboutHomestay.length});\n    if(this.props.homestay.aboutPets) {\n      this.setState({\"aboutPetLength\": this.state.aboutPetLength - this.props.homestay.aboutPets.length})\n    }\n  }\n  //submit event of basic detail form\n  handleSubmit(event) {\n    event.preventDefault();\n    var self = this;\n   this.setState({'error' : ''})\n   this.setState({'success' : ''})\n    if(!$(event.currentTarget).find('#aboutHomestay').val() || !$(event.currentTarget).find('#address').val() || !$(event.currentTarget).find('#aboutPets').val())  {\n      if(!$(event.currentTarget).find('#aboutHomestay').val()){\n          $(event.currentTarget).find('#aboutError').html('Please add description about your homestay.')\n          $(event.currentTarget).find('#aboutHomestay').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#updateHomestayBtn').prop('disabled',true)\n      }\n      if (!$(event.currentTarget).find('#address').val()) {\n          $(event.currentTarget).find('#addressError').html('Please add homestay address.')\n          $(event.currentTarget).find('#address').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#updateHomestayBtn').prop('disabled',true)\n      }\n      if(!$(event.currentTarget).find('#aboutPets').val()){\n        $(event.currentTarget).find('#aboutPetsError').html('Please add description about your pets.')\n        $(event.currentTarget).find('#aboutPets').addClass('ui-input_state_invalid');\n        $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      if(!$(event.currentTarget).find('#hobbies').val()){\n        $(event.currentTarget).find('#hobbiesError').html('Please add description about your hobbies.')\n        $(event.currentTarget).find('#hobbies').addClass('ui-input_state_invalid');\n        $(event.currentTarget).find('#createHomestayBtn').prop('disabled',true)\n      }\n      return false\n    } else {\n      $(event.currentTarget).find('#updateHomestayBtn').prop('disabled',false)\n      $(event.currentTarget).find('#addressError').html('')\n      $(event.currentTarget).find('#aboutError').html('')\n      $(event.currentTarget).find('#aboutPetsError').html('')\n      $(event.currentTarget).find('#hobbiesError').html('')\n      $(event.currentTarget).find('#address').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#aboutHomestay').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#aboutPets').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#hobbies').removeClass('ui-input_state_invalid');\n\n        var name        = $(event.currentTarget).find('#name').val().trim(),\n          first_name    = $(event.currentTarget).find('#first_name').val().trim(),\n          last_name     = $(event.currentTarget).find('#last_name').val().trim(),\n          country       = $(event.currentTarget).find('#country').val().trim(),\n          city          = $(event.currentTarget).find('#city').val().trim(),\n          email         = $(event.currentTarget).find('#email').val().trim(),\n          phone         = $(event.currentTarget).find('#phone').val().trim(),\n          home          = $(event.currentTarget).find('#home').val().trim(),\n          roomsNumber   = $(event.currentTarget).find('#roomsNumber').val().trim(),\n          peopleLiving  = $(event.currentTarget).find('#peopleLiving').val().trim(),\n          smoker        = $(event.currentTarget).find(\"input.smoker[type=radio]:checked\").val(),\n          pets          = $(event.currentTarget).find(\"input.pets[type=radio]:checked\").val(),\n          address       = $(event.currentTarget).find('#address').val().trim(),\n          postalCode    = $(event.currentTarget).find('#postalCode').val().trim(),\n          aboutHomestay = $(event.currentTarget).find('#aboutHomestay').val().trim(),\n          aboutPets     = $(event.currentTarget).find('#aboutPets').val().trim(),\n          hobbies       = $(event.currentTarget).find('#hobbies').val().trim(),\n          aboutPets     = $(event.currentTarget).find('#aboutPets').val().trim(),\n          tenant_gender = $(event.currentTarget).find(\"input.tenant_gender[type=radio]:checked\").val(),\n          tenant_smoker = $(event.currentTarget).find(\"input.tenant_smoker[type=radio]:checked\").val();\n        var foodRestrictions = [];\n        var mealsOptions     = [];\n        var petTypes         = [];\n        $(event.currentTarget).find(\"input.restrictions[type=checkbox]:checked\").each(function() {\n          foodRestrictions.push($(this).val());\n        });\n        $(event.currentTarget).find(\"input.pettypes[type=checkbox]:checked\").each(function() {\n          petTypes.push($(this).val());\n        });\n        $(event.currentTarget).find(\"input.meals[type=checkbox]:checked\").each(function() {\n          mealsOptions.push($(this).val());\n        });\n\n        if (!tenant_gender) {\n          tenant_gender = null\n        }\n        if (!tenant_smoker) {\n          tenant_smoker = null\n        }\n\n        var homestay = {\n          name              : name,\n          first_name        : first_name,\n          last_name         : last_name,\n          country           : country,\n          city              : city,\n          email             : email,\n          phone             : phone,\n          home              : home,\n          roomsNumber       : Number(roomsNumber),\n          peopleLiving      : Number(peopleLiving),\n          smoker            : smoker,\n          pets              : pets,\n          address           : address,\n          postalCode   \t\t  : postalCode,\n          aboutHomestay     : aboutHomestay,\n          aboutPets         : aboutPets,\n          hobbies           : hobbies,\n          aboutPets         : aboutPets,\n          tenant_gender     : tenant_gender,\n          tenant_smoker     : tenant_smoker,\n          updated_at        : new Date(),\n          foodRestrictions  : foodRestrictions,\n          petTypes          : petTypes,\n          mealsOptions      : mealsOptions\n        }\n        let updateHomestay_args = {\n          homestayId : this.props.homestay._id,\n          options : homestay\n        }\n        //Meteor method to update homestay data\n        updateHomestay.call(updateHomestay_args, (error, response) => {\n            if (error) {\n                self.setState({'error':error.reason});\n                document.getElementById('dLabel').scrollIntoView();\n            } else {\n                self.setState({'success':'Successfully Updated homestay'});\n                document.getElementById('dLabel').scrollIntoView();\n            }\n        });\n    }\n  }\n  // functio to show error message\n  getMessage () {\n    if(this.state.error) {\n      return ( <div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n  // Function to style radio button on Click event\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n  homeNumberValidation(event) {\n    let number = $(event.currentTarget).val();\n    if (!number) {\n      $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',false)\n      return true\n    } else {\n      if (Boolean(validator.trim(number).match(/^[0-9\\s]+$/)) && Boolean(validator.trim(number).length >=4)) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n        $(event.currentTarget).removeClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',false)\n        return true\n      } else {\n        let errorHtml = '<span class=\"ui-hint\">'+'Enter a valid contact number'+'</span>';\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('Enter a valid contact number')\n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',true)\n        return false\n      }\n    }\n  }\n  textareaValidation(event) {\n    let text = $(event.currentTarget).val();\n    if (!text) {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please add description about your homestay.')\n      } else if($(event.currentTarget).hasClass('address')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Please add homestay address')\n      } else if($(event.currentTarget).hasClass('aboutPets')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutPetsError').html('Please add description about your pets.')\n      } else if($(event.currentTarget).hasClass('hobbies')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#hobbiesError').html('Please add description about your hobbies.')\n      }\n\n      $(event.currentTarget).addClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',true)\n      return false\n    } else if(text.length >360) {\n        if($(event.currentTarget).hasClass('aboutHomestay')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please enter a description within 360 characters')\n        } else if($(event.currentTarget).hasClass('address')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Only 360 characters permitted')\n        } else if($(event.currentTarget).hasClass('aboutPets')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#aboutPetsError').html('Please enter a description within 360 characters')\n        } else if($(event.currentTarget).hasClass('hobbies')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#hobbiesError').html('Please enter a description within 360 characters')\n        }\n\n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',true)\n        return false\n    } else {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('')\n      } else if($(event.currentTarget).hasClass('address')) {\n         $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('')\n      } else if($(event.currentTarget).hasClass('aboutPets')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutPetsError').html('')\n     } else if($(event.currentTarget).hasClass('hobbies')) {\n      $(event.currentTarget).parents('#form-basicDetail').find('#hobbiesError').html('')\n    }\n\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      if($(event.currentTarget).parents('#form-basicDetail').find('#aboutHomestay').val() && $(event.currentTarget).parents('#form-basicDetail').find('#address').val() \n          && $(event.currentTarget).parents('#form-basicDetail').find('#aboutPets').val() && $(event.currentTarget).parents('#form-basicDetail').find('#hobbies').val()) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',false)\n      }\n      return true\n    }\n  }\n  lengthCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'aboutLength' : 360 - charLength})\n  }\n  lengthPetsCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'aboutPetLength' : 360 - charLength})\n  }\n  lengthHobbiesCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'hobbiesLength' : 360 - charLength})\n  }\n  renderBasicForm () {\n    let self = this;\n    //To loop through country array\n    let country_options = CountryList.map(function (country,index){\n      return (\n          <option key={\"county_list\" + index} value={country}>{country}</option>\n      )\n    });\n    //To loop through city array\n    let city_options = CityList.map(function (city, index){\n      return (\n          <option key={\"city_list\" + index} value={city}>{city}</option>\n      )\n    })\n\n    let food_restrictions = FoodRestrictions.map(function (restriction,index){\n      if (index >=1) {\n        return (\n          <div>\n            <label className=\"col-sm-4 control-label\"></label>\n            <div className=\"col-sm-8\">\n              <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                <label className={(self.props.homestay.foodRestrictions.indexOf(restriction)>-1) ? \"active\" : \"\"}>\n                  <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={restriction} ref=\"restrictions\" defaultChecked={(self.props.homestay.foodRestrictions.indexOf(restriction)>-1) ? \"checked\" : \"\"} /> {restriction}\n                </label>\n              </div>\n            </div>\n          </div>\n        )\n      }\n    })\n    let pet_types = PetTypes.map(function (pet,index){\n      if (index >=1) {\n        return (\n          <div>\n            <label className=\"col-sm-4 control-label\"></label>\n            <div className=\"col-sm-8\">\n              <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                <label className={(self.props.homestay.petTypes.indexOf(pet)>-1) ? \"active\" : \"\"}>\n                  <input type=\"checkbox\" className=\"pettypes\" name=\"pettypes\" value={pet} ref=\"pettypes\" defaultChecked={(self.props.homestay.petTypes.indexOf(pet)>-1) ? \"checked\" : \"\"} /> {pet}\n                </label>\n              </div>\n            </div>\n          </div>\n        )\n      }\n    })\n    let meals_options = Meals.map(function (meal,index){\n      if (index >=1) {\n        return (\n          <div>\n            <label className=\"col-sm-4 control-label\"></label>\n            <div className=\"col-sm-8\">\n              <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                <label className={(self.props.homestay.mealsOptions.indexOf(meal)>-1) ? \"active\" : \"\"}>\n                  <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={meal} ref=\"meals\" defaultChecked={(self.props.homestay.mealsOptions.indexOf(meal)>-1) ? \"checked\" : \"\"} /> {meal}\n                </label>\n              </div>\n            </div>\n          </div>\n        )\n      }\n    })\n    return (\n      <Validation.Form className=\"form-horizontal\" id=\"form-basicDetail\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n          {this.getMessage()}\n        </div>\n        <h2 className=\"profile-category\">homestay specifications</h2>\n        <div className=\"form-group\">\n\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\" className=\"col-sm-4 control-label\">Name of Homestay <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"name\"\n              ref=\"name\"\n              name=\"name\"\n              placeholder=\"Eg:- Adams Homestay\"\n              validations={[\n              {\n                rule: 'isRequired',\n                errorMessage: 'Please enter Name Of Homestay'\n              }\n              ]}\n              value={this.props.homestay.name}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"first_name\" className=\"col-sm-4 control-label\">First Name <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n              <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"first_name\"\n              ref=\"first_name\"\n              name=\"first_name\"\n              placeholder=\"Eg:- Adam\"\n              blocking=\"input\"\n              validations={[\n              {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter First Name'\n              }\n              ]}\n              value={this.props.homestay.first_name}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"last_name\" className=\"col-sm-4 control-label\">Last Homestay <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n              <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"last_name\"\n              ref=\"last_name\"\n              name=\"last_name\"\n              placeholder=\"Eg:- Levine\"\n              blocking=\"input\"\n              validations={[\n              {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Last Name'\n              }\n              ]}\n              value={this.props.homestay.last_name}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\" className=\"col-sm-4 control-label\">Email Address <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            ref=\"email\"\n            value={this.props.homestay.email}\n            name=\"email\"\n            validations={[\n            {\n              rule: 'isRequired',\n              errorMessage: 'Please enter Email Address'\n            },\n            {\n              rule : 'isEmail',\n              errorMessage: \"Enter a valid Email\"\n            }\n            ]}\n            placeholder=\"Eg:- adamshomestay@mail.com\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"phone\" className=\"col-sm-4 control-label\">Phone Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"phone\"\n              ref=\"phone\"\n              name=\"phone\"\n              placeholder=\"Eg:-  XXX-XXX-XXXX \"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter contact number'\n                },\n                {\n                  rule: 'isMinLength',\n                  errorMessage: 'Enter a valid contact number'\n                },\n                {\n                  rule: 'isNumber',\n                  errorMessage: 'Enter a valid contact number'\n                }\n              ]}\n              value={(this.props.homestay.phone).toString()} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"home\" className=\"col-sm-4 control-label\">Home Phone Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"home\"\n              ref=\"home\"\n              name=\"home\"\n              placeholder=\"Eg:-  XXX-XXX-XXXX \"\n              defaultValue={(this.props.homestay.home)?this.props.homestay.home:'' }\n              onChange={this.homeNumberValidation.bind(this)} />\n              <span className=\"ui-hint\" id=\"homeError\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"numberRooms\" className=\"col-sm-4 control-label\">Number of Rooms/Beds <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              ref=\"roomsNumber\"\n              name=\"roomsNumber\"\n              id=\"roomsNumber\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter number of rooms'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              value={(this.props.homestay.roomsNumber).toString()} placeholder={2} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"peopleLiving\" className=\"col-sm-4 control-label\">Number of People Living <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"peopleLiving\"\n              ref=\"peopleLiving\"\n              name=\"peopleLiving\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Number of people living'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              placeholder={4} value={(this.props.homestay.peopleLiving).toString()} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className={(this.props.homestay.smoker === \"No\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" defaultValue=\"No\" ref=\"smoker\" className=\"smoker\" defaultChecked={(this.props.homestay.smoker === \"No\") ? \"checked\" : \"\"} /> No\n                </label>\n                <label className={(this.props.homestay.smoker === \"Yes\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" ref=\"smoker\" className=\"smoker\" defaultValue=\"Yes\" defaultChecked={(this.props.homestay.smoker === \"Yes\") ? \"checked\" : \"\"}/> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Has Pets <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className={(this.props.homestay.pets === \"No\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" className=\"pets\" name=\"pets\" defaultValue=\"No\" defaultChecked={(this.props.homestay.pets === \"No\") ? \"checked\" : \"\"} /> No\n                </label>\n                <label className={(this.props.homestay.pets === \"Yes\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" name=\"pets\" className=\"pets\" defaultValue=\"Yes\" defaultChecked={(this.props.homestay.pets === \"Yes\") ? \"checked\" : \"\"}/> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"foodRestrictions\" className=\"col-sm-4 control-label\">Pet Types <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(this.props.homestay.petTypes.indexOf(PetTypes[0])>-1) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"pettypes\" name=\"pettypes\" value={PetTypes[0]} ref=\"pettypes\" defaultChecked={(this.props.homestay.petTypes.indexOf(PetTypes[0])>-1) ? \"checked\" : \"\"} /> {PetTypes[0]}\n              </label>\n            </div>\n          </div>\n          {pet_types}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"aboutPets\" className=\"col-sm-4 control-label\">About Pets <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control aboutPets\" id=\"aboutPets\" ref=\"aboutPets\" name=\"aboutPets\" placeholder=\"Add description about your pets\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthPetsCount.bind(this)} maxLength={360} defaultValue={this.props.homestay.aboutPets}/>\n            <span className=\"ui-hint\" id=\"aboutPetsError\"></span>\n            <p >{this.state.aboutPetLength} characters remaining</p>\n          </div>\n        </div> <br />\n        <div className=\"form-group\">\n          <label htmlFor=\"foodRestrictions\" className=\"col-sm-4 control-label\">Offers Food Options <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(this.props.homestay.foodRestrictions.indexOf(FoodRestrictions[0])>-1) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={FoodRestrictions[0]} ref=\"restrictions\" defaultChecked={(this.props.homestay.foodRestrictions.indexOf(FoodRestrictions[0])>-1) ? \"checked\" : \"\"} /> {FoodRestrictions[0]}\n              </label>\n            </div>\n          </div>\n          {food_restrictions}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"meals\" className=\"col-sm-4 control-label\">Meals Offered <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(this.props.homestay.mealsOptions.indexOf(Meals[0])>-1) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={Meals[0]} ref=\"meals\" defaultChecked={(this.props.homestay.mealsOptions.indexOf(Meals[0])>-1) ? \"checked\" : \"\"} /> {Meals[0]}\n              </label>\n            </div>\n          </div>\n          {meals_options}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"aboutHomestay\" className=\"col-sm-4 control-label\">About Homestay <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control aboutHomestay\" id=\"aboutHomestay\" ref=\"aboutHomestay\" name=\"aboutHomestay\" placeholder=\"Add description about your homestay\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthCount.bind(this)} maxLength={360} defaultValue={this.props.homestay.aboutHomestay} />\n            <span className=\"ui-hint\" id=\"aboutError\"></span>\n            <p >{this.state.aboutLength} characters remaining</p>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"hobbies\" className=\"col-sm-4 control-label\">Hobbies <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control hobbies\" id=\"hobbies\" ref=\"hobbies\" name=\"hobbies\" placeholder=\"Add description about your hobbies\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthHobbiesCount.bind(this)} maxLength={360} defaultValue={this.props.homestay.hobbies} />\n            <span className=\"ui-hint\" id=\"hobbiesError\"></span>\n            <p >{this.state.hobbiesLength} characters remaining</p>\n          </div>\n        </div> <br />\n        <div className=\"form-group\">\n          <label htmlFor=\"address\" className=\"col-sm-4 control-label\">Address <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control address\" id=\"address\" ref=\"address\" name=\"address\" placeholder=\"Please give full address details here\" onBlur={this.textareaValidation.bind(this)} maxLength={360} defaultValue={this.props.homestay.address}  />\n            <span className=\"ui-hint\" id=\"addressError\"></span>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"Country\" className=\"col-sm-4 control-label\">Name of Location <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Select\n              value={this.props.homestay.country}\n              id=\"country\"\n              className=\"form-control\"\n              ref=\"country\"\n              name=\"country\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select Country'\n                }\n              ]}>\n              {country_options}\n            </Validation.Select>\n            <Validation.Select\n              id=\"city\"\n              value={this.props.homestay.city}\n              className=\"form-control mt-md-nw\"\n              ref=\"city\"\n              name=\"city\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select City'\n                }\n              ]}>\n              <option value=\"\"> Select City </option>\n              {city_options}\n            </Validation.Select>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"postalCode\" className=\"col-sm-4 control-label\">Postal Code <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"postalCode\"\n              name=\"postalCode\"\n              ref=\"postalCode\"\n              placeholder=\"Enter Postal Code\"\n              value={this.props.homestay.postalCode}\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Postal Code'\n                }\n              ]}/>\n          </div>\n        </div> <br />\n        <h2 className=\"profile-category\">tenant requirements</h2>\n        <p>Adding more stratification will result in a limiting number of available hosts</p>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Gender <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label className={(this.props.homestay.tenant_gender === \"Male\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" defaultValue=\"Male\" ref=\"tenant_gender\" id=\"tenant_gender\" className=\"tenant_gender\" defaultChecked={(this.props.homestay.tenant_gender === \"Male\") ? \"checked\" : \"\"}/> Male\n                </label>\n                <label className={(this.props.homestay.tenant_gender === \"Female\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Female\" className=\"tenant_gender\" defaultChecked={(this.props.homestay.tenant_gender === \"Female\") ? \"checked\" : \"\"} /> Female\n                </label>\n                <label className={(this.props.homestay.tenant_gender === \"Both\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Both\" className=\"tenant_gender\" defaultChecked={(this.props.homestay.tenant_gender === \"Both\") ? \"checked\" : \"\"} /> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label onClick={this.radioSwitch.bind(this)} className={(this.props.homestay.tenant_smoker === \"No\") ? \"active\" : \"\"} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" defaultValue=\"No\" ref=\"tenant_smoker\" className=\"tenant_smoker\" defaultChecked={(this.props.homestay.tenant_smoker === \"No\") ? \"checked\" : \"\"}/> No\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} className={(this.props.homestay.tenant_smoker === \"Yes\") ? \"active\" : \"\"} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Yes\" className=\"tenant_smoker\" defaultChecked={(this.props.homestay.tenant_smoker === \"Yes\") ? \"checked\" : \"\"}/> Yes\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} className={(this.props.homestay.tenant_smoker === \"Both\") ? \"active\" : \"\"} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Both\" className=\"tenant_smoker\" defaultChecked={(this.props.homestay.tenant_smoker === \"Both\") ? \"checked\" : \"\"}/> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button type=\"submit\" className=\"btn primary-btn lg\" id=\"updateHomestayBtn\" value=\"Update Homestay\" />\n            </div>\n        </div>\n      </Validation.Form>\n    )\n  }\n  render () {\n    return this.renderBasicForm()\n  }\n}\n\n// React component to render price form\nexport class PriceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    var self = this;\n    this.setState({'error' : ''})\n    this.setState({'success' : ''})\n    // var dailyPrice = ReactDOM.findDOMNode(this.refs.dailyPrice).value.trim(),\n    //     weeklyPrice = ReactDOM.findDOMNode(this.refs.weeklyPrice).value.trim();\n    var dailyPrice  = $(event.currentTarget).find('#dailyPrice').val().trim(),\n        weeklyPrice = $(event.currentTarget).find('#weeklyPrice').val().trim();\n    if(!dailyPrice && !weeklyPrice) {\n      self.setState({'error':'No data entered'});\n    } else {\n      const options = {\n        dailyPrice    : Number(dailyPrice),\n        weeklyPrice   : Number(weeklyPrice)\n      }\n      const updateHomestay_args = {\n        homestayId : self.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated homestay'});\n        }\n      })\n    }\n  }\n  getMessage() {\n    if(this.state.error) {\n      return(\n              <div className=\"col-sm-8\">\n                <div className=\"error-message\">{this.state.error} </div>\n              </div>\n            )\n    }\n    if (this.state.success) {\n      return (\n        <div className=\"col-sm-8\">\n          <div className=\"success-message\">{this.state.success}</div>\n        </div>\n      )\n    }\n  }\n  renderPriceform () {\n    return (\n      <Validation.Form className=\"form-horizontal\" id=\"form-price\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n        {this.getMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"dailyPrice\" className=\"col-sm-4 control-label\">Daily Price ($) <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"dailyPrice\"\n              ref=\"dailyPrice\"\n              id=\"dailyPrice\"\n              placeholder=\"Eg:- 225\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid daily price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage: 'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]}\n              value={(this.props.homestay.dailyPrice)?(this.props.homestay.dailyPrice).toString() : \"0\"} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"weeklyPrice\" className=\"col-sm-4 control-label\">Weekly Price ($) <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"weeklyPrice\"\n              name=\"weeklyPrice\"\n              ref=\"weeklyPrice\"\n              placeholder=\"Eg:- 550\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid weekly price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage: 'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]}\n              value={(this.props.homestay.weeklyPrice)? (this.props.homestay.weeklyPrice).toString() : \"0\"} />\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button className=\"btn primary-btn lg\" type=\"submit\" value=\"Update Changes\" />\n          </div>\n        </div>\n      </Validation.Form>\n    )\n  }\n  render () {\n    return this.renderPriceform()\n  }\n}\n\n\n// React component to render service form\nexport class ServiceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event){\n    event.preventDefault();\n    var self = this;\n    var serviceArray = [];\n    this.setState({'error' : ''})\n    this.setState({'success' : ''})\n    $(event.currentTarget).find(\"input.services[type=checkbox]:checked\").each(function() {\n      serviceArray.push($(this).val());\n    });\n    if(serviceArray.length <=0) {\n      self.setState({'error':'Please select any services'});\n    } else {\n      var options = {\n        services      : serviceArray\n      }\n      let updateHomestay_args = {\n        homestayId : self.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated homestay'});\n        }\n      })\n    }\n  }\n\n  getMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return(<div className=\"col-sm-8\">\n                      <div className=\"success-message\">{this.state.success}</div>\n                    </div>)\n    }\n  }\n\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n  renderServiceForm() {\n    let luggage = false;\n    let wifi = false;\n    let cleaning = false;\n    let laundry = false;\n    let campus = false;\n    let city =false;\n\n    if(this.props.homestay.hasOwnProperty(\"services\")) {\n      for (var i=0; i< this.props.homestay.services.length; i++) {\n        if (this.props.homestay.services[i] === \"Weekly Cleaning of Bedroom\") {\n          cleaning = true\n        } else if(this.props.homestay.services[i] === \"Will do Laundry for Student\") {\n          laundry = true\n        } else if (this.props.homestay.services[i] === \"Free WiFi\") {\n          wifi = true\n        } else if (this.props.homestay.services[i] === \"Luggage Storage\") {\n          luggage = true\n        } else if (this.props.homestay.services[i] === \"Travel to campus with student on their first day by public transportation\") {\n          campus = true\n        } else if (this.props.homestay.services[i] === \"Tour of city in the first week\") {\n          city = true\n        } \n      }\n    }\n    return (\n      <form className=\"form-horizontal\" id=\"form-services\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n         {this.getMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Weekly Cleaning of Bedroom <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(cleaning) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Weekly Cleaning of Bedroom\" ref=\"services\" defaultChecked={(cleaning) ? \"checked\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Will do Laundry for Student <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(laundry) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Will do Laundry for Student\" ref=\"services\" defaultChecked={(laundry) ? \"active\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Free WiFi <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(wifi) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Free Wifi\" ref=\"services\" defaultChecked={(wifi) ? \"active\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Luggage Storage <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(luggage) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Luggage Storage\" ref=\"services\" defaultChecked={(luggage) ? \"active\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Travel to campus with student on their first day by public transportation <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(campus) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Travel to campus with student on their first day by public transportation\" ref=\"services\" defaultChecked={(campus) ? \"active\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Tour of city in the first week <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(city) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Tour of city in the first week\" ref=\"services\" defaultChecked={(city) ? \"active\" : \"\"}  /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\"><button className=\"btn primary-btn lg\" disabled={this.state.servicesBtnDisable} type=\"submit\">Update Changes</button></div>\n        </div>\n      </form>\n    )\n  }\n\n  render () {\n    return this.renderServiceForm()\n  }\n}\n\n\n\n","import React, {Component, PropTypes} from 'react';\nimport Blaze from 'meteor/gadicc:blaze-react-component';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nimport { Homestays } from './../../api/homestays/homestays.js';\nimport { updateHomestay } from './../../api/admin/homestays/methods.js';\nimport { CountryList } from './../../helper/constants.js';\nimport { CityList } from './../../helper/constants.js';\nimport { FoodRestrictions } from './../../helper/constants.js';\nimport { Meals } from './../../helper/constants.js';\n\n// Extend Validation with custom rules\nValidation.extendErrors({\n\n    isRequired: {\n        className: 'ui-input_state_empty',\n        message: 'required',\n        rule: function(value) {\n            return Boolean(validator.trim(value));\n        }\n    },\n    isEmail: {\n        className: 'ui-input_state_email-pattern-failed',\n        // validator already has strong email-pattern, so we don't have to extend it by custom\n        message: 'should be email'\n    },\n    isNumber : {\n      rule: function(value) {\n            return Boolean(validator.trim(value).match(/^[0-9\\s]+$/));\n        }\n    },\n    isMinLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length >=4);\n      }\n    },\n    isMaxLength : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).length <=3);\n      }\n    },\n    isYoutubeUrl : {\n      rule: function(value) {\n        if (validator.trim(value)) {\n          return Boolean(validator.trim(value).match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/));\n        } else {\n          return true\n        }\n      }\n    },\n    imageValidation : {\n      rule : function (value) {\n        if (validator.trim(value)) {\n          var imageArray = validator.trim(value).split('.');\n          var imageArrayLength = imageArray.length;\n          var extension = imageArray[imageArrayLength-1]\n          return extension.match( new RegExp( /^png|jpe?g|gif/ ) );\n        } else {\n          return true\n        }\n      }\n    },\n    isValidPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value).match(/^\\d*(?:\\.\\d{1,2})?$/));\n      }\n    },\n    isMinPrice : {\n      rule: function(value) {\n          return Boolean(validator.trim(value) >= 1);\n      }\n    }\n});\n\nexport default class UpdateHomestay extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error           : '',\n      success         : ''\n    };\n  }\n\n  componentDidMount() {\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), ['Admin','Homestay','University residence'])) {\n        FlowRouter.go('noaccess')\n      }\n      if(Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n        if (FlowRouter.getRouteName() !== \"admin-manageResidence\") {\n          FlowRouter.go('noaccess')\n        }\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n        if (FlowRouter.getRouteName() !== \"homestay\") {\n          FlowRouter.go('noaccess')\n        }\n      } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n        if (FlowRouter.getRouteName() !== \"universityresidence\") {\n          FlowRouter.go('noaccess')\n        }\n      }\n    }\n  }\n  // set theme to material-ui components\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n  //render base html\n  renderHtml () {\n    // Loader template\n    if (this.props.homestayLoading) {\n        return (\n                <div>\n                    <center>\n                        <CircularProgress size={1.5} color=\"#272b35\" />\n                    </center>\n                </div>\n            )\n    }else {\n      return (\n        <section className=\"dashboard-content-wrapper view-profile\">\n          <section className=\"view-profile-wrapper\">\n            <div className=\"header-wrap\">Manage University residence</div>\n            {/* Nav tabs */}\n            <div className=\"primary-tabs\">\n\n              <ul className=\"nav nav-tabs\" role=\"tablist\">\n                <li role=\"presentation\" className=\"active\">\n                  <a href=\"#basicSettings\" aria-controls=\"basicSettings\" role=\"tab\" data-toggle=\"tab\">Basic Settings</a>\n                </li>\n                <li role=\"presentation\">\n                    <a href=\"#media\" aria-controls=\"media\" role=\"tab\" data-toggle=\"tab\">Media</a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a href=\"#priceSettings\" aria-controls=\"priceSettings\" role=\"tab\" data-toggle=\"tab\">Price Settings</a>\n                  </li>\n                  <li role=\"presentation\">\n                    <a href=\"#services\" aria-controls=\"services\" role=\"tab\" data-toggle=\"tab\">Services</a>\n                  </li>\n              </ul>\n\n              {/* Tab panes */}\n              <div className=\"tab-content\">\n\n                <div role=\"tabpanel\" className=\"tab-pane  active\" id=\"basicSettings\">\n                  <BasicForm homestayId={this.props.homestay._id} homestay={this.props.homestay} />\n                </div>\n                 <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"media\">\n                     <Blaze template=\"media\" data={this}/>\n                  </div>\n                  <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"priceSettings\">\n                    < PriceForm homestayId={this.props.homestay._id} homestay={this.props.homestay} />\n                  </div>\n                  <div role=\"tabpanel\" className=\"tab-pane fade\" id=\"services\">\n                    < ServiceForm homestayId={this.props.homestay._id} homestay={this.props.homestay} />\n                  </div>\n              </div>\n            </div>\n          </section>\n        </section>\n      )\n    }\n  }\n\n  render() {\n    return this.renderHtml()\n  }\n};\n// To set theme for material-ui components\nUpdateHomestay.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n// Import db data\nexport default createContainer(() => {\n  let homestayId = \"\"\n  if(FlowRouter.getQueryParam('homestayId')) {\n    homestayId = FlowRouter.getQueryParam('homestayId');\n  } else {\n    homestayId = Meteor.user().profile.homestayId;\n  }\n  const HomestayHandle = Meteor.subscribe('homestayDetail', homestayId);\n  return {\n      currentUser     : Meteor.user(),\n      homestayLoading : !HomestayHandle.ready(),\n      homestay : Homestays.find({_id:homestayId}).fetch()[0]\n  }\n}, UpdateHomestay);\n\n// Render Basic detail form\nexport class BasicForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\" ,\n      aboutLength  : 360\n    };\n  }\n  componentDidMount(){\n    this.setState({\"aboutLength\": this.state.aboutLength - this.props.homestay.aboutHomestay.length})\n  }\n  //submit event of basic detail form\n  handleSubmit(event) {\n    event.preventDefault();\n    var self = this;\n   this.setState({'error' : ''})\n   this.setState({'success' : ''})\n    if(!$(event.currentTarget).find('#aboutHomestay').val() || !$(event.currentTarget).find('#address').val())  {\n      if(!$(event.currentTarget).find('#aboutHomestay').val()){\n          $(event.currentTarget).find('#aboutError').html('Please add description about your homestay.')\n          $(event.currentTarget).find('#aboutHomestay').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#updateHomestayBtn').prop('disabled',true)\n      }\n      if (!$(event.currentTarget).find('#address').val()) {\n          $(event.currentTarget).find('#addressError').html('Please add homestay address.')\n          $(event.currentTarget).find('#address').addClass('ui-input_state_invalid');\n          $(event.currentTarget).find('#updateHomestayBtn').prop('disabled',true)\n      }\n      return false\n    } else {\n      $(event.currentTarget).find('#updateHomestayBtn').prop('disabled',false)\n      $(event.currentTarget).find('#addressError').html('')\n      $(event.currentTarget).find('#aboutError').html('')\n      $(event.currentTarget).find('#address').removeClass('ui-input_state_invalid');\n      $(event.currentTarget).find('#aboutHomestay').removeClass('ui-input_state_invalid');\n        var name        = $(event.currentTarget).find('#name').val().trim(),\n          country       = $(event.currentTarget).find('#country').val().trim(),\n          city          = $(event.currentTarget).find('#city').val().trim(),\n          email         = $(event.currentTarget).find('#email').val().trim(),\n          phone         = $(event.currentTarget).find('#phone').val().trim(),\n          home          = $(event.currentTarget).find('#home').val().trim(),\n          roomsNumber   = $(event.currentTarget).find('#roomsNumber').val().trim(),\n          peopleLiving  = $(event.currentTarget).find('#peopleLiving').val().trim(),\n          smoker        = $(event.currentTarget).find(\"input.smoker[type=radio]:checked\").val(),\n          pets          = $(event.currentTarget).find(\"input.pets[type=radio]:checked\").val(),\n          address       = $(event.currentTarget).find('#address').val().trim(),\n          postalCode    = $(event.currentTarget).find('#postalCode').val().trim(),\n          aboutHomestay = $(event.currentTarget).find('#aboutHomestay').val().trim(),\n          tenant_gender = $(event.currentTarget).find(\"input.tenant_gender[type=radio]:checked\").val(),\n          tenant_smoker = $(event.currentTarget).find(\"input.tenant_smoker[type=radio]:checked\").val();\n        var foodRestrictions = [];\n        var mealsOptions     = [];\n        $(event.currentTarget).find(\"input.restrictions[type=checkbox]:checked\").each(function() {\n          foodRestrictions.push($(this).val());\n        });\n        $(event.currentTarget).find(\"input.meals[type=checkbox]:checked\").each(function() {\n          mealsOptions.push($(this).val());\n        });\n\n        if (!tenant_gender) {\n          tenant_gender = null\n        }\n        if (!tenant_smoker) {\n          tenant_smoker = null\n        }\n\n        var homestay = {\n          name              : name,\n          country           : country,\n          city              : city,\n          email             : email,\n          phone             : phone,\n          home              : home,\n          roomsNumber       : Number(roomsNumber),\n          peopleLiving      : Number(peopleLiving),\n          smoker            : smoker,\n          pets              : pets,\n          address           : address,\n          postalCode   \t\t: postalCode,\n          aboutHomestay     : aboutHomestay,\n          tenant_gender     : tenant_gender,\n          tenant_smoker     : tenant_smoker,\n          updated_at        : new Date(),\n          foodRestrictions  : foodRestrictions,\n          mealsOptions      : mealsOptions\n        }\n        let updateHomestay_args = {\n          homestayId : this.props.homestay._id,\n          options : homestay\n        }\n        //Meteor method to update homestay data\n        updateHomestay.call(updateHomestay_args, (error, response) => {\n            if (error) {\n                self.setState({'error':error.reason});\n                document.getElementById('dLabel').scrollIntoView();\n            } else {\n                self.setState({'success':'Successfully Updated residence'});\n                document.getElementById('dLabel').scrollIntoView();\n            }\n        });\n    }\n  }\n  // functio to show error message\n  getMessage () {\n    if(this.state.error) {\n      return ( <div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n  // Function to style radio button on Click event\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n  homeNumberValidation(event) {\n    let number = $(event.currentTarget).val();\n    if (!number) {\n      $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',false)\n      return true\n    } else {\n      if (Boolean(validator.trim(number).match(/^[0-9\\s]+$/)) && Boolean(validator.trim(number).length >=4)) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('')\n        $(event.currentTarget).removeClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',false)\n        return true\n      } else {\n        let errorHtml = '<span class=\"ui-hint\">'+'Enter a valid contact number'+'</span>';\n        $(event.currentTarget).parents('#form-basicDetail').find('#homeError').html('Enter a valid contact number')\n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',true)\n        return false\n      }\n    }\n  }\n  textareaValidation(event) {\n    let text = $(event.currentTarget).val();\n    if (!text) {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please add description about your homestay.')\n      } else if($(event.currentTarget).hasClass('address')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Please add homestay address')\n      }\n      $(event.currentTarget).addClass('ui-input_state_invalid');\n      $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',true)\n      return false\n    } else if(text.length >360) {\n        if($(event.currentTarget).hasClass('aboutHomestay')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('Please enter a description within 360 characters')\n        } else if($(event.currentTarget).hasClass('address')) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('Only 360 characters permitted')\n        }\n        $(event.currentTarget).addClass('ui-input_state_invalid');\n        $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',true)\n        return false\n    } else {\n      if($(event.currentTarget).hasClass('aboutHomestay')) {\n        $(event.currentTarget).parents('#form-basicDetail').find('#aboutError').html('')\n      } else if($(event.currentTarget).hasClass('address')) {\n         $(event.currentTarget).parents('#form-basicDetail').find('#addressError').html('')\n      }\n      $(event.currentTarget).removeClass('ui-input_state_invalid');\n      if($(event.currentTarget).parents('#form-basicDetail').find('#aboutHomestay').val() && $(event.currentTarget).parents('#form-basicDetail').find('#address').val() ) {\n          $(event.currentTarget).parents('#form-basicDetail').find('#updateHomestayBtn').prop('disabled',false)\n      }\n      return true\n    }\n  }\n  lengthCount(event) {\n    let charLength = $(event.currentTarget).val().length;\n    this.setState({'aboutLength' : 360 - charLength})\n  }\n  renderBasicForm () {\n    let self = this;\n    //To loop through country array\n    let country_options = CountryList.map(function (country,index){\n      return (\n          <option key={index} value={country}>{country}</option>\n      )\n    });\n    //To loop through city array\n    let city_options = CityList.map(function (city, index){\n      return (\n          <option key={index} value={city}>{city}</option>\n      )\n    })\n\n    let food_restrictions = FoodRestrictions.map(function (restriction,index){\n      if (index >=1) {\n        return (\n          <div>\n            <label className=\"col-sm-4 control-label\"></label>\n            <div className=\"col-sm-8\">\n              <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                <label className={(self.props.homestay.foodRestrictions.indexOf(restriction)>-1) ? \"active\" : \"\"}>\n                  <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={restriction} ref=\"restrictions\" defaultChecked={(self.props.homestay.foodRestrictions.indexOf(restriction)>-1) ? \"checked\" : \"\"} /> {restriction}\n                </label>\n              </div>\n            </div>\n          </div>\n        )\n      }\n    })\n    let meals_options = Meals.map(function (meal,index){\n      if (index >=1) {\n        return (\n          <div>\n            <label className=\"col-sm-4 control-label\"></label>\n            <div className=\"col-sm-8\">\n              <div className=\"custom-checkbox\" onClick={self.customCheckbox.bind(this)}>\n                <label className={(self.props.homestay.mealsOptions.indexOf(meal)>-1) ? \"active\" : \"\"}>\n                  <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={meal} ref=\"meals\" defaultChecked={(self.props.homestay.mealsOptions.indexOf(meal)>-1) ? \"checked\" : \"\"} /> {meal}\n                </label>\n              </div>\n            </div>\n          </div>\n        )\n      }\n    })\n    return (\n      <Validation.Form className=\"form-horizontal\" id=\"form-basicDetail\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n          {this.getMessage()}\n        </div>\n        <h2 className=\"profile-category\">University residence specifications</h2>\n        <div className=\"form-group\">\n\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\" className=\"col-sm-4 control-label\">Name of Residence <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"name\"\n              ref=\"name\"\n              name=\"name\"\n              placeholder=\"Eg:- Adams Residence\"\n              validations={[\n              {\n                rule: 'isRequired',\n                errorMessage: 'Please enter Name Of Residence'\n              }\n              ]}\n              value={this.props.homestay.name}/>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\" className=\"col-sm-4 control-label\">Email ID <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"email\"\n            ref=\"email\"\n            value={this.props.homestay.email}\n            name=\"email\"\n            validations={[\n            {\n              rule: 'isRequired',\n              errorMessage: 'Please enter Email ID'\n            },\n            {\n              rule : 'isEmail',\n              errorMessage: \"Enter a valid Email\"\n            }\n            ]}\n            placeholder=\"Eg:- adamsresidence@mail.com\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"phone\" className=\"col-sm-4 control-label\">Phone Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"phone\"\n              ref=\"phone\"\n              name=\"phone\"\n              placeholder=\"Eg:-  +1 250-418-6812 \"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter contact number'\n                },\n                {\n                  rule: 'isMinLength',\n                  errorMessage: 'Enter a valid contact number'\n                },\n                {\n                  rule: 'isNumber',\n                  errorMessage: 'Enter a valid contact number'\n                }\n              ]}\n              value={(this.props.homestay.phone).toString()} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"home\" className=\"col-sm-4 control-label\">Residence Number <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"home\"\n              ref=\"home\"\n              name=\"home\"\n              placeholder=\"Eg:-  +1 250-418-6812 \"\n              defaultValue={(this.props.homestay.home)?this.props.homestay.home:'' }\n              onChange={this.homeNumberValidation.bind(this)} />\n              <span className=\"ui-hint\" id=\"homeError\" />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"numberRooms\" className=\"col-sm-4 control-label\">Number of Rooms/Beds <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              ref=\"roomsNumber\"\n              name=\"roomsNumber\"\n              id=\"roomsNumber\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter number of rooms'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              value={(this.props.homestay.roomsNumber).toString()} placeholder={2} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"peopleLiving\" className=\"col-sm-4 control-label\">Number of People Living <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-2\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"peopleLiving\"\n              ref=\"peopleLiving\"\n              name=\"peopleLiving\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Number of people living'\n                },\n                {\n                  rule: 'isNumeric',\n                  errorMessage: 'Enter a valid number'\n                }\n              ]}\n              placeholder={4} value={(this.props.homestay.peopleLiving).toString()} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className={(this.props.homestay.smoker === \"No\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" defaultValue=\"No\" ref=\"smoker\" className=\"smoker\" defaultChecked={(this.props.homestay.smoker === \"No\") ? \"checked\" : \"\"} /> No\n                </label>\n                <label className={(this.props.homestay.smoker === \"Yes\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"smoker\" id=\"smoker\" ref=\"smoker\" className=\"smoker\" defaultValue=\"Yes\" defaultChecked={(this.props.homestay.smoker === \"Yes\") ? \"checked\" : \"\"}/> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Pets <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch\">\n                <label className={(this.props.homestay.pets === \"No\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" className=\"pets\" name=\"pets\" defaultValue=\"No\" defaultChecked={(this.props.homestay.pets === \"No\") ? \"checked\" : \"\"} /> No\n                </label>\n                <label className={(this.props.homestay.pets === \"Yes\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" ref=\"pets\" id=\"pets\" name=\"pets\" className=\"pets\" defaultValue=\"Yes\" defaultChecked={(this.props.homestay.pets === \"Yes\") ? \"checked\" : \"\"}/> Yes\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"foodRestrictions\" className=\"col-sm-4 control-label\">Food Restrictions <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(this.props.homestay.foodRestrictions.indexOf(FoodRestrictions[0])>-1) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"restrictions\" name=\"restrictions\" value={FoodRestrictions[0]} ref=\"restrictions\" defaultChecked={(this.props.homestay.foodRestrictions.indexOf(FoodRestrictions[0])>-1) ? \"checked\" : \"\"} /> {FoodRestrictions[0]}\n              </label>\n            </div>\n          </div>\n          {food_restrictions}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"meals\" className=\"col-sm-4 control-label\">Meals Offered <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(this.props.homestay.mealsOptions.indexOf(Meals[0])>-1) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"meals\" name=\"meals\" value={Meals[0]} ref=\"meals\" defaultChecked={(this.props.homestay.mealsOptions.indexOf(Meals[0])>-1) ? \"checked\" : \"\"} /> {Meals[0]}\n              </label>\n            </div>\n          </div>\n          {meals_options}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"aboutHomestay\" className=\"col-sm-4 control-label\">About Homestay <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control aboutHomestay\" id=\"aboutHomestay\" ref=\"aboutHomestay\" name=\"aboutHomestay\" placeholder=\"Add description about your homestay\" onBlur={this.textareaValidation.bind(this)} onChange={this.lengthCount.bind(this)} maxLength={360} defaultValue={this.props.homestay.aboutHomestay} />\n            <span className=\"ui-hint\" id=\"aboutError\"></span>\n            <p >{this.state.aboutLength} characters remaining</p>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"address\" className=\"col-sm-4 control-label\">Address <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <textarea rows={3} className=\"form-control address\" id=\"address\" ref=\"address\" name=\"address\" placeholder=\"Please give full address details here\" onBlur={this.textareaValidation.bind(this)} maxLength={360} defaultValue={this.props.homestay.address}  />\n            <span className=\"ui-hint\" id=\"addressError\"></span>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"Country\" className=\"col-sm-4 control-label\">Name of Location <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Select\n              value={this.props.homestay.country}\n              id=\"country\"\n              className=\"form-control\"\n              ref=\"country\"\n              name=\"country\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select Country'\n                }\n              ]}>\n              {country_options}\n            </Validation.Select>\n            <Validation.Select\n              id=\"city\"\n              value={this.props.homestay.city}\n              className=\"form-control mt-md-nw\"\n              ref=\"city\"\n              name=\"city\"\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please Select City'\n                }\n              ]}>\n              <option value=\"\"> Select City </option>\n              {city_options}\n            </Validation.Select>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"postalCode\" className=\"col-sm-4 control-label\">Postal Code <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"postalCode\"\n              name=\"postalCode\"\n              ref=\"postalCode\"\n              placeholder=\"Enter Postal Code\"\n              value={this.props.homestay.postalCode}\n              validations={[\n                {\n                  rule: 'isRequired',\n                  errorMessage: 'Please enter Postal Code'\n                }\n              ]}/>\n          </div>\n        </div> <br />\n        <h2 className=\"profile-category\">tenant requirements</h2>\n        <p>Adding more stratification will result in a limiting number of available hosts</p>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Gender <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label className={(this.props.homestay.tenant_gender === \"Male\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" defaultValue=\"Male\" ref=\"tenant_gender\" id=\"tenant_gender\" className=\"tenant_gender\" defaultChecked={(this.props.homestay.tenant_gender === \"Male\") ? \"checked\" : \"\"}/> Male\n                </label>\n                <label className={(this.props.homestay.tenant_gender === \"Female\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Female\" className=\"tenant_gender\" defaultChecked={(this.props.homestay.tenant_gender === \"Female\") ? \"checked\" : \"\"} /> Female\n                </label>\n                <label className={(this.props.homestay.tenant_gender === \"Both\") ? \"active\" : \"\"} onClick={this.radioSwitch.bind(this)}>\n                  <input type=\"radio\" name=\"tenant_gender\" ref=\"tenant_gender\" id=\"tenant_gender\" defaultValue=\"Both\" className=\"tenant_gender\" defaultChecked={(this.props.homestay.tenant_gender === \"Both\") ? \"checked\" : \"\"} /> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Smoker <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-4\">\n            <div className=\"align-with-cols\">\n              <div className=\"radio-switch radio-switch-3\">\n                <label onClick={this.radioSwitch.bind(this)} className={(this.props.homestay.tenant_smoker === \"No\") ? \"active\" : \"\"} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" defaultValue=\"No\" ref=\"tenant_smoker\" className=\"tenant_smoker\" defaultChecked={(this.props.homestay.tenant_smoker === \"No\") ? \"checked\" : \"\"}/> No\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} className={(this.props.homestay.tenant_smoker === \"Yes\") ? \"active\" : \"\"} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Yes\" className=\"tenant_smoker\" defaultChecked={(this.props.homestay.tenant_smoker === \"Yes\") ? \"checked\" : \"\"}/> Yes\n                </label>\n                <label onClick={this.radioSwitch.bind(this)} className={(this.props.homestay.tenant_smoker === \"Both\") ? \"active\" : \"\"} >\n                  <input type=\"radio\" name=\"tenant_smoker\" id=\"tenant_smoker\" ref=\"tenant_smoker\" defaultValue=\"Both\" className=\"tenant_smoker\" defaultChecked={(this.props.homestay.tenant_smoker === \"Both\") ? \"checked\" : \"\"}/> Both\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button type=\"submit\" className=\"btn primary-btn lg\"  value=\"Update Residence\" />\n            </div>\n        </div>\n      </Validation.Form>\n    )\n  }\n  render () {\n    return this.renderBasicForm()\n  }\n}\n\n// React component to render price form\nexport class PriceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    var self = this;\n    this.setState({'error' : ''})\n    this.setState({'success' : ''})\n    // var dailyPrice = ReactDOM.findDOMNode(this.refs.dailyPrice).value.trim(),\n    //     weeklyPrice = ReactDOM.findDOMNode(this.refs.weeklyPrice).value.trim();\n    var dailyPrice  = $(event.currentTarget).find('#dailyPrice').val().trim(),\n        weeklyPrice = $(event.currentTarget).find('#weeklyPrice').val().trim();\n    if(!dailyPrice && !weeklyPrice) {\n      self.setState({'error':'No data entered'});\n    } else {\n      const options = {\n        dailyPrice    : Number(dailyPrice),\n        weeklyPrice   : Number(weeklyPrice)\n      }\n      const updateHomestay_args = {\n        homestayId : self.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated Residence'});\n        }\n      })\n    }\n  }\n  getMessage() {\n    if(this.state.error) {\n      return(\n              <div className=\"col-sm-8\">\n                <div className=\"error-message\">{this.state.error} </div>\n              </div>\n            )\n    }\n    if (this.state.success) {\n      return (\n        <div className=\"col-sm-8\">\n          <div className=\"success-message\">{this.state.success}</div>\n        </div>\n      )\n    }\n  }\n  renderPriceform () {\n    return (\n      <Validation.Form className=\"form-horizontal\" id=\"form-price\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n        {this.getMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"dailyPrice\" className=\"col-sm-4 control-label\">Daily Price ($) <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"dailyPrice\"\n              ref=\"dailyPrice\"\n              id=\"dailyPrice\"\n              placeholder=\"Eg:- 225\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid daily price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage: 'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]}\n              value={(this.props.homestay.dailyPrice)?(this.props.homestay.dailyPrice).toString() : \"0\"} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"weeklyPrice\" className=\"col-sm-4 control-label\">Weekly Price ($) <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-3\">\n            <Validation.Input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"weeklyPrice\"\n              name=\"weeklyPrice\"\n              ref=\"weeklyPrice\"\n              placeholder=\"Eg:- 550\"\n              validations={[\n                {\n                  rule: 'isDecimal',\n                  errorMessage: 'Enter a valid weekly price.'\n                },\n                {\n                  rule: 'isValidPrice',\n                  errorMessage: 'Only 2 decimal point is allowed.'\n                },\n                {\n                  rule: 'isMinPrice',\n                  errorMessage:'Price should be min $1.'\n                }\n              ]}\n              value={(this.props.homestay.weeklyPrice)? (this.props.homestay.weeklyPrice).toString() : \"0\"} />\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\">\n            <Validation.Button className=\"btn primary-btn lg\" type=\"submit\" value=\"Update Changes\" />\n          </div>\n        </div>\n      </Validation.Form>\n    )\n  }\n  render () {\n    return this.renderPriceform()\n  }\n}\n\nexport class ServiceForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error : \"\",\n      success : \"\"\n    };\n  }\n\n  handleSubmit(event){\n    event.preventDefault();\n    var self = this;\n    var serviceArray = [];\n    this.setState({'error' : ''})\n    this.setState({'success' : ''})\n    $(event.currentTarget).find(\"input.services[type=checkbox]:checked\").each(function() {\n      serviceArray.push($(this).val());\n    });\n    if(serviceArray.length <=0) {\n      self.setState({'error':'Please select any services'});\n    } else {\n      var options = {\n        services      : serviceArray\n      }\n      let updateHomestay_args = {\n        homestayId : self.props.homestayId,\n        options\n      }\n      updateHomestay.call(updateHomestay_args, (error, res) => {\n        if (error) {\n            self.setState({'error':error.reason});\n        } else {\n            self.setState({'success':'Successfully updated residence'});\n        }\n      })\n    }\n  }\n\n  getMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return(<div className=\"col-sm-8\">\n                      <div className=\"success-message\">{this.state.success}</div>\n                    </div>)\n    }\n  }\n\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n  renderServiceForm() {\n    let luggage = false;\n    let wifi = false;\n    let lockers = false;\n    if(this.props.homestay.hasOwnProperty(\"services\")) {\n      for (var i=0; i< this.props.homestay.services.length; i++) {\n        if (this.props.homestay.services[i] === \"Luggage Storage\") {\n          luggage = true\n        } else if(this.props.homestay.services[i] === \"Free Wifi\") {\n          wifi = true\n        } else if (this.props.homestay.services[i] === \"Lockers\") {\n          lockers = true\n        }\n      }\n    }\n    return (\n      <form className=\"form-horizontal\" id=\"form-services\" role=\"form\" onSubmit={this.handleSubmit.bind(this)}>\n        <div className=\"form-group\">\n         {this.getMessage()}\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Luggage Storage <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(luggage) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Luggage Storage\" ref=\"services\" defaultChecked={(luggage) ? \"checked\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Free WiFi <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(wifi) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Free Wifi\" ref=\"services\"  defaultChecked={(wifi) ? \"checked\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <label className=\"col-sm-4 control-label\">Lockers <i className=\"semi\">:</i></label>\n          <div className=\"col-sm-8\">\n            <div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n              <label className={(lockers) ? \"active\" : \"\"}>\n                <input type=\"checkbox\" className=\"services\" name=\"services[]\" value=\"Lockers\" ref=\"services\" defaultChecked={(lockers) ? \"checked\" : \"\"} /> Yes\n              </label>\n            </div>\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <div className=\"col-sm-4\" />\n          <div className=\"col-sm-8\"><button className=\"btn primary-btn lg\" disabled={this.state.servicesBtnDisable} type=\"submit\">Update Changes</button></div>\n        </div>\n      </form>\n    )\n  }\n\n  render () {\n    return this.renderServiceForm()\n  }\n}\n","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport ReactDOM from 'react-dom';\nimport {Meteor} from 'meteor/meteor';\n\nimport baseTheme from 'material-ui/styles/baseThemes/lightBaseTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport CircularProgress from 'material-ui/CircularProgress'\nimport Dialog           from 'material-ui/Dialog';\n\nimport { CountryList } from './../../helper/constants.js';\nimport { editProfile }   from './../../api/user/methods.js';\n\nvar Validation = require('react-validation');\nvar validator = require('validator');\n\nexport default class UserProfile extends Component{\n  componentDidMount() {\n    if(Roles.subscription.ready()) {\n      if (!Roles.userIsInRole(Meteor.userId(), ['Agency','Student'])) {\n        FlowRouter.go('noaccess')\n      }\n    }\n  }\n  getChildContext() {\n      return { muiTheme: getMuiTheme(baseTheme) };\n  }\n\n\n  render () {\n    return (\n      <section className=\"main-content-wrapper common-layout-box\">\n            < UserProfileForm currentUser={this.props.currentUser} />\n          </section>\n    );\n  }\n};\n// To set theme for material-ui components\nUserProfile.childContextTypes = {\n    muiTheme: React.PropTypes.object.isRequired,\n};\n\nexport default createContainer(() => {\n    return {\n        currentUser     : Meteor.user()\n    }\n}, UserProfile);\n\n\n\n// React Component for BookRoom form\nexport class UserProfileForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error               : \"\",\n      success             : \"\"\n    };\n  }\n\n\n  componentDidMount() {\n      //datepicker\n      console.log('DOB---------->')\n      console.log($('#DOB'))\n      console.log(this.props.currentUser)\n      let date = \"\";\n      if(this.props.currentUser.profile.dateOfBirth) {\n          date = this.props.currentUser.profile.dateOfBirth\n      } else {\n          date = new Date()\n      }\n      console.log(date)\n      setTimeout(function(){ $('#DOB').datetimepicker({\n          format : 'YYYY-MM-DD',\n          defaultDate: date // enable only dates 2 weeks after current date\n      }) }, 1000)\n\n  }\n  // To style radio button on click event\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n\n  // To handle submit event of bookRoom form\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({'error':''});\n    this.setState({'success':''});\n    var self = this;\n    var firstName   = $(event.currentTarget).find('#firstName').val().trim(),\n      lastName      = $(event.currentTarget).find('#lastName').val().trim(),\n      email         = $(event.currentTarget).find('#email').val().trim(),\n      mobile        = $(event.currentTarget).find('#phone').val().trim(),\n      gender        = $(event.currentTarget).find(\"input.gender[type=radio]:checked\").val(),\n      country       = $(event.currentTarget).find('#country').val().trim(),\n      dateOfBirth   = $(event.currentTarget).find('#DOB').val().trim(),\n      smoker        = $(event.currentTarget).find(\"input.smoker[type=radio]:checked\").val(),\n      pets          = $(event.currentTarget).find(\"input.pets[type=radio]:checked\").val();\n      address       = $(event.currentTarget).find(\"#address\").val();\n\n      var profileData = {\n        'profile.firstName'     : firstName,\n        'profile.lastName'      : lastName,\n        'profile.name'          : firstName +' '+lastName,\n        'profile.email'         : email,\n        'profile.mobile'        : mobile,\n        'profile.gender'        : gender,\n        'profile.country'       : country,\n        'profile.dateOfBirth'   : new Date(dateOfBirth),\n        'profile.smoker'        : smoker,\n        'profile.pets'          : pets,\n        'profile.address'       : address\n      }\n\n      editProfile.call(profileData, (error, res) => {\n        if(error){\n          this.setState({'error' : error.reason})\n          document.getElementById('dLabel').scrollIntoView();\n        }else{\n          this.setState({'success' : 'Updated student details'})\n          document.getElementById('dLabel').scrollIntoView();\n        }\n      })\n\n  }\n  // Function to show error message\n  getErrorMessage() {\n    if(this.state.error) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"error-message\">{this.state.error} </div>\n                          </div>)\n    }\n    if (this.state.success) {\n      return (<div className=\"col-sm-8\">\n                            <div className=\"success-message\">{this.state.success}</div>\n                          </div>)\n    }\n  }\n\n  renderStudentForm() {\n    let _this = this;\n    let options = CountryList.map(function (country,index){\n        return (\n            <option key={index} value={country}>{country}</option>\n        )\n      });\n      return (<Validation.Form className=\"form-horizontal\" role=\"form\" id=\"bookingForm\" onSubmit={this.handleSubmit.bind(this)}>\n              <div className=\"form-group\">\n                {this.getErrorMessage()}\n              </div>\n              <div className=\"form-group\" >\n                  <label htmlFor=\"firstName\" className=\"col-sm-3 control-label\">Name <i className=\"semi\">:</i></label>\n                  <div className=\"col-sm-4\">\n                    <Validation.Input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"firstName\"\n                      name=\"firstName\"\n                      blocking='input'\n                      value = {this.props.currentUser.profile.firstName}\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your First Name'\n                        }\n                      ]}\n                      placeholder=\"First Name\" />\n                  </div>\n                  <div className=\"col-sm-4\">\n                    <Validation.Input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"lastName\"\n                      name=\"lastName\"\n                      blocking='input'\n                      value = {this.props.currentUser.profile.lastName}\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter your Last Name'\n                        }\n                      ]}\n                      placeholder=\"Last Name\" />\n                  </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Gender <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className={(this.props.currentUser.profile.hasOwnProperty(\"gender\"))?(this.props.currentUser.profile.gender === \"Male\")?\"active\":\"\":\"active\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Male\" defaultChecked={(this.props.currentUser.profile.hasOwnProperty(\"gender\"))?(this.props.currentUser.profile.gender === \"Male\")?\"checked\":\"\":\"checked\"} /> Male\n                    </label>\n                    <label className={(this.props.currentUser.profile.gender === \"Female\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" className=\"gender\" name=\"gender\" defaultValue=\"Female\" defaultChecked={(this.props.currentUser.profile.gender === \"Female\")?\"checked\":\"\"} /> Female\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"email\" className=\"col-sm-3 control-label\">Email ID <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <fieldset disabled={(this.props.currentUser)? \"disabled\" : \"\"} >\n                    <Validation.Input\n                      type=\"email\"\n                      className=\"form-control\"\n                      id=\"email\"\n                      name=\"email\"\n                      blocking='input'\n                      value = {this.props.currentUser.emails[0].address}\n                      validations={[\n                        {\n                          rule: 'isRequired',\n                          errorMessage: 'Please enter Email ID'\n                        },\n                        {\n                          rule : 'isEmail',\n                          errorMessage: \"Enter a valid Email\"\n                        }\n                      ]}\n                      placeholder=\"Enter your Email ID\" />\n                    </fieldset>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"phone\" className=\"col-sm-3 control-label\">Mobile <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"phone\"\n                    name=\"phone\"\n                    blocking='input'\n                    placeholder=\"Eg:-  +1 250-418-6812 \"\n                    blocking='input'\n                    value = {this.props.currentUser.profile.mobile}\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please enter contact number'\n                      },\n                      {\n                        rule: 'isMinLength',\n                        errorMessage: 'Enter a valid contact number'\n                      },\n                      {\n                        rule: 'isNumber',\n                        errorMessage: 'Enter a valid contact number'\n                      }\n                    ]}/>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"dob\" className=\"col-sm-3 control-label\">Date of Birth<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control dob\"\n                    placeholder=\"DOB\"\n                    id=\"DOB\"\n                    name=\"DOB\"\n                    ref=\"DOB\"\n                    autoComplete=\"off\" />\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Country<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <Validation.Select\n                    value= {this.props.currentUser.profile.country}\n                    id=\"country\"\n                    className=\"form-control\"\n                    ref=\"country\"\n                    name=\"country\"\n                    validations={[\n                      {\n                        rule: 'isRequired',\n                        errorMessage: 'Please Select Country'\n                      }\n                    ]}>\n                    {options}\n                  </Validation.Select>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Smoker <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className={(this.props.currentUser.profile.smoker ===\"No\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"smoker\" className=\"smoker\" ref=\"smoker\" defaultValue=\"No\" defaultChecked={(this.props.currentUser.profile.smoker ===\"No\")?\"checked\":\"\"} /> No\n                    </label>\n                    <label className={(this.props.currentUser.profile.smoker ===\"Yes\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)} >\n                      <input type=\"radio\" name=\"smoker\" className=\"smoker\" ref=\"smoker\" defaultValue=\"Yes\" defaultChecked={(this.props.currentUser.profile.smoker === \"Yes\")?\"checked\":\"\"} /> Yes\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"col-sm-3 control-label\">Pets <i className=\"semi\">:</i></label>\n                <div className=\"col-sm-3\">\n                  <div className=\"radio-switch\">\n                    <label className={(this.props.currentUser.profile.pets === \"No\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"pets\" className=\"pets\" ref=\"pets\" defaultValue=\"No\" defaultChecked={(this.props.currentUser.profile.pets === \"No\")?\"checked\":\"\"} /> No\n                    </label>\n                    <label className={(this.props.currentUser.profile.pets === \"Yes\")?\"active\":\"\"} onClick={this.radioSwitch.bind(this)}>\n                      <input type=\"radio\" name=\"pets\" className=\"pets\" ref=\"pets\" defaultChecked={(this.props.currentUser.profile.pets === \"Yes\")?\"checked\":\"\"} defaultValue=\"Yes\" /> Yes\n                    </label>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"puposeStay\" className=\"col-sm-3 control-label\">Address<i className=\"semi\">:</i></label>\n                <div className=\"col-sm-8\">\n                  <textarea rows={3} className=\"form-control\" id=\"address\" name=\"address\" placeholder=\"Address\" defaultValue={(this.props.currentUser.profile.address)?this.props.currentUser.profile.address:\"\"} />\n                </div>\n              </div>\n              <br />\n              <div className=\"form-group\">\n                <div className=\"col-sm-3\" />\n                <div className=\"col-sm-8\">\n                  {/*<a href=\"confirm-booking.html\" className=\"btn primary-btn\">Proceed</a>*/}\n                  {/*<button class=\"btn primary-btn\">Proceed</button>*/}\n                  <Validation.Button className=\"btn primary-btn\" value=\"Update Profile\" />\n                  {/*<button className=\"btn cancel-btn\" onClick={this.clearForm.bind(this)}>Cancel</button>*/}\n\n                </div>\n              </div>\n            </Validation.Form>\n            )\n  }\n  renderForm() {\n      return (\n        <section className=\"common-layout-box-wrap\">\n         <div className=\"header-wrap\">My Profile</div>\n          <article className=\"common-layout-content students-form\">\n            {this.renderStudentForm()}\n          </article>\n        </section>\n      )\n    }\n  render() {\n    return this.renderForm()\n  }\n}\n","import React, {Component, PropTypes} from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\n\nexport default class PaginationBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage   : (FlowRouter.getQueryParam('page'))? Number(FlowRouter.getQueryParam('page')) : this.props.currentPage,\n      totalPages    : Math.ceil(this.props.totalCount/10),\n      previousPage  : \"\",\n      nextPage      : \"\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"type of this.state.totalPages\")\n    console.log(typeof this.state.totalPages);\n    console.log(\"total pages : \"+ this.state.totalPages);\n    console.log(\"current page : \"+ this.state.currentPage);\n    if (this.state.totalPages == 1) {\n      this.setState({'nextPage':'disabled'})\n      this.setState({'previousPage':'disabled'})\n    } else if(this.state.totalPages > 1) {\n      if (this.state.currentPage == 1) {\n        this.setState({'nextPage':'enabled'})\n        this.setState({'previousPage':'disabled'})\n      } else if((this.state.currentPage > 1) && (this.state.currentPage < this.state.totalPages)) {\n        this.setState({'nextPage':'enabled'})\n        this.setState({'previousPage':'enabled'})\n      } else if (this.state.currentPage >= this.state.totalPages){\n        this.setState({'nextPage':'disabled'})\n        this.setState({'previousPage':'enabled'})\n      }\n    }\n  }\n\n  componentWillReceiveProps(props){\n    console.log(\"flowrouter \"+FlowRouter.getQueryParam('page'))\n    console.log(\"state \" +this.state.currentPage)\n    this.setState({'totalPages':Math.ceil(props.totalCount/10)});\n    if (FlowRouter.getQueryParam('page')) {\n      this.setState({'currentPage':Number(FlowRouter.getQueryParam('page'))})\n    } else {\n      this.setState({'currentPage':Number(props.currentPage)})\n    }\n  }\n\n  updateCount (event) {\n    var pageCount = Number($(event.currentTarget).siblings('.active').attr('data-count'));\n\n      $(event.currentTarget).siblings('.pageCount').removeClass('active')\n      if ($(event.currentTarget).hasClass('previousPage')) {\n        nextPage = pageCount-1;\n      } else if ($(event.currentTarget).hasClass('nextPage')){\n        nextPage = pageCount+1;\n      }\n      $('.pageCount').each(function( index ) {\n        if (Number($(this).text()) === Number(nextPage) ) {\n          $(this).addClass(\"active\")\n        }\n      })\n      this.setState({'currentPage':nextPage})\n\n      if (nextPage > 1 && nextPage < Number(this.state.totalPages)){\n        this.setState({'previousPage':'enabled'})\n        this.setState({'nextPage':'enabled'})\n      }else if (nextPage <= 1)  {\n        this.setState({'previousPage':'disabled'})\n        this.setState({'nextPage':'enabled'})\n      } else if (nextPage >= Number(this.state.totalPages)) {\n        this.setState({'previousPage':'enabled'})\n        this.setState({'nextPage':'disabled'})\n      }\n      FlowRouter.setQueryParams({page: nextPage});\n  }\n\n  updatePageCount(event) {\n    var pageCount = Number($(event.currentTarget).attr('data-count'));\n    $(event.currentTarget).siblings('.pageCount').removeClass('active')\n    $(event.currentTarget).addClass('active')\n    this.setState({'currentPage':pageCount})\n    if(pageCount > 1 && pageCount < Number(this.state.totalPages)){\n      this.setState({'previousPage':'enabled'})\n      this.setState({'nextPage':'enabled'})\n    }else if (pageCount <= 1)  {\n      this.setState({'previousPage':'disabled'})\n      this.setState({'nextPage':'enabled'})\n    } else if (pageCount >= Number(this.state.totalPages)) {\n      this.setState({'previousPage':'enabled'})\n      this.setState({'nextPage':'disabled'})\n    }\n    FlowRouter.setQueryParams({page: pageCount});\n  }\n\n  getPageIndex () {\n    var paginationCount = [];\n    for (var i=1; i <= this.state.totalPages; i++ ) {\n      console.log(\"i : \"+i+\" state: \"+this.state.currentPage )\n      if (Number(i) === Number(this.state.currentPage)) {\n        console.log(i)\n        paginationCount.push(\n          <li className=\"active pageCount\" onClick={this.updatePageCount.bind(this)} key={i} data-count={i}><a href=\"javascript:void(0)\">{i}</a></li>\n        )\n      } else {\n        paginationCount.push(\n          <li className=\"pageCount\" onClick={this.updatePageCount.bind(this)} key={i} data-count={i}><a href=\"javascript:void(0)\">{i}</a></li>\n        )\n      }\n    }\n    return paginationCount\n\n  }\n\n  render () {\n    var previousIconClass = classNames(this.state.previousPage, 'previousPage')\n    var nextIconClass = classNames(this.state.nextPage, 'nextPage')\n    return (\n      <div className=\"clearfix\">\n        <ul className=\"pagination pull-right\">\n          <li className={previousIconClass} onClick={this.updateCount.bind(this)} ><a aria-label=\"Previous\" href=\"javascript:void(0)\"><span aria-hidden=\"true\">«</span></a></li>\n            {this.getPageIndex()}\n          <li className={nextIconClass} onClick={this.updateCount.bind(this)} ><a aria-label=\"Next\" href=\"javascript:void(0)\"><span aria-hidden=\"true\">»</span></a></li>\n        </ul>\n      </div>\n    )\n  }\n}\n\nPaginationBar.propTypes = {\n    currentPage: PropTypes.number.isRequired,\n    totalCount: PropTypes.number.isRequired\n};\n","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\n\n\n\nexport const AccountLayout = ({content}) => (\n      <div> \n      <Header/>\n          {content}\n      <Footer/>\n      </div>\n);\nexport class Header extends Component {\n\tlogoutUser (event) {\n        Meteor.logout(function (error) {\n            if (error) {\n              alert(\"There was an error logging out!\");\n            } else {\n              FlowRouter.go('/')\n            }\n        })\n    }\n\trender (){\n\t\treturn (\n      <header className=\"db-header\">\n        <section className=\"top-header\">\n          <div className=\"fluid-container\">\n            <a href=\"/\" className=\"main-logo\"><img src=\"../images/logo.png\" alt /></a>\n            <aside className=\"right-menu\">\n              <ul>\n                <li>\n                  <a href=\"/aboutus\" target=\"_blank\">About us</a>\n                </li>\n                <li>\n                  <a href=\"#\">How it works</a>\n                </li>\n                <li>\n                  <a href=\"#\">Contact us</a>\n                </li>\n              </ul>\n              <div className=\"signin-opt-drop dropdown\">\n                <button id=\"dLabel\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                  <img src=\"../images/user.png\" alt />\n                </button>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dLabel\">\n                  <li>\n                    <a href=\"#\">Hello User</a>\n                  </li>\n                  <li>\n                    <a href=\"#\">My Profile</a>\n                  </li>\n                  <li>\n                    <a href=\"#\">Account Settings</a>\n                  </li>\n                  <li>\n                  <a href=\"#\" onClick={this.logoutUser.bind(this)} >Signout</a>\n                </li>\n                </ul>\n              </div>\n            </aside>\n          </div>\n        </section>\n      </header>\n\t\t)\n\t}\n};\n\n\n\n\nexport class Footer extends Component {\n\trender (){\n\t\treturn (\n\t\t\t<footer className=\"dashboard-footer\">\n        <section className=\"bottom-footer\">\n          <div className=\"fluid-container\">\n            <span className=\"copy-right\">© 2016 OurHomestay. All rights reserved</span>\n            <div className=\"pull-right\">\n              <a href=\"#\">Terms of service</a>\n              <a href=\"#\">Privacy Policy</a>\n            </div>\n          </div>\n        </section>\n      </footer>\n\t\t)\n\t}\n}","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\n\nimport Header from '../shared/Header.jsx';\n\nexport const AuthLayout = ({content}) => (\n    <div>\n        {content}\n        <Footer />\n    </div>\n);\n\nexport class Footer extends Component {\n\trender (){\n\t\treturn (\n\t\t\t<footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-3 col-lg-2\">\n              <ul className=\"footer-menu\">\n                <li>\n                  <a href=\"#\">Home</a>\n                </li>\n                <li>\n                  <a href=\"#\">How it works</a>\n                </li>\n                <li>\n                  <a href=\"/aboutus\" target=\"_blank\">About us</a>\n                </li>\n                <li>\n                  <a href=\"#\">Login/signup</a>\n                </li>\n                <li>\n                  <a href=\"#\">CONTACT</a>\n                </li>\n              </ul>\n            </div>\n            <div className=\"col-sm-4 col-lg-5\">\n              <address>\n                <span><i className=\"icon-mail\" /><a href=\"mailto:Info@ourhomestay.com\">Info@ourhomestay.com</a></span>\n                <span><i className=\"icon-phone\" /><a href=\"tel:+1250-418-6812\">+1 250-418-6812</a></span>\n                <p>1031 St David St, Victoria,BC V8S 4Y7, Canada</p>\n              </address>\n            </div>\n            <div className=\"col-sm-5 col-lg-5\">\n              <div className=\"home-stay-widget\">\n                <figure className=\"widget-logo\"><img src=\"../images/footer-logo.png\" alt /></figure>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisic ing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p>\n                <div className=\"subscriber\">\n                  <input type=\"email\" placeholder=\"subscribe our newsletter\" className=\"form-control\" />\n                  <input type=\"submit\" className=\"btn primary-btn\" defaultValue=\"Subscribe\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <section className=\"bottom-footer\">\n          <div className=\"container\">\n            <span className=\"copy-right\">© 2016 OurHomestay. All rights reserved</span>\n            <div className=\"pull-right\">\n              <a href=\"#\">Terms of service</a>\n              <a href=\"#\">Privacy Policy</a>\n            </div>\n          </div>\n        </section>\n      </footer>\n\t\t)\n\t}\n}","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\n\nimport Footer from '../shared/Footer.jsx';\n\n\nexport const DashboardLayout = ({content}) => (\n      <div>\n      <Header/>\n      {content}\n      <Footer/>\n      </div>\n);\nexport default class Header extends Component {\n\tlogoutUser (event) {\n        Meteor.logout(function (error) {\n            if (error) {\n              alert(\"There was an error logging out!\");\n            } else {\n              FlowRouter.go('/')\n            }\n        })\n    }\n\trender (){\n    let myProfile ='';\n    let accountDetails  = <li>\n                          <a href=\"#\">Account Settings</a>\n                        </li>;\n    let homestayProfile = '';\n    if(Roles.subscription.ready()) {\n      if(Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n        myProfile = <li>\n                    <a href=\"/admin/homestays\">Dashboard</a>\n                  </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n        myProfile = <li>\n                      <a href=\"/homestay\">My Profile</a>\n                    </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Agency')){\n        myProfile = <li>\n                    <a href=\"/agency/profile\">My Profile</a>\n                  </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Student')){\n        myProfile = <li>\n                    <a href=\"/student/profile\">My Profile</a>\n                  </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')){\n        myProfile = <li>\n                    <a href=\"/universityresidence\">My Profile</a>\n                  </li>\n      }\n\n       if (Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n            if(Meteor.user().profile.homestayId) {\n              let homestyUrl= \"/homestay/\"+Meteor.user().profile.homestayId\n              homestayProfile = <li>\n                            <a href={homestyUrl}>Homestay</a>\n                          </li>\n            }\n            accountDetails = <li>\n                          <a href=\"/accountSettings\">Account Settings</a>\n                        </li>\n          } else if (Roles.userIsInRole(Meteor.userId(), 'University residence')) {\n            if(Meteor.user().profile.homestayId) {\n              let homestyUrl= \"/homestay/\"+Meteor.user().profile.homestayId\n              homestayProfile = <li>\n                            <a href={homestyUrl}>University Residence</a>\n                          </li>\n            }\n            accountDetails = <li>\n                          <a href=\"/accountSettings\">Account Settings</a>\n                        </li>\n          }\n\n    }\n\t\treturn (\n\t\t\t<header>\n        <section className=\"top-header\">\n          <div className=\"container\">\n            <a href=\"/\" className=\"main-logo\"><img src=\"../images/logo.png\" alt /></a>\n            <aside className=\"right-menu\">\n              <ul>\n                <li>\n                  <a href=\"/aboutus\" target=\"_blank\">About us</a>\n                </li>\n                <li>\n                  <a href=\"#\">How it works</a>\n                </li>\n                <li>\n                  <a href=\"#\">Contact us</a>\n                </li>\n              </ul>\n              <div className=\"signin-opt-drop dropdown\">\n                <button id=\"dLabel\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                  <img src=\"../images/user.png\" alt />\n                </button>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dLabel\">\n                  <li>\n                    <a href=\"#\">Hello User</a>\n                  </li>\n                  {myProfile}\n                  <li>\n                    <a href=\"/orders\">Bookings</a>\n                  </li>\n                  {homestayProfile}\n                  {accountDetails}\n                  <li>\n  \t                <a href=\"#\" onClick={this.logoutUser.bind(this)} >Signout</a>\n  \t              </li>\n                </ul>\n              </div>\n            </aside>\n          </div>\n        </section>\n      </header>\n\t\t)\n\t}\n};\nexport default createContainer(() => {\n    return {\n        isAdmin         : Roles.userIsInRole(Meteor.userId(), 'Admin'),\n        isAgency        : Roles.userIsInRole(Meteor.userId(), 'Agency'),\n        isStudent       : Roles.userIsInRole(Meteor.userId(), 'Student'),\n        isHomestay      : Roles.userIsInRole(Meteor.userId(), 'Homestay'),\n        isUniversity    : Roles.userIsInRole(Meteor.userId(), 'University residence')\n    }\n}, Header);\n","import React from 'react';\n\nimport Header from '../shared/Header.jsx';\n\nexport const ErrorLayout = ({content}) => (\n    <div className=\"container-fluid container-fixed-lg m-t-60\">\n        <div className=\"error-page full-height m-t-100\">\n            <div className=\"container-xs-height full-height\">\n                <div className=\"row-xs-height\">\n                    <div className=\"col-xs-height col-middle\">\n                        <div className=\"error-message text-center\">\n                            {content}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n);\n\n\n\n\n","import React from 'react';\n\n\n\nimport Header from '../shared/Header.jsx';\nimport Footer from '../shared/Footer.jsx';\n\n\nexport const MainLayout = ({content}) => (\n    <div>\n        <Header />\n        {content}\n        <Footer />\n    </div>\n);","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\n\n\n\n\nexport const ProfileLayout = ({content}) => (\n      <div> \n      <Header/>\n      {content}\n      <Footer/>\n      </div>\n);\nexport default class Header extends Component {\n\tlogoutUser (event) {\n        Meteor.logout(function (error) {\n            if (error) {\n              alert(\"There was an error logging out!\");\n            } else {\n              FlowRouter.go('/')\n            }\n        })\n    }\n\trender (){\n    let myProfile ='';\n    if(Roles.subscription.ready()) {\n      if(Roles.userIsInRole(Meteor.userId(), 'Admin')) {\n        myProfile = <li>\n                    <a href=\"/admin/homestays\">Dashboard</a>\n                  </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Homestay')) {\n        myProfile = <li>\n                      <a href=\"/homestay\">My Profile</a>\n                    </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Agency')){\n        myProfile = <li>\n                    <a href=\"/agency/profile\">My Profile</a>\n                  </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'Student')){\n        myProfile = <li>\n                    <a href=\"/student/profile\">My Profile</a>\n                  </li>\n      } else if(Roles.userIsInRole(Meteor.userId(), 'University residence')){\n        myProfile = <li>\n                    <a href=\"/universityresidence\">My Profile</a>\n                  </li>\n      }\n    }\n\t\treturn (\n\t\t\t<header>\n        <section className=\"top-header\">\n          <div className=\"container\">\n            <a href=\"/\" className=\"main-logo\"><img src=\"../images/logo.png\" alt /></a>\n            <aside className=\"right-menu\">\n              <ul>\n                <li>\n                  <a href=\"/aboutus\" target=\"_blank\">About us</a>\n                </li>\n                <li>\n                  <a href=\"#\">How it works</a>\n                </li>\n                <li>\n                  <a href=\"#\">Contact us</a>\n                </li>\n              </ul>\n              <div className=\"signin-opt-drop dropdown\">\n                <button id=\"dLabel\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                  <img src=\"../images/user.png\" alt />\n                </button>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dLabel\">\n                  <li>\n                    <a href=\"#\">Hello User</a>\n                  </li>\n                  {myProfile}\n                  <li>\n                    <a href=\"/orders\">Bookings</a>\n                  </li>\n                  <li>\n                    <a href=\"#\">Account Settings</a>\n                  </li>\n                  <li>\n\t                <a href=\"#\" onClick={this.logoutUser.bind(this)} >Signout</a>\n\t              </li>\n                </ul>\n              </div>\n            </aside>\n          </div>\n        </section>\n      </header>\n\t\t)\n\t}\n};\nexport default createContainer(() => {\n    return {\n        isAdmin         : Roles.userIsInRole(Meteor.userId(), 'Admin'),\n        isAgency        : Roles.userIsInRole(Meteor.userId(), 'Agency'),\n        isStudent       : Roles.userIsInRole(Meteor.userId(), 'Student'),\n        isHomestay      : Roles.userIsInRole(Meteor.userId(), 'Homestay'),\n        isUniversity    : Roles.userIsInRole(Meteor.userId(), 'University residence')\n    }\n}, Header);\nexport class Footer extends Component {\n\trender (){\n\t\treturn (\n\t\t\t<footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-3 col-lg-2\">\n              <ul className=\"footer-menu\">\n                <li>\n                  <a href=\"#\">Home</a>\n                </li>\n                <li>\n                  <a href=\"#\">How it works</a>\n                </li>\n                <li>\n                  <a href=\"/aboutus\" target=\"_blank\">About us</a>\n                </li>\n                <li>\n                  <a href=\"#\">Login/signup</a>\n                </li>\n                <li>\n                  <a href=\"#\">CONTACT</a>\n                </li>\n              </ul>\n            </div>\n            <div className=\"col-sm-4 col-lg-5\">\n              <address>\n                <span><i className=\"icon-mail\" /><a href=\"mailto:Info@ourhomestay.com\">Info@ourhomestay.com</a></span>\n                <span><i className=\"icon-phone\" /><a href=\"tel:+1250-418-6812\">+1 250-418-6812</a></span>\n                <p>1031 St David St, Victoria,BC V8S 4Y7, Canada</p>\n              </address>\n            </div>\n            <div className=\"col-sm-5 col-lg-5\">\n              <div className=\"home-stay-widget\">\n                <figure className=\"widget-logo\"><img src=\"../images/footer-logo.png\" alt /></figure>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisic ing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p>\n                <div className=\"subscriber\">\n                  <input type=\"email\" placeholder=\"subscribe our newsletter\" className=\"form-control\" />\n                  <input type=\"submit\" className=\"btn primary-btn\" defaultValue=\"Subscribe\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <section className=\"bottom-footer\">\n          <div className=\"container\">\n            <span className=\"copy-right\">© 2016 OurHomestay. All rights reserved</span>\n            <div className=\"pull-right\">\n              <a href=\"#\">Terms of service</a>\n              <a href=\"#\">Privacy Policy</a>\n            </div>\n          </div>\n        </section>\n      </footer>\n\t\t)\n\t}\n}","import React, {Component} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport moment from 'moment';\n\n\n\n// Header component - represents the whole app\nexport default class Footer extends Component {\n    hasDashboardClass (){\n      if(this.props.isAdmin)\n        return 'dashboard-footer'\n      else\n        return '' \n    }\n\n    hasDashboardContainer (){\n      if(this.props.isAdmin)\n          return 'fluid-container'\n      else\n          return '' \n    }\n\n    \n    renderFooter() {\n        var footerContainer = ''\n        if(Meteor.userId()) {\n          if(Roles.subscription.ready()) {\n            if(Roles.userIsInRole(Meteor.userId(), ['Student', 'Agency']))\n                footerContainer = <FooterContainer />\n          }\n        } else {\n            footerContainer = <FooterContainer />\n        }\n\n        return (\n          <footer className={this.hasDashboardClass()}>\n            {footerContainer}\n            <section className=\"bottom-footer\">\n              <div className={this.hasDashboardContainer()}>\n                <span className=\"copy-right\">© 2016 OurHomestay. All rights reserved</span>\n                <div className=\"pull-right\">\n                  <a href=\"#\">Terms of service</a>\n                  <a href=\"#\">Privacy Policy</a>\n                </div>\n              </div>\n            </section>\n          </footer>\n        );\n    }\n\n    render() {\n      return this.renderFooter()\n    }\n};\n\nexport default createContainer(() => {\n    if (Roles.userIsInRole(Meteor.userId(), ['Admin','Homestay','University residence'])){\n      return {\n          isAdmin         : true\n      }\n    } else {\n      return {\n          isAdmin         : false\n      }\n    }\n    \n}, Footer);\n\nexport class FooterContainer extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm-3 col-lg-2\">\n            <ul className=\"footer-menu\">\n              <li>\n                <a href=\"#\">Home</a>\n              </li>\n              <li>\n                <a href=\"#\">How it works</a>\n              </li>\n              <li>\n                <a href=\"#\">About us</a>\n              </li>\n              <li>\n                <a href=\"#\">Login/signup</a>\n              </li>\n              <li>\n                <a href=\"#\">CONTACT</a>\n              </li>\n            </ul>\n            {/*\n            <div className=\"social-share\">\n              <a href=\"#\" className=\"icon-facebook\" />\n              <a href=\"#\" className=\"icon-twitter\" />\n              <a href=\"#\" className=\"icon-linkedin\" />\n            </div>\n            */}\n          </div>\n          <div className=\"col-sm-4 col-lg-5\">\n            <address>\n              <span><i className=\"icon-mail\" /><a href=\"mailto:Info@ourhomestay.com\">Info@ourhomestay.com</a></span>\n              <span><i className=\"icon-phone\" /><a href=\"tel:+1250-418-6812\">+1 250-418-6812</a></span>\n              <p>1031 St David St, Victoria,BC V8S 4Y7, Canada</p>\n            </address>\n          </div>\n            <div className=\"col-sm-5 col-lg-5\">\n              <div className=\"home-stay-widget\">\n                <figure className=\"widget-logo\"><img src=\"../images/footer-logo.png\" alt /></figure>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisic ing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p>\n                {/*\n                  <div className=\"subscriber\">\n                    <input type=\"email\" placeholder=\"subscribe our newsletter\" className=\"form-control\" />\n                    <input type=\"submit\" className=\"btn primary-btn\" defaultValue=\"Subscribe\" />\n                  </div>\n                */}\n              </div>\n            </div>\n        </div>\n      </div>\n    )\n  }\n}","import React, {Component, PropTypes} from 'react';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { CountryList } from './../../helper/constants.js';\nimport { CityList } from './../../helper/constants.js';\nimport Blaze from 'meteor/gadicc:blaze-react-component';\nimport ReactDOM from 'react-dom';\n// import faker from 'faker';\n\n// let avatar = faker.image.avatar();\n\n// Header component - represents the whole app\nexport default class Header extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        dashboardheader: '',\n        isAdmin : false\n      };\n    }\n    componentDidMount() {\n      if(Roles.subscription.ready()) {\n        if (Roles.userIsInRole(Meteor.userId(), 'Admin'))\n          this.setState({'isAdmin':true})\n      }\n    }\n\n    logoutUser (event) {\n        Meteor.logout(function (error) {\n            if (error) {\n              alert(\"There was an error logging out!\");\n            } else {\n              FlowRouter.go('/')\n            }\n        })\n    }\n    hasDashboardHeader(){\n        var route_name = 'admin-dashboard';\n        if(this.props.isAdmin)\n          return 'db-header'\n        else\n          return false\n    }\n\n    userRoute() {\n      if(Roles.subscription.ready()) {\n        if (this.props.isAdmin)\n          return '/'\n        else if (this.props.isStudent)\n          return '/'\n        else if (this.props.isHomestay)\n          return '/homestay'\n        else if (this.props.isAgency)\n          return '/'\n        else if (this.props.isUniversity)\n          return '/universityResidence'\n      }\n    }\n    renderHeader () {\n        var dropdown = '';\n        var searchContainer ='';\n        if (this.props.UserId) {\n          let myProfile       = '';\n          let homestayProfile = '';\n          let accountDetails  = <li>\n                          <a href=\"#\">Account Settings</a>\n                        </li>;\n          if(this.props.isAdmin) {\n            myProfile = <li>\n                        <a href=\"/admin/homestays\">Dashboard</a>\n                      </li>\n          } else if(this.props.isHomestay) {\n            myProfile = <li>\n                          <a href=\"/homestay\">My Profile</a>\n                        </li>\n          } else if(this.props.isAgency){\n            myProfile = <li>\n                        <a href=\"/agency/profile\">My Profile</a>\n                      </li>\n          } else if(this.props.isStudent){\n            myProfile = <li>\n                        <a href=\"/student/profile\">My Profile</a>\n                      </li>\n          } else if(this.props.isUniversity){\n            myProfile = <li>\n                        <a href=\"/universityresidence\">My Profile</a>\n                      </li>\n          }\n          if (this.props.isHomestay) {\n            if(Meteor.user().profile.homestayId) {\n              let homestyUrl= \"/homestay/\"+Meteor.user().profile.homestayId\n              homestayProfile = <li>\n                            <a href={homestyUrl}>Homestay</a>\n                          </li>\n            }\n            accountDetails = <li>\n                          <a href=\"/accountSettings\">Account Settings</a>\n                        </li>\n          } else if (this.props.isUniversity) {\n            if(Meteor.user().profile.homestayId) {\n              let homestyUrl= \"/homestay/\"+Meteor.user().profile.homestayId\n              homestayProfile = <li>\n                            <a href={homestyUrl}>University Residence</a>\n                          </li>\n            }\n            accountDetails = <li>\n                          <a href=\"/accountSettings\">Account Settings</a>\n                        </li>\n          }\n\n          dropdown = <div className=\"signin-opt-drop dropdown\">\n                      <button id=\"dLabel\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <img src=\"../images/user.png\" alt />\n                      </button>\n                      <ul className=\"dropdown-menu\" aria-labelledby=\"dLabel\">\n                        <li>\n                          <a href=\"#\">Hello User</a>\n                        </li>\n                        {myProfile}\n                        <li>\n                          <a href=\"/orders\">Bookings</a>\n                        </li>\n                        {homestayProfile}\n                        {accountDetails}\n                        <li>\n                          <a href=\"#\" onClick={this.logoutUser.bind(this)} >Signout</a>\n                        </li>\n                      </ul>\n                    </div>\n          if(Roles.subscription.ready()) {\n            if (Roles.userIsInRole(Meteor.userId(), ['Student', 'Agency']))\n              searchContainer = <SearchContainer />\n          }\n        }  else {\n          dropdown = <div className=\"signin-opt\">\n                            <a className=\"user-login \" href=\"/login\">Login <i className=\"icon-right-bullet\" /></a>\n                            <a className=\"user-register\" href=\"/register\">Sign up <i className=\"icon-right-bullet\" /></a>\n                          </div>\n          searchContainer = <SearchContainer />\n        }\n        return (\n                  <header className={this.hasDashboardHeader()}>\n                    <section className=\"top-header\">\n                      <div className=\"fluid-container\">\n                        <a href={this.userRoute()} className=\"main-logo\"><img src=\"../images/logo.png\" alt /></a>\n                        <aside className=\"right-menu\">\n                          <ul>\n                            <li>\n                              <a href=\"/aboutus\" target=\"_blank\">About us</a>\n                            </li>\n                            <li>\n                              <a href=\"#\">How it works</a>\n                            </li>\n                            <li>\n                              <a href=\"mailto:info@islBooking.com\">Contact us</a>\n                            </li>\n                          </ul>\n\n                          {dropdown}\n\n                        </aside>\n                      </div>\n                    </section>\n                    {searchContainer}\n                  </header>\n        );\n    }\n    render() {\n        return this.renderHeader()\n    }\n};\n\nHeader.propTypes = {\n    DashboardHeader: PropTypes.string.isRequired,\n    UserId : PropTypes.string\n};\n\nexport default createContainer(() => {\n    return {\n        DashboardHeader : 'db-header',\n        UserId          : Meteor.userId(),\n        isAdmin         : Roles.userIsInRole(Meteor.userId(), 'Admin'),\n        isAgency        : Roles.userIsInRole(Meteor.userId(), 'Agency'),\n        isStudent       : Roles.userIsInRole(Meteor.userId(), 'Student'),\n        isHomestay      : Roles.userIsInRole(Meteor.userId(), 'Homestay'),\n        isUniversity    : Roles.userIsInRole(Meteor.userId(), 'University residence')\n    }\n}, Header);\n\nexport class SearchContainer extends Component {\n  componentDidMount () {\n     let searchAfterTwoWeeks = new Date(+new Date + 18144e5);\n      // initialise start date timepicker\n      $('#searchStartDate').datetimepicker({\n          format : 'YYYY-MM-DD',\n          //daysOfWeekDisabled: [0,1,2,3,4,6], // enable only fridays\n          minDate : searchAfterTwoWeeks // enable only dates 2 weeks after current date\n      }).on('dp.change', function (selected) {\n        var minDate = new Date(selected.date.valueOf());\n            minDate.setDate(minDate.getDate() + 1);\n        if ($('#searchStartDate').val()){\n          $('#searchEndDate').data(\"DateTimePicker\").minDate(minDate);\n        }\n          // var minDate = new Date(selected.date.valueOf());\n      });\n      let searchNextDate = new Date($('#searchStartDate').val());\n      searchNextDate.setDate(searchNextDate.getDate() + 1);\n      // initialise end date timepicker\n      $('#searchEndDate').datetimepicker({\n          format : 'YYYY-MM-DD',\n          minDate : searchNextDate // enable date after start date only\n      });\n    //search toggle section\n            $('.search-toggle-btn').click(function () {\n                $(this).toggleClass('open');\n                $('.search-container').slideToggle();\n            });\n\n            //popup\n            $('.video-play-btn').click(function(){\n               $('.overlay').fadeIn(100);\n                $('#videoPopup').delay(100).fadeIn(400);\n            });\n            //close popup\n            $('.close-btn, .overlay').click(function(){\n                //video stop\n                var video = $(\"#videoPopup iframe\").attr(\"src\");\n                $(\"#videoPopup iframe\").attr(\"src\",\"\");\n                $(\"#videoPopup iframe\").attr(\"src\",video);\n\n                $('.popup-box').fadeOut(100);\n                $('.overlay').delay(100).fadeOut(300);\n            });\n\n  }\n  //custom checkbox\n  customCheckbox(event){\n      event.preventDefault();\n      $(event.currentTarget).find('label').toggleClass('active');\n      if($(event.currentTarget).find('label').hasClass('active')){\n          $(event.currentTarget).find('input').prop('checked', true);\n      }else{\n          $(event.currentTarget).find('input').prop('checked', false);\n      }\n  }\n  // Function to style radio button on Click event\n  radioSwitch(event) {\n    $(event.currentTarget).parent().find('label').removeClass('active');\n    $(event.currentTarget).addClass('active');\n  }\n  // Show dropdown\n  customSelect(event) {\n    $(event.currentTarget).parent().find('.drop-down-list').stop( true, true ).delay(10).slideToggle();\n  }\n  // select li value\n  selectDropDown(event) {\n    var parent = $(event.currentTarget).parent().parent();\n    parent.find('.active-list').addClass('added');\n    parent.find('.active-list').trigger(\"click\");\n    parent.find('.active-list').text( $(event.currentTarget).text() ).removeClass('opened');\n    parent.find('input.list-field').val($(event.currentTarget).html() );\n  }\n\n  handleSearch(event){\n    let query = {},\n        filter_country = ReactDOM.findDOMNode(this.refs.filter_country).value.trim(),\n        filter_city = ReactDOM.findDOMNode(this.refs.filter_city).value.trim(),\n        filter_gender = ReactDOM.findDOMNode(this.refs.filter_gender).value.trim(),\n        filter_smoker = ReactDOM.findDOMNode(this.refs.filter_smoker).value.trim()\n\n      \n    console.log(\"guery11111\", query);\n    \n    if(filter_country != 'View All')\n      query['country'] = filter_country\n    if(filter_city != 'View All')\n      query['city'] = filter_city\n    if(filter_gender != 'View All')\n      query['tenant_gender'] = filter_gender\n    if(filter_smoker != 'View All')\n      query['tenant_smoker'] = filter_smoker\n    \n    console.log(\"guery2222\", HomestayIndex.getComponentMethods().search());\n    console.log(\"Session.set('search_query',query)\", Session.set('search_query',''));\n    HomestayIndex.getComponentMethods().search(query)\n    Session.set('search_query',query)\n    FlowRouter.go('search')\n  }\n\n  render() {\n    let _this = this;\n    let country_options = CountryList.map(function (country,index){\n      return (\n          <li key={index} value={country} onClick={_this.selectDropDown.bind(this)}>{country}</li>\n      )\n    });\n\n    let city_options = CityList.map(function (city,index){\n      return (\n          <li key={index} value={city} onClick={_this.selectDropDown.bind(this)}>{city}</li>\n      )\n    });\n    return (\n      <section className=\"search-container\">\n        <div className=\"fluid-container\">\n          {/*<div className=\"search-home-stay\">\n            <h4>Search for Homestay</h4>\n            <p>Enter your information to display your homestay.</p>\n          </div>*/}\n           \n              \n                <div className=\"center-block-wrap\">\n                  <div className=\"row\">\n                    <aside className=\"col-sm-2 search-item\">\n                      <h4>Country of Study</h4>\n                      <div className=\"custom-select\">\n                        <div className=\"active-list added\" onClick={this.customSelect.bind(this)}>Canada</div>\n                        <input type=\"text\" ref=\"filter_country\" className=\"list-field\" defaultValue={'Canada'} />\n                        <ul className=\"drop-down-list\">\n                        <li value=\"\" onClick={this.selectDropDown.bind(this)}>View All</li>\n                          {country_options}\n                        </ul>\n                      </div>\n                    </aside>\n                    <aside className=\"col-sm-2 search-item\">\n                      <h4>City</h4>\n                      <div className=\"custom-select\">\n                        <div className=\"active-list\" onClick={this.customSelect.bind(this)}>Please select </div>\n                        <input type=\"text\" ref=\"filter_city\" className=\"list-field\" defaultValue={'View All'} />\n                        <ul className=\"drop-down-list\">\n                          <li value=\"\" onClick={this.selectDropDown.bind(this)}>View All</li>\n                          {city_options}\n                        </ul>\n                      </div>\n                    </aside>\n                    <aside className=\"col-sm-2 search-item\">\n                      <h4>Gender</h4>\n                      <div className=\"custom-select\">\n                        <div className=\"active-list\" onClick={this.customSelect.bind(this)}>Choose</div>\n                        <input type=\"text\" ref=\"filter_gender\" className=\"list-field\" defaultValue={'View All'} />\n                        <ul className=\"drop-down-list\">\n                          <li onClick={this.selectDropDown.bind(this)}>View All</li>\n                          <li onClick={this.selectDropDown.bind(this)}>Male</li>\n                          <li onClick={this.selectDropDown.bind(this)}>Female</li>\n                        </ul>\n                      </div>\n                    </aside>\n                    <aside className=\"col-sm-2 search-item\">\n                      <h4>smoker</h4>\n                      <div className=\"custom-select\">\n                        <div className=\"active-list\" onClick={this.customSelect.bind(this)}>Choose</div>\n                        <input type=\"text\" ref=\"filter_smoker\" className=\"list-field\" defaultValue={'View All'} />\n                        <ul className=\"drop-down-list\">\n                          <li onClick={this.selectDropDown.bind(this)}>View All</li>\n                          <li onClick={this.selectDropDown.bind(this)}>Yes</li>\n                          <li onClick={this.selectDropDown.bind(this)}>No</li>\n                          <li onClick={this.selectDropDown.bind(this)}>Both</li>\n                        </ul>\n                      </div>\n                    </aside>\n                    <aside className=\"col-sm-2 search-item start-end\">\n                      <h4>Start and end Date</h4>\n                      <div className=\"search-6\">\n                          <input type=\"text\" className=\"form-control avail-date\" placeholder=\"start date\" id=\"searchStartDate\" ref=\"searchStartDate\" />\n                      </div>\n                      <div className=\"search-6\">\n                        <input type=\"text\" className=\"form-control avail-date\" placeholder=\"end date\" id=\"searchEndDate\" ref=\"searchEndDate\" />\n                      </div>\n                    </aside>  \n                     \n\n                    <aside className=\"col-sm-2 search-item search-item-btn\"> \n                      \n                      <a onClick={this.handleSearch.bind(_this)} className=\"primary-btn lg\">Search</a>\n                    </aside>\n                  </div>\n                </div>\n                {/*<button class=\"primary-btn lg\">Search</button>*/}\n                {/*<div className=\"custom-checkbox\" onClick={this.customCheckbox.bind(this)}>\n                  <label>\n                    <input id=\"newsUpdates\" type=\"checkbox\" /> news and updates\n                  </label>\n                </div>*/}\n            \n            \n          \n        </div>\n        <Blaze template='Search' />\n      </section>\n    )\n  }\n}\n","import React, {Component} from 'react';\n\n// Modal component - represents the whole app\nexport default class Modal extends Component {\n\n    constructor(props) {\n        super(props);\n        /*this.state = {\n            currentYear:'2016'\n        };*/\n    }\n\n    render() {\n        return (\n\n            <div className={`modal fade ${this.props.modalClass}` } id={ this.props.modalId } tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modalSlideUpLabel\" aria-hidden=\"false\">\n                <div className=\"modal-dialog \">\n                    <div className=\"modal-content-wrapper\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header clearfix text-left\">\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n                                    <i className=\"fa fa-close fs-14\"></i>\n                                </button>\n                                <h5><span className=\"bold\">{this.props.title}</span></h5>\n                                <p className=\"p-b-10\">{this.props.titleExtra}</p>\n                            </div>\n                            <div className=\"modal-body\">\n                                { this.props.body }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n           \n        );\n    }\n};\n\n","\nimport React, {Component} from 'react';\n\n// Panel component - represents the whole app\nexport default class Panel extends Component {\n\n    constructor(props) {\n        super(props);\n        /*this.state = {\n            currentYear:'2016'\n        };*/\n    }\n\n    render() {\n        return (\n            <div className={\"panel \" + this.props.panelClass}>\n                <div className=\"panel-heading separator\">\n                    <div className=\"panel-title\">\n                        {this.props.title}\n                    </div>\n                </div>\n                <div className=\"panel-body\">\n                    {this.props.body}\n                </div>\n            </div>\n        );\n    }\n};\n\n","import React, {Component, PropTypes} from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\n\nexport default class Sidebar extends Component {\n\tconstructor(props) {\n    super(props);\n\t\tthis.state = {\n\t\t\tcurrentPage \t: FlowRouter.getRouteName(),\n\t\t\tagencyClass \t: \"\",\n\t\t\tstudentClass \t: \"\",\n\t\t\thomestayClass \t: \"\",\n\t\t\tuniversityClass : \"\",\n\t\t\tcreateUserClass : \"\",\n\t\t\tsettingsClass : \"\"\n\t\t};\n\t}    \n\n\tcomponentDidMount() {\n\t\tif (this.state.currentPage === \"admin-listAgency\")\n\t\t\tthis.state.agencyClass = \"active\"\n\t\telse if (this.state.currentPage === \"admin-listStudents\")\n\t\t\tthis.state.studentClass = \"active\"\n\t\telse if (this.state.currentPage === \"admin-listHomestay\")\n\t\t\tthis.state.homestayClass = \"active\"\n\t\telse if (this.state.currentPage === \"admin-listUniversity\")\n\t\t\tthis.state.universityClass = \"active\"\n\t\telse if (this.state.currentPage === \"admin-adduser\")\n\t\t\tthis.state.createUserClass = \"active\"\n\t\telse if (this.state.currentPage === \"admin-settings\")\n\t\t\tthis.state.settingsClass = \"active\"\n\t}\n\n  \trender() {\n\t    return(\n\t\t\t<aside className=\"left-side-bar\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li><a className={this.state.homestayClass} href=\"/admin/homestays\"><i className=\"icon-homestay\" />Homestays</a></li>\n\t\t\t\t\t<li><a className={this.state.agencyClass} href=\"/admin/agency\"><i className=\"icon-schools\" />Agency</a></li>\n\t\t\t\t\t<li><a className={this.state.studentClass} href=\"/admin/students\"><i className=\"icon-students\" />Students</a></li>\n\t\t\t\t\t<li><a className={this.state.universityClass} href=\"/admin/universityResidence\"><i className=\"icon-university\" />University Residence</a></li>\n\t\t\t\t\t<li><a className={this.state.createUserClass} href=\"/admin/createuser\"><i className=\"icon-add-user\" />Create User</a></li>\n\t\t\t\t\t<li><a className={this.state.settingsClass} href=\"/admin/settings\"><i className=\"icon-add-user\" />Settings</a></li>\n\t\t\t\t</ul>\n\n\t\t\t</aside>\n\t    );\n  \t}\n}","// This defines a starting set of data to be loaded if the app is loaded with an empty db.\n// import './fixtures.js';\n\n// This file configures the Accounts package to define the UI of the reset password email.\n//import './reset-password-email.js';\n\n// Set up some rate limiting and other important security settings.\n//import './security.js';\n\n// This defines all the collections, publications and methods that the application provides\n// as an API to the client.\nimport './registerApi.js';\n\n","import '../../api/admin/homestays/methods.js';\nimport '../../api/admin/agency/server/publications.js';\nimport '../../api/admin/agency/methods.js';\nimport '../../api/admin/students/server/publications.js';\nimport '../../api/admin/students/methods.js';\nimport '../../api/admin/university/server/publications.js';\nimport '../../api/admin/university/methods.js';\nimport '../../api/user/server/publications.js';\nimport '../../api/user/methods.js';\nimport '../../api/comments/server/publications.js';\nimport '../../api/comments/methods.js';\nimport '../../api/homestays/server/publications.js';\nimport '../../api/homestays/methods.js';\nimport '../../api/booking/server/publications.js';\nimport '../../api/booking/methods.js';\nimport '../../api/ratings/server/publications.js';\nimport '../../api/ratings/methods.js';\nimport '../../api/admin/settings/server/publications.js';\nimport '../../api/admin/settings/methods.js';\nimport '../../api/payment/server/publications.js';\nimport '../../api/payment/methods.js';","export const CountryList =[\n                      \"Canada\"\n]\n\nexport const Countries ={\n                      \"CA\":\"Canada\"\n}\n\nexport const CountryListForStripe =[\"CA\"]\n\nexport const CurrencyList =[\n                      \"CAD\"\n]\n\nexport const CityList = [ \"Toronto\",\n                          \"Halifax\",\n                          \"Ottawa\"\n                        ]\n\nexport const MonthList = [\"Month\", \"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"\n                        ]\nexport const YearList = [ \"Year\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\", \"2021\", \"2022\", \"2023\", \"2024\", \"2025\",\"2026\", \"2027\", \"2028\", \"2029\", \"2030\", \"2031\", \"2032\", \"2033\", \"2034\", \"2035\"\n                        ]\n\nexport const FoodRestrictions = [ \"Vegetarian\", \"No Pork\", \"Halal\"\n                                ]\n\nexport const Meals  = [ \"No Meals\", \"Breakfast\", \"Lunch\", \"Dinner\"\n                      ]\n\n\nexport const PetTypes = [ \"Dog\", \"Cat\", \"Other\"\n                        ]","\n\n// Facebook\nServiceConfiguration.configurations.remove({\n  service: 'facebook'\n});\nServiceConfiguration.configurations.upsert(\n  {service: \"facebook\"},\n  {$set: {\n    appId: '1572035746420625',\n    secret: 'deb50982f744ee0af38d4f263ad2ebef',\n    requestPermissions: ['public_profile', 'email', 'user_about_me', 'user_birthday', 'user_likes', 'user_location', 'user_friends']\n  }\n  }\n);\n\n// Google\nServiceConfiguration.configurations.remove({\n  service: \"google\"\n});\nServiceConfiguration.configurations.insert({\n  service: \"google\",\n  clientId: \"GOOGLE_CLIENT_ID\",\n  secret: \"GOOGLE_SECRET_CODE\"\n});\n\n// Twitter\nServiceConfiguration.configurations.remove({\n  service: \"twitter\"\n});\nServiceConfiguration.configurations.insert({\n  service: \"twitter\",\n  consumerKey: \"TWITTER_KEY\",\n  secret: \"TWITTER_SECRET_CODE\"\n});\n","Meteor.startup(function () {\n    // By default, the email is sent from no-reply@meteor.com. If you wish to receive email from users asking for help with their account, be sure to set this to an email address that you can receive email at.\n    Accounts.emailTemplates.from = 'TEST <test@gmail.com>';\n\n    // The public name of your application. Defaults to the DNS name of the application (eg: awesome.meteor.com).\n    Accounts.emailTemplates.siteName = 'TEST';\n\n    // A Function that takes a user object and returns a String for the subject line of the email.\n    Accounts.emailTemplates.verifyEmail.subject = function(user) {\n      return 'Confirm Your Email Address';\n    };\n\n    // A Function that takes a user object and a url, and returns the body text for the email.\n    // Note: if you need to return HTML instead, use Accounts.emailTemplates.verifyEmail.html\n    Accounts.emailTemplates.verifyEmail.text = function(user, url) {\n      return 'click on the following link to verify your email address: ' + url;\n    };\n\n    Accounts.emailTemplates.resetPassword.text = function(user, url){ \n     url = url.replace('#/', '')\n     return \"Click this link to reset your password: \" + url;\n    };\n});","// smtp config\nMeteor.startup(function () {\n  smtp = {\n    username: \"homestay.toobler@gmail.com\", // eg: server@gentlenode.com\n    password: \"homestaytblr2016\", // eg: 3eeP1gtizk5eziohfervU\n    server:   'smtp.gmail.com',  // eg: mail.gandi.net\n    port: 25\n  }\n\n  process.env.MAIL_URL = 'smtp://' + encodeURIComponent(smtp.username) + ':' + encodeURIComponent(smtp.password) + '@' + encodeURIComponent(smtp.server) + ':' + smtp.port;\n});","SSR.compileTemplate('orderEmail', Assets.getText('order.html'));\nSSR.compileTemplate('notificationEmail', Assets.getText('notification.html'));\n\nvar secret = Meteor.settings.private.stripe.testSecretKey;\nvar Stripe = StripeAPI(secret);\nvar Future = Npm.require('fibers/future');\n\nimport '/imports/startup/server';\nimport { Payments } from '/imports/api/payment/payments.js';\n\nMeteor.methods({\n\t // function to send email\n\tsendMail : function(options) {\n    console.log(options)\n    // console.log(email_template)\n      var emailData = {\n        link: options.params.link,\n        recepient_name: options.params.recipient_name,\n        content: options.message\n      };\n\n      Email.send({\n        to: options.recipient,\n        from: \"OurHomestay <homestay.toobler@gmail.com>\",\n        subject: options.subject,\n        html: SSR.render('notificationEmail', emailData)\n      });\n\t},\n   // function to send email\n  sendOrderMail : function(options) {\n    console.log(options)\n    return Email.send({\n      to: options.email,\n      from: \"homestay.toobler@gmail.com\",\n      subject: options.subject,\n      html: SSR.render('orderEmail', options),\n    });\n  },\n\n\tsaveFile: function(file) {\n\t    var name = 'test', encoding = 'binary';\n\t    // Clean up the path. Remove any initial and final '/' -we prefix them-,\n\t    // any sort of attempt to go to the parent directory '..' and any empty directories in\n\t    // between '/////' - which may happen after removing '..'\n\t    path = '../../public/images/'\n\n\t    // TODO Add file existance checks, etc...\n\t    fs.writeFile(path + name, file, encoding, function(err) {\n\t      if (err) {\n\t        throw (new Meteor.Error(500, 'Failed to save file.', err));\n\t      } else {\n\t        console.log('The file ' + name + ' (' + encoding + ') was saved to ' + path);\n\t      }\n\t    });\n  },\n  // Method to create stripe customer\n  stripeCreateCustomer: function (token,card) {\n         console.log(\"stripeCreateCustomer\")\n        var stripeCustomer = new Future();\n\n      Stripe.customers.create({\n          source: token,\n          email: Meteor.user().emails[0].address\n      }, Meteor.bindEnvironment(function (error, customer) {\n          if (error) {\n              error.error = true;\n              stripeCustomer.return(error);\n          } else {\n            console.log(\"customer\")\n            console.log(customer)\n            // add customer id in user table\n            Meteor.users.update({_id: Meteor.userId()},{$set:{\"stripe.customerId\":customer.id,\"stripe.cardId\":card,\"stripe.token\":token}});\n              stripeCustomer.return(customer);\n          }\n      }));\n      return stripeCustomer.wait();\n  },\n  // method for stripe direct payment\n  // also insert new entry to payment table after successfull stripe payment\n  stripeDirectPayment: function(stripeCustomerId,amount,payment_data,homestayUserId){\n\t\tconsole.log(\"--stripeDirectPayment--\");\n    var stripePayment = new Future();\n    var homestayUser = Meteor.users.findOne({\"profile.homestayId\":homestayUserId});\n    var acct_id = homestayUser.account.managedAccID;\n\t\tvar _currency = homestayUser.account.currency;\n    _amount = amount*100;\n\t\t// create charges\n\t\tStripe.charges.create({\n        amount: _amount,\n        currency: _currency,\n        customer: stripeCustomerId,\n\t\t\t\tdestination: acct_id\n\t\t\t},Meteor.bindEnvironment( function (err, res) {\n        if(err){\n\t\t\t\t\tconsole.log('--------err in charges------',res);\n          err.error = true;\n          stripePayment.return(err);\n        }\n        else {\n\t\t\t\t\t//transfer amount\n\t\t\t\t\tconsole.log('-----res----',res);\n\t\t\t\t\tStripe.transfers.create({\n\t\t\t\t\t  amount: _amount,\n\t\t\t\t\t  currency: _currency,\n\t\t\t\t\t  recipient: \"self\"\n\t\t\t\t\t}, {\n\t\t\t\t\t  stripe_account: acct_id\n\t\t\t\t\t}, function(err, transfer) {\n\t\t\t\t\t  if(err){\n\t\t\t\t\t\t\tconsole.log(\"transfer err----:\",err);\n\t\t\t\t\t\t\terr.error = true;\n\t\t          stripePayment.return(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconsole.log(\"transfer res----:\",transfer);\n\t\t\t\t\t\t\tStripe.accounts.retrieve(\n\t\t\t\t\t\t\t\tacct_id,\n\t\t\t\t\t\t\t\tfunction(err, account) {\n\t\t\t\t\t\t\t\t\tconsole.log(\"account details------\",account);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tstripePayment.return(transfer);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n        }\n    }));\n    return stripePayment.wait();\n  },\n  apiVerification: function(user){\n    console.log(\"inside apiVerification----\")\n    Stripe.accounts.update(acct_id, {\n        tos_acceptance: {\n          date: Math.floor(Date.now() / 1000),\n          ip: \"192.168.2.120\"\n        }\n      }\n    );\n  },\n  stripeManagedAccount: function(user,profileData){\n    var stripePayment = new Future();\n    var self = this;\n    console.log(user)\n    // Method to create stripe customer\n      console.log(\"stripeCreateManagedAccount------------\")\n      console.log(user)\n      if(!user.account){\n        console.log(\"inside  Stripe.accounts.create---\")\n\n          Stripe.accounts.create({\n          managed: true,\n          email: user.emails[0].address,\n          country: profileData['account.country'],\n          external_account: {\n            object: \"bank_account\",\n\t\t\t\t\t\tcountry: profileData['account.country'],\n\t\t\t\t\t\tcurrency: profileData['account.currency'],\n\t\t\t\t\t\trouting_number: profileData['account.routingNumber'],\n\t\t\t\t\t\taccount_number: profileData['account.accNo']\n          },\n          legal_entity: {\n\t\t\t\t\t\tpersonal_id_number: profileData['account.ssn_last4'],\n\t\t\t\t\t\tfirst_name: profileData['account.firstName'],\n\t\t\t\t\t\tlast_name: profileData['account.lastName'],\n\t\t\t\t\t\ttype: \"individual\",\n            dob: {\n\t\t\t\t\t\t\tday: new Date(profileData['account.dateOfBirth']).getUTCDate(),\n\t\t\t\t\t\t\tmonth: new Date(profileData['account.dateOfBirth']).getMonth()+1,\n\t\t\t\t\t\t\tyear: new Date(profileData['account.dateOfBirth']).getFullYear()\n            },\n            address: {\n\t\t\t\t\t\t\tcity: profileData['account.city'],\n\t\t\t\t\t\t\tstate: profileData['account.state'],\n\t\t\t\t\t\t\tline1: profileData['account.address'],\n\t\t\t\t\t\t\tpostal_code: profileData['account.postalCode']\n            }\n          },\n          tos_acceptance: {\n            date: Math.floor(Date.now() / 1000),\n            ip: \"192.168.2.120\"\n          }\n        }, Meteor.bindEnvironment(function(err, account) {\n          if(err){\n            console.log(\"bindEnvironment\",err)\n            err.error = true;\n            stripePayment.return(err);\n          } else{\n            console.log(\"account.id\",account.id)\n            updatedata= {\n              'account.managedAccID':account.id\n            }\n            console.log(\"managedAccID \",account.id)\n            users = Meteor.users.update({_id:self.userId},{$set:updatedata})\n            stripePayment.return(users);\n          }\n        }));\n      }\n      else{\n        console.log(\"inside  Stripe.accounts.update---\")\n        Stripe.accounts.update(\n          user.account.managedAccID,\n          {\n            email: user.emails[0].address,\n            external_account: {\n              object: \"bank_account\",\n              country: profileData['account.country'],\n              currency: profileData['account.currency'],\n              routing_number: profileData['account.routingNumber'],\n              account_number: profileData['account.accNo']\n            },\n            legal_entity: {\n              personal_id_number: profileData['account.ssn_last4'],\n              first_name: profileData['account.firstName'],\n              last_name: profileData['account.lastName'],\n              dob: {\n                day: new Date(profileData['account.dateOfBirth']).getUTCDate(),\n                month: new Date(profileData['account.dateOfBirth']).getMonth()+1,\n                year: new Date(profileData['account.dateOfBirth']).getFullYear()\n              },\n              address: {\n                city: profileData['account.city'],\n                state: profileData['account.state'],\n                line1: profileData['account.address'],\n                postal_code: profileData['account.postalCode']\n              }\n            }\n\t\t\t\t}, Meteor.bindEnvironment(function(err, account) {\n          if(err){\n            console.log(\"bindEnvironment\",err)\n            err.error = true;\n            stripePayment.return(err);\n          } else{\n            console.log(\"account.id\",account.id)\n            console.log(\"managedAccID \",account.id)\n            stripePayment.return(users);\n          }\n        }));\n\t\t\t}\n    \treturn stripePayment.wait();\n  }\n});\n\nMeteor.method(\"search-users\", function (query) {\n  var response = [],\n      item = {}\n\n  // find all users that match given query\n  users = Meteor.users.find({ \"emails.address\": { $regex: query,$options: '-i' },\"roles\":\"Homestay\",\"profile.homestayId\":\"\" })\n  users.forEach(function(data){\n    item['id']=data._id+'-'+data.profile.name\n    item['text']=data.emails[0].address\n    // set image or default image\n    // if (data.profile.image)\n    //   item['avatar_url']= data.profile.image\n    // else\n    //   item['avatar_url']= '/img/profiles/default.png'\n    // // get email if exist\n    if (data.emails)\n      item['name']= data.profile.name\n    response.push(item)\n    item ={}\n\n  })\n  return response;\n}, {\n  url: \"search-users\",\n  httpMethod: \"get\",\n  getArgsFromRequest: function (request) {\n\n    // Let's say we want this function to accept a url-encoded request with\n    // fields named `q`\n    var query = request.query;\n\n    return [query.q];\n  }\n})\n\nMeteor.method(\"search-university\", function (query) {\n  var response = [],\n      item = {}\n\n  // find all users that match given query\n  users = Meteor.users.find({ \"emails.address\": { $regex: query,$options: '-i' },\"roles\":\"University residence\",\"profile.homestayId\":\"\" })\n  console.log(users)\n  users.forEach(function(data){\n    item['id']=data._id+'-'+data.profile.name\n    item['text']=data.emails[0].address\n    // set image or default image\n    // if (data.profile.image)\n    //   item['avatar_url']= data.profile.image\n    // else\n    //   item['avatar_url']= '/img/profiles/default.png'\n    // // get email if exist\n    if (data.emails)\n      item['name']= data.profile.name\n    response.push(item)\n    item ={}\n\n  })\n  return response;\n}, {\n  url: \"search-university\",\n  httpMethod: \"get\",\n  getArgsFromRequest: function (request) {\n\n    // Let's say we want this function to accept a url-encoded request with\n    // fields named `q`\n    var query = request.query;\n    console.log(query.q)\n    return [query.q];\n  }\n})\n","/*\nMeteor.publish('homestayList', function(limit, skip) {\n  Counts.publish(this, 'homestay-count', Meteor.users.find({\"roles\":\"Homestay\"}));\n  var homestays = Meteor.users.find({\"roles\":\"Homestay\"},{fields:{profile:1, roles:1, emails:1}, sort:{'createdAt':-1} , limit:limit, skip:skip})\n\n  return homestays\n})\n\nMeteor.publish('homestayUsers', function() {\n  Counts.publish(this, 'homestayUser-count', Meteor.users.find({\"roles\":\"Homestay\",\"profile.homestayId\":\"\"}));\n  var homestayUser = Meteor.users.find({\"roles\":\"Homestay\",\"profile.homestayId\":\"\"},{fields:{emails:1 }, sort:{'createdAt':-1}})\n\n  return homestayUser\n  \n})\n\nMeteor.publish('homestayArray', function() {\n  var homestays = Meteor.users.find({})\n\n  return homestays\n})*/\n\n\nvar secret = Meteor.settings.private.stripe.testSecretKey;\nvar Stripe = StripeAPI(secret);\n\nMeteor.publish('cards', function() {\n\n    var self = this;\n    var user = Meteor.users.findOne({\n        _id: this.userId\n    });\n    // Some very interesting books\n    if(user && user.stripe){\n\n      Stripe.customers.retrieveCard(\n          user.stripe.customerId,\n          user.stripe.cardId,\n          function(err, card) {\n            if(err){\n              return self.ready();\n            }\n            else{\n                self.added('cards', Random.id(),card);\n                return self.ready();\n            }\n          }\n        );\n    } else {\n      return self.ready();\n    }\n\n  });","import '/imports/startup/server';\nimport { Settings } from '/imports/api/admin/settings/settings.js';\nimport { Bookings } from '/imports/api/booking/bookings.js';\nimport { Homestays } from '/imports/api/homestays/homestays.js';\nimport { updateBookingStatusCronJob } from '/imports/api/booking/methods.js';\nimport { sendHomestayBookingCronJob } from '/imports/api/homestays/methods.js';\nimport { saveMailData } from '/imports/api/email/method.js';\nimport { updateBooking } from '/imports/api/booking/methods.js';\nimport { updatePayment } from '/imports/api/payment/methods.js';\nimport '/imports/api/email/methods.js';\nimport { Payments } from '/imports/api/payment/payments.js';\n\n// add roles\nMeteor.users.after.insert(function (userId, doc) {\n  // add role to user\n  Roles.addUsersToRoles(doc._id, doc.profile.role)\n});\n\n// CRAETE ADMIN USER\nMeteor.startup(function () {\n  var admin = Meteor.users.findOne({ emails: { $elemMatch: { address: 'admin@admin.com' } } });\n  var denise = Meteor.users.findOne({ emails: { $elemMatch: { address: 'denise@admin.com' } } });\n  var aly = Meteor.users.findOne({ emails: { $elemMatch: { address: 'aly@admin.com' } } })\n  if (!admin) {\n    Accounts.createUser({\n      email: 'admin@admin.com',\n      password: 'admin',\n      profile: {\n        firstName: 'admin',\n        lastName: 'admin',\n        name: 'admin' + ' ' + 'admin',\n        mobile: 9447598547,\n        role: 'Admin',\n        country: 'India'\n      }\n    })\n  }\n  if (!denise) {\n    Accounts.createUser({\n      email: 'denise@admin.com',\n      password: 'denise',\n      profile: {\n        firstName: 'Denise',\n        lastName: 'Schroeder',\n        name: 'Denise' + ' ' + 'Schroeder',\n        mobile: 9447598547,\n        role: 'Admin',\n        country: 'India'\n      }\n    })\n  }\n  if (!aly) {\n    Accounts.createUser({\n      email: 'aly@admin.com',\n      password: 'aly',\n      profile: {\n        firstName: 'Aly',\n        lastName: 'Aly',\n        name: 'aly' + ' ' + 'aly',\n        mobile: 9447598547,\n        role: 'Admin',\n        country: 'India'\n      }\n    })\n  }\n  fs = Npm.require('fs');\n});\n\n\n\n// Config for fileupload\nMeteor.startup(function () {\n  UploadServer.init({\n    tmpDir: process.env.PWD + '/.uploads/tmp',\n    uploadDir: process.env.PWD + '/.uploads/',\n    imageVersions: { thumbnailBig: { width: 1600, height: 683 } },\n    acceptFileTypes: /(\\.|\\/)(gif|jpe?g|png)$/i,\n    checkCreateDirectories: true, //create the directories for you\n    getFileName: function (file, formData) {\n      var homestayId = formData._id\n      var fileExtension = file.name.substr((file.name.lastIndexOf('.') + 1));\n      // image.push({url:fileInfo.baseUrl+fileInfo.name,_id:new Meteor.Collection.ObjectID()._str})\n      return new Date().getTime() + '-' + Math.floor((Math.random() * 10000) + 1) + '.' + fileExtension;\n    },\n    finished: function (file, folder, formFields) { }\n    // finished(fileInfo, formFields) {\n    //     var image = []\n    //     console.log(formFields)\n    //     console.log(typeof formFields)\n    //     var homestayId = formFields._id\n    //     console.log(homestayId)\n    //     image.push({url:fileInfo.baseUrl+fileInfo.name,_id:new Meteor.Collection.ObjectID()._str})\n    //     Meteor.call('addHomestayImage',homestayId,image)\n    //  }\n  });\n});\nvar MyLogger = function (opts) {\n  console.log('Level', opts.level);\n  console.log('Message', opts.message);\n  console.log('Tag', opts.tag);\n}\nSyncedCron.config({\n  logger: MyLogger\n});\n// cron for Move expired campaigns as inactive\nSyncedCron.add({\n  name: 'Process homestay request',\n  schedule: function (parser) {\n    // parser is a later.parse object\n    // every day at 12:05 am\n    return parser.text('every 1 hour');\n  },\n  job: function () {\n    let processingTime = Settings.find().fetch()[0].homestay_processing_time;\n    let bookingTime = new Date();\n    console.log(\"current Date : \" + new Date())\n    let data = {};\n    bookingTime.setHours(bookingTime.getHours() - processingTime);\n    console.log(\"bookingTime : \" + bookingTime)\n    console.log(\"bookings\")\n    console.log(Bookings.find({ \"processStartTime\": { $lte: bookingTime }, customerId: { $exists: true }, bookingStatus: 0 }).fetch())\n\n    let bookings = Bookings.find({ \"processStartTime\": { $lte: bookingTime }, customerId: { $exists: true }, bookingStatus: 0 }).fetch();\n\n    if (bookings.length > 0) {\n      bookings.map(function (booking, index) {\n\n        console.log(bookingTime.getHours())\n        booking.processStartTime.setHours(booking.processStartTime.getHours() + processingTime);\n        console.log(\"booking.processStartTime\")\n        console.log(booking.processStartTime)\n        console.log(booking.processStartTime.getTime())\n        if (booking.processStartTime.getTime() <= new Date().getTime()) {\n          let homestay = Homestays.find({ \"_id\": booking.roomId }).fetch()[0]\n          console.log(\"current homestay : \" + homestay.name)\n          let today = new Date();\n          data['status'] = 2\n          data['_id'] = booking._id\n          data['processStartTime'] = new Date(today.getFullYear(), today.getMonth(), today.getDate(), today.getHours(), today.getMinutes(), 0, 0);\n\n          updateBookingStatusCronJob.call(data, (error, response) => {\n            if (error) {\n              console.log(\"error\")\n              console.log(error)\n            } else {\n              console.log(\"response\")\n              console.log(response)\n\n              booking = Bookings.find({ _id: booking._id }).fetch()[0];\n              let email_options = {}\n              let params = {}\n              if (booking.bookingStatus != 2) {\n\n                email_options['subject'] = booking.roomType + ' Booking'\n                email_options['message'] = 'Rejected ' + booking.roomType + ' ' + homestay.name\n\n                email_options['recipient'] = Meteor.users.findOne({ \"_id\": booking.ownerId }).emails[0].address;\n                params = {\n                  recipient_name: Meteor.users.findOne({ \"_id\": booking.ownerId }).profile.name\n                };\n                email_options['params'] = params;\n                email_options['mail_template'] = \"notification\";\n                console.log(\"reject1 email_options agency\")\n                console.log(email_options)\n                saveMailData.call(email_options, (error, response) => {\n                  if (error)\n                    console.log(error)\n                })\n              } else if (booking.bookingStatus == 2) {\n                console.log(\"booking failed\")\n\n                email_options['subject'] = booking.roomType + ' Booking'\n                email_options['message'] = 'Rejected ' + booking.roomType + ' ' + homestay.name + '. Please change your search criteria and make a new request.'\n\n                email_options['recipient'] = Meteor.users.findOne({ \"_id\": booking.ownerId }).emails[0].address;\n                params = {\n                  recipient_name: Meteor.users.findOne({ \"_id\": booking.ownerId }).profile.name\n                };\n\n                email_options['params'] = params;\n                email_options['mail_template'] = \"notification\"\n                console.log(\"reject email_options agency\")\n                console.log(email_options)\n                saveMailData.call(email_options, (error, response) => {\n                  if (error)\n                    console.log(error)\n                })\n              }\n\n              // check homestay alternative choice then send mail\n              if (booking.multipleChoice) {\n                console.log(\"mulipleChoice client\")\n                console.log(\"current choice : \" + booking.currentChoice)\n                if (booking.currentChoice == 2) {\n                  let homestay_choice = {\n                    homestayId: booking.choice2\n                  }\n                  sendHomestayBookingCronJob.call(homestay_choice, (error, response) => {\n                    if (error)\n                      console.log(error)\n                  })\n\n                } else if (booking.currentChoice == 3 && booking.bookingStatus == 0) {\n                  let homestay_choice = {\n                    homestayId: booking.choice3\n                  }\n                  sendHomestayBookingCronJob.call(homestay_choice, (error, response) => { })\n                }\n              }\n            }\n          });\n        }\n      })\n    }\n  }\n});\n\n// cron for send mail notification in dayAfter14Days and dayAfter11Days\nSyncedCron.add({\n  name: 'Notify user booking details ',\n  schedule: function (parser) {\n    // parser is a later.parse object\n    // every day at 12:05 am\n    return parser.text('every day at 12:05 am');\n  },\n  job: function () {\n    let currentDate = new Date();\n    console.log(\"current Date : \" + currentDate);\n    let now = new Date();\n    let dayAfter14Days = new Date(now.setDate(now.getDate() + 15));\n    dayAfter14Days = new Date(dayAfter14Days.getFullYear(), dayAfter14Days.getMonth(), dayAfter14Days.getDate(), 0, 0, 0, 0)\n    now = new Date();\n    let dayAfter11Days = new Date(now.setDate(now.getDate() + 12));\n    dayAfter11Days = new Date(dayAfter11Days.getFullYear(), dayAfter11Days.getMonth(), dayAfter11Days.getDate(), 0, 0, 0, 0)\n\n    let bookingsDayAfter14Days = Bookings.find({ \"checkinDate\": { $lte: dayAfter14Days }, customerId: { $exists: true }, bookingStatus: 1, paymentStatus: 0 }).fetch();\n    console.log(\"DayAfter14Days length --------------\" + bookingsDayAfter14Days.length)\n    console.log(\"dayAfter14Days        --------------\" + dayAfter14Days)\n    if (bookingsDayAfter14Days.length > 0) {\n      bookingsDayAfter14Days.map(function (booking, index) {\n        console.log(\"----------\" + booking.checkinDate.getDate())\n        console.log(\"------------\" + booking.checkinDate)\n        let email_options = {};\n        let params = {};\n        let homestay = Homestays.find({ \"_id\": booking.roomId }).fetch()[0];\n        let userId = booking.ownerId;\n        let user = Meteor.users.findOne({ \"_id\": userId });\n        // console.log(\"booking.checkinDate : \"+booking.checkinDate)\n        // console.log(\"dayAfter14Days : \"+dayAfter14Days)\n        // console.log(\"homestay\")\n        // console.log(homestay)\n        // console.log(\"current homestay : \" + homestay.name)\n        //get b4 14 day checkinDate\n        if (parseInt(booking.checkinDate.getDate())+1 === dayAfter14Days.getDate()) {\n          console.log(\"inside if in dayAfter14Days\")\n          // console.log(\"notification before 14 days\")\n          email_options['subject'] = booking.roomType + ' Booking'\n          email_options['message'] = 'Your payment for ' + booking.roomType + ' ' + homestay.name + ' will be processed next week.'\n          email_options['recipient'] = Meteor.users.findOne({ \"_id\": booking.ownerId }).emails[0].address;\n          params = {\n            recipient_name: Meteor.users.findOne({ \"_id\": booking.ownerId }).profile.name\n          };\n          email_options['params'] = params;\n          email_options['mail_template'] = \"notification\"\n\n          // console.log(\"b4 14days notification email_options\")\n          // console.log(email_options)\n\n          saveMailData.call(email_options, (error, response) => { })\n        }\n      })\n    }\n\n    let bookingsDayAfter11Days = Bookings.find({ \"checkinDate\": { $lte: dayAfter11Days }, customerId: { $exists: true }, bookingStatus: 1, paymentStatus: 0 }).fetch();\n    console.log(\"dayAfter11Days length --------------\" + bookingsDayAfter11Days.length)\n    console.log(\"dayAfter11Days        --------------\" + dayAfter11Days)\n    if (bookingsDayAfter11Days.length > 0) {\n      bookingsDayAfter11Days.map(function (booking, index) {\n        console.log(\"----------\" + booking.checkinDate.getDate())\n        console.log(\"------------\" + booking.checkinDate)\n        let email_options = {};\n        let params = {};\n        let homestay = Homestays.find({ \"_id\": booking.roomId }).fetch()[0];\n        let userId = booking.ownerId;\n        let user = Meteor.users.findOne({ \"_id\": userId });\n        //get b4 11 day checkinDate\n        if (parseInt(booking.checkinDate.getDate())+1 == dayAfter11Days.getDate()) {\n          console.log(\"notification before 11 days\")\n          email_options['subject'] = booking.roomType + ' Booking'\n          email_options['message'] = 'Your payment for ' + booking.roomType + ' ' + homestay.name + ' will be processed next week.'\n          email_options['recipient'] = Meteor.users.findOne({ \"_id\": booking.ownerId }).emails[0].address;\n          params = {\n            recipient_name: Meteor.users.findOne({ \"_id\": booking.ownerId }).profile.name\n          };\n          email_options['params'] = params;\n          email_options['mail_template'] = \"notification\"\n\n          // Meteor.call('sendOrderMail',email_options)\n          saveMailData.call(email_options, (error, response) => { })\n        }\n      })\n    }\n  }\n})\n\n\n\n// cron for Payment\nSyncedCron.add({\n  name: 'Booking payment',\n  schedule: function (parser) {\n    // parser is a later.parse object\n    // every day at 12:05 am\n      return parser.text('every 3 hours');\n  },\n    job: function () {\n      let currentDate = new Date();\n      console.log(\"current Date : \" + currentDate);\n    let now = new Date();\n    let dayAfter7Days = new Date(now.setDate(now.getDate() + 8));\n    dayAfter7Days = new Date(dayAfter7Days.getFullYear(), dayAfter7Days.getMonth(), dayAfter7Days.getDate(), 0, 0, 0, 0)\n      \n    let bookingsDayAfter7Days = Bookings.find({ \"checkinDate\": { $lte: dayAfter7Days }, customerId: { $exists: true }, bookingStatus: 1, paymentStatus: 0 }).fetch();\n    console.log(\"dayAfter7Days length--------------\" + bookingsDayAfter7Days.length)\n    if (bookingsDayAfter7Days.length > 0) {\n      bookingsDayAfter7Days.map(function (booking, index) {\n        console.log(\"----------\" + booking.checkinDate.getDate())\n        console.log(\"------------\" + booking.checkinDate)\n        let email_options = {};\n        let params = {};\n        let homestay = Homestays.find({ \"_id\": booking.roomId }).fetch()[0];\n        let userId = booking.ownerId;\n        let user = Meteor.users.findOne({ \"_id\": userId });\n        //get b4 7 day checkinDate\n        if (booking.checkinDate.getDate()+1 == dayAfter7Days.getDate()) {\n          console.log(\"-----Enter 7 Days function --------\")\n          let self = this;\n          // call meteor method for direct stripe payment\n          // input: user stripeid,amount,paymane data (for payment collection)\n          console.log(\"-----orderId: \", booking._id,\n            \" roomId:\", booking.roomId,\n            \"roomType:\", booking.roomType,\n            \"  userId:\", booking.ownerId, \"-----\")\n          let paymentData = {\n            orderId: booking._id,\n            roomId: booking.roomId,\n            roomType: booking.roomType,\n            userId: booking.ownerId,\n            userRole: user.roles[0],\n            paymentAmount: booking.paymentAmount,\n            paymentStatus: -1\n          }\n          Meteor.call('stripeDirectPayment', user.stripe.customerId, paymentData.paymentAmount, paymentData, booking.roomId, function (error, res) {\n            if (error) {\n              console.log(\"---stripeDirectPayment -----error---\");\n              console.log(error)\n            } else {\n              console.log(\"---stripeDirectPayment -----res---\");\n              console.log(res)\n              if (res.error) {\n                console.log(\"---stripeDirectPayment -----res.error---\");\n                console.log(res.error)\n                let paymentArg = \"\";\n                paymentArg = { paymentStatus: -1 };\n\n                //update paymentStatus -1\n                updateBooking.call({ bookingId: paymentData.orderId, bookingDetail: paymentArg }, (error, data) => {\n                  if (error) {\n                    console.log(error)\n                  } else {\n                    console.log(data)\n                  }\n                })\n              } else {\n                console.log(\"---------------\");\n                let paymentArg = \"\";\n                let bookingArg = \"\";\n\n                paymentArg = { paymentStatus: 1 };\n                bookingArg = { paymentStatus: true };\n\n\n                // if (res.paid) {\n                //   paymentArg = { paymentStatus: 1 };\n                //   bookingArg = { paymentStatus: true };\n                // } else {\n                //   paymentArg = { paymentStatus: 0 };\n                //   bookingArg = { paymentStatus: false };\n                // }\n                //update paymentStatus\n\n                updateBooking.call({ bookingId: paymentData.orderId, bookingDetail: paymentArg }, (error, response) => {\n                  if (error) {\n                    console.log(\"----error updated payment----\");\n\n                  } else {\n\n                    let paymentId = Payments.findOne({ \"orderId\": paymentData.orderId })._id;\n                    updatePayment.call({ paymentId: paymentId, options: paymentArg }, (error, data) => {\n                      if (error) {\n                        console.log(\"---------Update PaymentStatus error-------\");\n                        console.log(error)\n                      } else {\n                        console.log(\"---------Updated PaymentStatus -------\");\n                        console.log(data)\n                        var options = {}\n\n                        options['subject'] = 'OurHomeStay - Payment Successfull'\n                        options['message'] = 'Payment Successfull. Thank You for booking through OurHomeStay.'\n                        options['email'] = user.emails[0].address\n                        // Method for send email\n                        Meteor.call(\"sendMail\", options, function (error) {\n                          if (error) {\n                            //console.log(error)\n                          }\n                        })\n                        options['subject'] = 'OurHomeStay - Booking Successfull'\n                        options['message'] = 'Booking Successfull. Your booking for ' + homestay.name + ' is successfull. Your checkin date is ' + moment(booking.checkinDate).format(\"MMM Do YY\");\n                        options['email'] = user.emails[0].address\n                        // Method for send email\n                        Meteor.call(\"sendMail\", options, function (error) {\n                          if (error) {\n                            //console.log(error)\n                          }\n                        })\n                        console.log(\"message----------===========\", paymentData.roomId);\n                        let OwnerEmail = Meteor.users.findOne({ \"profile.homestayId\": paymentData.roomId }).emails[0].address;\n                        console.log(\"message----------===========\", OwnerEmail);\n                        options['subject'] = 'OurHomeStay - User Payment'\n                        options['message'] = 'Payment Successful. ' + user.profile.name + ' has made Payment.'\n                        options['email'] = OwnerEmail\n                        // Method for send email\n                        Meteor.call(\"sendMail\", options, function (error) {\n                          if (error) {\n                            //console.log(error)\n                          }\n                        })\n                        //console.log(\"Payment Successfull\")\n                      }\n                    });\n                  }\n                })\n              }\n            }\n          })\n        }\n      })\n    }\n  }\n})\n\n\n// cron for Payment\nSyncedCron.add({\n  name: 'Cancellation booking',\n  schedule: function (parser) {\n    // parser is a later.parse object\n    // every day at 12:05 am\n      return parser.text('every day at 12:05 am');\n  },\n  job: function () {\n    let cancellationDays = Settings.find().fetch()[0].booking_cancellation+1;\n    let now = new Date();\n    let dayAfterCancelDay = new Date(now.setDate(now.getDate() + cancellationDays)); // for Cancellation \n    dayAfterCancelDay = new Date(dayAfterCancelDay.getFullYear(), dayAfterCancelDay.getMonth(), dayAfterCancelDay.getDate(), 0, 0, 0, 0)\n    console.log(\"dayAfterCancelDay\", dayAfterCancelDay)\n\n    let bookingsDayAfterCancelDay = Bookings.find({ \"checkinDate\": { $lte: dayAfterCancelDay }, customerId: { $exists: true }, bookingStatus: 1, paymentStatus: 0 }).fetch();\n    console.log(\"dayAfterCancelDay length--------------\" + bookingsDayAfterCancelDay.length)\n    if (bookingsDayAfterCancelDay.length > 0) {\n      bookingsDayAfterCancelDay.map(function (booking, index) {\n        console.log(\"----------\" + booking.checkinDate.getDate())\n        console.log(\"----------\" + booking.checkinDate)\n        let email_options = {};\n        let params = {};\n        let homestay = Homestays.find({ \"_id\": booking.roomId }).fetch()[0];\n        let userId = booking.ownerId;\n        let user = Meteor.users.findOne({ \"_id\": userId });\n        if (bookingsDayAfterCancelDay.length > 0) {\n          //get b4 3 day checkinDate\n            console.log(\"-----Enter 3 Days function --------\")\n            let paymentArg = \"\";\n                paymentArg = { bookingStatus: -1 };\n                updateBooking.call({ bookingId: booking._id, bookingDetail: paymentArg }, (error, data) => {\n              if (error) {\n                console.log(error)\n              } else {\n                console.log(data)\n              }\n            })\n          }\n\n      })\n    }\n  }\n})\n\n\nSyncedCron.add({\n  name: 'send email function',\n  schedule: function (parser) {\n    // parser is a later.parse object\n    // every day at 12:05 am\n    return parser.text('every 5 minutes');\n  },\n  job: function () {\n    console.log(\"--send email function--\")\n    Meteor.call('process.sendemail');\n  }\n});\n\n\n\nSyncedCron.start();\nconsole.log(new Date())\n// create an account object in users collection (only Homestay and University residence )\nAccounts.onCreateUser(function (options, user) {\n\n  // Use provided profile in options, or create an empty object\n  user.profile = options.profile || {};\n\n\n  // Returns the user object\n  return user;\n});\n"]}